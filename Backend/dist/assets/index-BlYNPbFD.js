var OI=Object.defineProperty;var G4=n=>{throw TypeError(n)};var DI=(n,t,e)=>t in n?OI(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var It=(n,t,e)=>DI(n,typeof t!="symbol"?t+"":t,e),$b=(n,t,e)=>t.has(n)||G4("Cannot "+e);var u=(n,t,e)=>($b(n,t,"read from private field"),e?e.call(n):t.get(n)),k=(n,t,e)=>t.has(n)?G4("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,e),C=(n,t,e,r)=>($b(n,t,"write to private field"),r?r.call(n,e):t.set(n,e),e),F=(n,t,e)=>($b(n,t,"access private method"),e);var Sr=(n,t,e,r)=>({set _(i){C(n,t,i,e)},get _(){return u(n,t,r)}});function jI(n,t){for(var e=0;e<t.length;e++){const r=t[e];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function e(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=e(i);fetch(i.href,s)}})();var x$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ZN(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var tL={exports:{}},dw={},eL={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p2=Symbol.for("react.element"),BI=Symbol.for("react.portal"),zI=Symbol.for("react.fragment"),UI=Symbol.for("react.strict_mode"),qI=Symbol.for("react.profiler"),HI=Symbol.for("react.provider"),$I=Symbol.for("react.context"),VI=Symbol.for("react.forward_ref"),WI=Symbol.for("react.suspense"),GI=Symbol.for("react.memo"),XI=Symbol.for("react.lazy"),X4=Symbol.iterator;function YI(n){return n===null||typeof n!="object"?null:(n=X4&&n[X4]||n["@@iterator"],typeof n=="function"?n:null)}var nL={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rL=Object.assign,iL={};function Tg(n,t,e){this.props=n,this.context=t,this.refs=iL,this.updater=e||nL}Tg.prototype.isReactComponent={};Tg.prototype.setState=function(n,t){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,t,"setState")};Tg.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function sL(){}sL.prototype=Tg.prototype;function M3(n,t,e){this.props=n,this.context=t,this.refs=iL,this.updater=e||nL}var F3=M3.prototype=new sL;F3.constructor=M3;rL(F3,Tg.prototype);F3.isPureReactComponent=!0;var Y4=Array.isArray,oL=Object.prototype.hasOwnProperty,O3={current:null},aL={key:!0,ref:!0,__self:!0,__source:!0};function lL(n,t,e){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)oL.call(t,r)&&!aL.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=e;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:p2,type:n,key:s,ref:o,props:i,_owner:O3.current}}function KI(n,t){return{$$typeof:p2,type:n.type,key:t,ref:n.ref,props:n.props,_owner:n._owner}}function D3(n){return typeof n=="object"&&n!==null&&n.$$typeof===p2}function QI(n){var t={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(e){return t[e]})}var K4=/\/+/g;function Vb(n,t){return typeof n=="object"&&n!==null&&n.key!=null?QI(""+n.key):t.toString(36)}function ny(n,t,e,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case p2:case BI:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+Vb(o,0):r,Y4(i)?(e="",n!=null&&(e=n.replace(K4,"$&/")+"/"),ny(i,t,e,"",function(c){return c})):i!=null&&(D3(i)&&(i=KI(i,e+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(K4,"$&/")+"/")+n)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Y4(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+Vb(s,a);o+=ny(s,t,e,l,i)}else if(l=YI(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+Vb(s,a++),o+=ny(s,t,e,l,i);else if(s==="object")throw t=String(n),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Sv(n,t,e){if(n==null)return n;var r=[],i=0;return ny(n,r,"","",function(s){return t.call(e,s,i++)}),r}function JI(n){if(n._status===-1){var t=n._result;t=t(),t.then(function(e){(n._status===0||n._status===-1)&&(n._status=1,n._result=e)},function(e){(n._status===0||n._status===-1)&&(n._status=2,n._result=e)}),n._status===-1&&(n._status=0,n._result=t)}if(n._status===1)return n._result.default;throw n._result}var ki={current:null},ry={transition:null},ZI={ReactCurrentDispatcher:ki,ReactCurrentBatchConfig:ry,ReactCurrentOwner:O3};function cL(){throw Error("act(...) is not supported in production builds of React.")}ke.Children={map:Sv,forEach:function(n,t,e){Sv(n,function(){t.apply(this,arguments)},e)},count:function(n){var t=0;return Sv(n,function(){t++}),t},toArray:function(n){return Sv(n,function(t){return t})||[]},only:function(n){if(!D3(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};ke.Component=Tg;ke.Fragment=zI;ke.Profiler=qI;ke.PureComponent=M3;ke.StrictMode=UI;ke.Suspense=WI;ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZI;ke.act=cL;ke.cloneElement=function(n,t,e){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=rL({},n.props),i=n.key,s=n.ref,o=n._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=O3.current),t.key!==void 0&&(i=""+t.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in t)oL.call(t,l)&&!aL.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=e;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:p2,type:n.type,key:i,ref:s,props:r,_owner:o}};ke.createContext=function(n){return n={$$typeof:$I,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:HI,_context:n},n.Consumer=n};ke.createElement=lL;ke.createFactory=function(n){var t=lL.bind(null,n);return t.type=n,t};ke.createRef=function(){return{current:null}};ke.forwardRef=function(n){return{$$typeof:VI,render:n}};ke.isValidElement=D3;ke.lazy=function(n){return{$$typeof:XI,_payload:{_status:-1,_result:n},_init:JI}};ke.memo=function(n,t){return{$$typeof:GI,type:n,compare:t===void 0?null:t}};ke.startTransition=function(n){var t=ry.transition;ry.transition={};try{n()}finally{ry.transition=t}};ke.unstable_act=cL;ke.useCallback=function(n,t){return ki.current.useCallback(n,t)};ke.useContext=function(n){return ki.current.useContext(n)};ke.useDebugValue=function(){};ke.useDeferredValue=function(n){return ki.current.useDeferredValue(n)};ke.useEffect=function(n,t){return ki.current.useEffect(n,t)};ke.useId=function(){return ki.current.useId()};ke.useImperativeHandle=function(n,t,e){return ki.current.useImperativeHandle(n,t,e)};ke.useInsertionEffect=function(n,t){return ki.current.useInsertionEffect(n,t)};ke.useLayoutEffect=function(n,t){return ki.current.useLayoutEffect(n,t)};ke.useMemo=function(n,t){return ki.current.useMemo(n,t)};ke.useReducer=function(n,t,e){return ki.current.useReducer(n,t,e)};ke.useRef=function(n){return ki.current.useRef(n)};ke.useState=function(n){return ki.current.useState(n)};ke.useSyncExternalStore=function(n,t,e){return ki.current.useSyncExternalStore(n,t,e)};ke.useTransition=function(){return ki.current.useTransition()};ke.version="18.3.1";eL.exports=ke;var Z=eL.exports;const Ot=ZN(Z),uL=jI({__proto__:null,default:Ot},[Z]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tM=Z,eM=Symbol.for("react.element"),nM=Symbol.for("react.fragment"),rM=Object.prototype.hasOwnProperty,iM=tM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sM={key:!0,ref:!0,__self:!0,__source:!0};function hL(n,t,e){var r,i={},s=null,o=null;e!==void 0&&(s=""+e),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)rM.call(t,r)&&!sM.hasOwnProperty(r)&&(i[r]=t[r]);if(n&&n.defaultProps)for(r in t=n.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:eM,type:n,key:s,ref:o,props:i,_owner:iM.current}}dw.Fragment=nM;dw.jsx=hL;dw.jsxs=hL;tL.exports=dw;var it=tL.exports,dL={exports:{}},Ts={},fL={exports:{}},pL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function t(W,tt){var ct=W.length;W.push(tt);t:for(;0<ct;){var St=ct-1>>>1,T=W[St];if(0<i(T,tt))W[St]=tt,W[ct]=T,ct=St;else break t}}function e(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var tt=W[0],ct=W.pop();if(ct!==tt){W[0]=ct;t:for(var St=0,T=W.length,$=T>>>1;St<$;){var X=2*(St+1)-1,nt=W[X],ot=X+1,at=W[ot];if(0>i(nt,ct))ot<T&&0>i(at,nt)?(W[St]=at,W[ot]=ct,St=ot):(W[St]=nt,W[X]=ct,St=X);else if(ot<T&&0>i(at,ct))W[St]=at,W[ot]=ct,St=ot;else break t}}return tt}function i(W,tt){var ct=W.sortIndex-tt.sortIndex;return ct!==0?ct:W.id-tt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,g=3,f=!1,w=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(W){for(var tt=e(c);tt!==null;){if(tt.callback===null)r(c);else if(tt.startTime<=W)r(c),tt.sortIndex=tt.expirationTime,t(l,tt);else break;tt=e(c)}}function N(W){if(v=!1,_(W),!w)if(e(l)!==null)w=!0,J(L);else{var tt=e(c);tt!==null&&rt(N,tt.startTime-W)}}function L(W,tt){w=!1,v&&(v=!1,y(D),D=-1),f=!0;var ct=g;try{for(_(tt),d=e(l);d!==null&&(!(d.expirationTime>tt)||W&&!P());){var St=d.callback;if(typeof St=="function"){d.callback=null,g=d.priorityLevel;var T=St(d.expirationTime<=tt);tt=n.unstable_now(),typeof T=="function"?d.callback=T:d===e(l)&&r(l),_(tt)}else r(l);d=e(l)}if(d!==null)var $=!0;else{var X=e(c);X!==null&&rt(N,X.startTime-tt),$=!1}return $}finally{d=null,g=ct,f=!1}}var O=!1,I=null,D=-1,V=5,Q=-1;function P(){return!(n.unstable_now()-Q<V)}function j(){if(I!==null){var W=n.unstable_now();Q=W;var tt=!0;try{tt=I(!0,W)}finally{tt?Y():(O=!1,I=null)}}else O=!1}var Y;if(typeof b=="function")Y=function(){b(j)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,dt=H.port2;H.port1.onmessage=j,Y=function(){dt.postMessage(null)}}else Y=function(){x(j,0)};function J(W){I=W,O||(O=!0,Y())}function rt(W,tt){D=x(function(){W(n.unstable_now())},tt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_continueExecution=function(){w||f||(w=!0,J(L))},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_getFirstCallbackNode=function(){return e(l)},n.unstable_next=function(W){switch(g){case 1:case 2:case 3:var tt=3;break;default:tt=g}var ct=g;g=tt;try{return W()}finally{g=ct}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(W,tt){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ct=g;g=W;try{return tt()}finally{g=ct}},n.unstable_scheduleCallback=function(W,tt,ct){var St=n.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?St+ct:St):ct=St,W){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=ct+T,W={id:h++,callback:tt,priorityLevel:W,startTime:ct,expirationTime:T,sortIndex:-1},ct>St?(W.sortIndex=ct,t(c,W),e(l)===null&&W===e(c)&&(v?(y(D),D=-1):v=!0,rt(N,ct-St))):(W.sortIndex=T,t(l,W),w||f||(w=!0,J(L))),W},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(W){var tt=g;return function(){var ct=g;g=tt;try{return W.apply(this,arguments)}finally{g=ct}}}})(pL);fL.exports=pL;var oM=fL.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aM=Z,ks=oM;function Rt(n){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+n,e=1;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+n+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gL=new Set,f0={};function jd(n,t){Ag(n,t),Ag(n+"Capture",t)}function Ag(n,t){for(f0[n]=t,n=0;n<t.length;n++)gL.add(t[n])}var Wl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$x=Object.prototype.hasOwnProperty,lM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Q4={},J4={};function cM(n){return $x.call(J4,n)?!0:$x.call(Q4,n)?!1:lM.test(n)?J4[n]=!0:(Q4[n]=!0,!1)}function uM(n,t,e,r){if(e!==null&&e.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:e!==null?!e.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function hM(n,t,e,r){if(t===null||typeof t>"u"||uM(n,t,e,r))return!0;if(r)return!1;if(e!==null)switch(e.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ti(n,t,e,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=e,this.propertyName=n,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Gr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Gr[n]=new Ti(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var t=n[0];Gr[t]=new Ti(t,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Gr[n]=new Ti(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Gr[n]=new Ti(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Gr[n]=new Ti(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Gr[n]=new Ti(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Gr[n]=new Ti(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Gr[n]=new Ti(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Gr[n]=new Ti(n,5,!1,n.toLowerCase(),null,!1,!1)});var j3=/[\-:]([a-z])/g;function B3(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var t=n.replace(j3,B3);Gr[t]=new Ti(t,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var t=n.replace(j3,B3);Gr[t]=new Ti(t,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var t=n.replace(j3,B3);Gr[t]=new Ti(t,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Gr[n]=new Ti(n,1,!1,n.toLowerCase(),null,!1,!1)});Gr.xlinkHref=new Ti("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Gr[n]=new Ti(n,1,!1,n.toLowerCase(),null,!0,!0)});function z3(n,t,e,r){var i=Gr.hasOwnProperty(t)?Gr[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(hM(t,e,i,r)&&(e=null),r||i===null?cM(t)&&(e===null?n.removeAttribute(t):n.setAttribute(t,""+e)):i.mustUseProperty?n[i.propertyName]=e===null?i.type===3?!1:"":e:(t=i.attributeName,r=i.attributeNamespace,e===null?n.removeAttribute(t):(i=i.type,e=i===3||i===4&&e===!0?"":""+e,r?n.setAttributeNS(r,t,e):n.setAttribute(t,e))))}var Zl=aM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_v=Symbol.for("react.element"),Tf=Symbol.for("react.portal"),Rf=Symbol.for("react.fragment"),U3=Symbol.for("react.strict_mode"),Vx=Symbol.for("react.profiler"),mL=Symbol.for("react.provider"),vL=Symbol.for("react.context"),q3=Symbol.for("react.forward_ref"),Wx=Symbol.for("react.suspense"),Gx=Symbol.for("react.suspense_list"),H3=Symbol.for("react.memo"),xc=Symbol.for("react.lazy"),yL=Symbol.for("react.offscreen"),Z4=Symbol.iterator;function gm(n){return n===null||typeof n!="object"?null:(n=Z4&&n[Z4]||n["@@iterator"],typeof n=="function"?n:null)}var kn=Object.assign,Wb;function Rm(n){if(Wb===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);Wb=t&&t[1]||""}return`
`+Wb+n}var Gb=!1;function Xb(n,t){if(!n||Gb)return"";Gb=!0;var e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(n,[],t)}else{try{t.call()}catch(c){r=c}n.call(t.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{Gb=!1,Error.prepareStackTrace=e}return(n=n?n.displayName||n.name:"")?Rm(n):""}function dM(n){switch(n.tag){case 5:return Rm(n.type);case 16:return Rm("Lazy");case 13:return Rm("Suspense");case 19:return Rm("SuspenseList");case 0:case 2:case 15:return n=Xb(n.type,!1),n;case 11:return n=Xb(n.type.render,!1),n;case 1:return n=Xb(n.type,!0),n;default:return""}}function Xx(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Rf:return"Fragment";case Tf:return"Portal";case Vx:return"Profiler";case U3:return"StrictMode";case Wx:return"Suspense";case Gx:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case vL:return(n.displayName||"Context")+".Consumer";case mL:return(n._context.displayName||"Context")+".Provider";case q3:var t=n.render;return n=n.displayName,n||(n=t.displayName||t.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case H3:return t=n.displayName||null,t!==null?t:Xx(n.type)||"Memo";case xc:t=n._payload,n=n._init;try{return Xx(n(t))}catch{}}return null}function fM(n){var t=n.type;switch(n.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=t.render,n=n.displayName||n.name||"",t.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xx(t);case 8:return t===U3?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Cu(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function wL(n){var t=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function pM(n){var t=wL(n)?"checked":"value",e=Object.getOwnPropertyDescriptor(n.constructor.prototype,t),r=""+n[t];if(!n.hasOwnProperty(t)&&typeof e<"u"&&typeof e.get=="function"&&typeof e.set=="function"){var i=e.get,s=e.set;return Object.defineProperty(n,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,t,{enumerable:e.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[t]}}}}function Ev(n){n._valueTracker||(n._valueTracker=pM(n))}function bL(n){if(!n)return!1;var t=n._valueTracker;if(!t)return!0;var e=t.getValue(),r="";return n&&(r=wL(n)?n.checked?"true":"false":n.value),n=r,n!==e?(t.setValue(n),!0):!1}function n5(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Yx(n,t){var e=t.checked;return kn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:e??n._wrapperState.initialChecked})}function tE(n,t){var e=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;e=Cu(t.value!=null?t.value:e),n._wrapperState={initialChecked:r,initialValue:e,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function xL(n,t){t=t.checked,t!=null&&z3(n,"checked",t,!1)}function Kx(n,t){xL(n,t);var e=Cu(t.value),r=t.type;if(e!=null)r==="number"?(e===0&&n.value===""||n.value!=e)&&(n.value=""+e):n.value!==""+e&&(n.value=""+e);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}t.hasOwnProperty("value")?Qx(n,t.type,e):t.hasOwnProperty("defaultValue")&&Qx(n,t.type,Cu(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(n.defaultChecked=!!t.defaultChecked)}function eE(n,t,e){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+n._wrapperState.initialValue,e||t===n.value||(n.value=t),n.defaultValue=t}e=n.name,e!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,e!==""&&(n.name=e)}function Qx(n,t,e){(t!=="number"||n5(n.ownerDocument)!==n)&&(e==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+e&&(n.defaultValue=""+e))}var Im=Array.isArray;function Gf(n,t,e,r){if(n=n.options,t){t={};for(var i=0;i<e.length;i++)t["$"+e[i]]=!0;for(e=0;e<n.length;e++)i=t.hasOwnProperty("$"+n[e].value),n[e].selected!==i&&(n[e].selected=i),i&&r&&(n[e].defaultSelected=!0)}else{for(e=""+Cu(e),t=null,i=0;i<n.length;i++){if(n[i].value===e){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}t!==null||n[i].disabled||(t=n[i])}t!==null&&(t.selected=!0)}}function Jx(n,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Rt(91));return kn({},t,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function nE(n,t){var e=t.value;if(e==null){if(e=t.children,t=t.defaultValue,e!=null){if(t!=null)throw Error(Rt(92));if(Im(e)){if(1<e.length)throw Error(Rt(93));e=e[0]}t=e}t==null&&(t=""),e=t}n._wrapperState={initialValue:Cu(e)}}function AL(n,t){var e=Cu(t.value),r=Cu(t.defaultValue);e!=null&&(e=""+e,e!==n.value&&(n.value=e),t.defaultValue==null&&n.defaultValue!==e&&(n.defaultValue=e)),r!=null&&(n.defaultValue=""+r)}function rE(n){var t=n.textContent;t===n._wrapperState.initialValue&&t!==""&&t!==null&&(n.value=t)}function SL(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zx(n,t){return n==null||n==="http://www.w3.org/1999/xhtml"?SL(t):n==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Cv,_L=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,e,r,i){MSApp.execUnsafeLocalFunction(function(){return n(t,e,r,i)})}:n}(function(n,t){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=t;else{for(Cv=Cv||document.createElement("div"),Cv.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Cv.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;t.firstChild;)n.appendChild(t.firstChild)}});function p0(n,t){if(t){var e=n.firstChild;if(e&&e===n.lastChild&&e.nodeType===3){e.nodeValue=t;return}}n.textContent=t}var e0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gM=["Webkit","ms","Moz","O"];Object.keys(e0).forEach(function(n){gM.forEach(function(t){t=t+n.charAt(0).toUpperCase()+n.substring(1),e0[t]=e0[n]})});function EL(n,t,e){return t==null||typeof t=="boolean"||t===""?"":e||typeof t!="number"||t===0||e0.hasOwnProperty(n)&&e0[n]?(""+t).trim():t+"px"}function CL(n,t){n=n.style;for(var e in t)if(t.hasOwnProperty(e)){var r=e.indexOf("--")===0,i=EL(e,t[e],r);e==="float"&&(e="cssFloat"),r?n.setProperty(e,i):n[e]=i}}var mM=kn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tA(n,t){if(t){if(mM[n]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Rt(137,n));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Rt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Rt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Rt(62))}}function eA(n,t){if(n.indexOf("-")===-1)return typeof t.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nA=null;function $3(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var rA=null,Xf=null,Yf=null;function iE(n){if(n=v2(n)){if(typeof rA!="function")throw Error(Rt(280));var t=n.stateNode;t&&(t=vw(t),rA(n.stateNode,n.type,t))}}function NL(n){Xf?Yf?Yf.push(n):Yf=[n]:Xf=n}function LL(){if(Xf){var n=Xf,t=Yf;if(Yf=Xf=null,iE(n),t)for(n=0;n<t.length;n++)iE(t[n])}}function PL(n,t){return n(t)}function kL(){}var Yb=!1;function TL(n,t,e){if(Yb)return n(t,e);Yb=!0;try{return PL(n,t,e)}finally{Yb=!1,(Xf!==null||Yf!==null)&&(kL(),LL())}}function g0(n,t){var e=n.stateNode;if(e===null)return null;var r=vw(e);if(r===null)return null;e=r[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break t;default:n=!1}if(n)return null;if(e&&typeof e!="function")throw Error(Rt(231,t,typeof e));return e}var iA=!1;if(Wl)try{var mm={};Object.defineProperty(mm,"passive",{get:function(){iA=!0}}),window.addEventListener("test",mm,mm),window.removeEventListener("test",mm,mm)}catch{iA=!1}function vM(n,t,e,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(e,c)}catch(h){this.onError(h)}}var n0=!1,r5=null,i5=!1,sA=null,yM={onError:function(n){n0=!0,r5=n}};function wM(n,t,e,r,i,s,o,a,l){n0=!1,r5=null,vM.apply(yM,arguments)}function bM(n,t,e,r,i,s,o,a,l){if(wM.apply(this,arguments),n0){if(n0){var c=r5;n0=!1,r5=null}else throw Error(Rt(198));i5||(i5=!0,sA=c)}}function Bd(n){var t=n,e=n;if(n.alternate)for(;t.return;)t=t.return;else{n=t;do t=n,t.flags&4098&&(e=t.return),n=t.return;while(n)}return t.tag===3?e:null}function RL(n){if(n.tag===13){var t=n.memoizedState;if(t===null&&(n=n.alternate,n!==null&&(t=n.memoizedState)),t!==null)return t.dehydrated}return null}function sE(n){if(Bd(n)!==n)throw Error(Rt(188))}function xM(n){var t=n.alternate;if(!t){if(t=Bd(n),t===null)throw Error(Rt(188));return t!==n?null:n}for(var e=n,r=t;;){var i=e.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){e=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===e)return sE(i),n;if(s===r)return sE(i),t;s=s.sibling}throw Error(Rt(188))}if(e.return!==r.return)e=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===e){o=!0,e=i,r=s;break}if(a===r){o=!0,r=i,e=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===e){o=!0,e=s,r=i;break}if(a===r){o=!0,r=s,e=i;break}a=a.sibling}if(!o)throw Error(Rt(189))}}if(e.alternate!==r)throw Error(Rt(190))}if(e.tag!==3)throw Error(Rt(188));return e.stateNode.current===e?n:t}function IL(n){return n=xM(n),n!==null?ML(n):null}function ML(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var t=ML(n);if(t!==null)return t;n=n.sibling}return null}var FL=ks.unstable_scheduleCallback,oE=ks.unstable_cancelCallback,AM=ks.unstable_shouldYield,SM=ks.unstable_requestPaint,Vn=ks.unstable_now,_M=ks.unstable_getCurrentPriorityLevel,V3=ks.unstable_ImmediatePriority,OL=ks.unstable_UserBlockingPriority,s5=ks.unstable_NormalPriority,EM=ks.unstable_LowPriority,DL=ks.unstable_IdlePriority,fw=null,Fa=null;function CM(n){if(Fa&&typeof Fa.onCommitFiberRoot=="function")try{Fa.onCommitFiberRoot(fw,n,void 0,(n.current.flags&128)===128)}catch{}}var Uo=Math.clz32?Math.clz32:PM,NM=Math.log,LM=Math.LN2;function PM(n){return n>>>=0,n===0?32:31-(NM(n)/LM|0)|0}var Nv=64,Lv=4194304;function Mm(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function o5(n,t){var e=n.pendingLanes;if(e===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=e&268435455;if(o!==0){var a=o&~i;a!==0?r=Mm(a):(s&=o,s!==0&&(r=Mm(s)))}else o=e&~i,o!==0?r=Mm(o):s!==0&&(r=Mm(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=e&16),t=n.entangledLanes,t!==0)for(n=n.entanglements,t&=r;0<t;)e=31-Uo(t),i=1<<e,r|=n[e],t&=~i;return r}function kM(n,t){switch(n){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function TM(n,t){for(var e=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Uo(s),a=1<<o,l=i[o];l===-1?(!(a&e)||a&r)&&(i[o]=kM(a,t)):l<=t&&(n.expiredLanes|=a),s&=~a}}function oA(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function jL(){var n=Nv;return Nv<<=1,!(Nv&4194240)&&(Nv=64),n}function Kb(n){for(var t=[],e=0;31>e;e++)t.push(n);return t}function g2(n,t,e){n.pendingLanes|=t,t!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,t=31-Uo(t),n[t]=e}function RM(n,t){var e=n.pendingLanes&~t;n.pendingLanes=t,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=t,n.mutableReadLanes&=t,n.entangledLanes&=t,t=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<e;){var i=31-Uo(e),s=1<<i;t[i]=0,r[i]=-1,n[i]=-1,e&=~s}}function W3(n,t){var e=n.entangledLanes|=t;for(n=n.entanglements;e;){var r=31-Uo(e),i=1<<r;i&t|n[r]&t&&(n[r]|=t),e&=~i}}var Ze=0;function BL(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var zL,G3,UL,qL,HL,aA=!1,Pv=[],yu=null,wu=null,bu=null,m0=new Map,v0=new Map,Sc=[],IM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function aE(n,t){switch(n){case"focusin":case"focusout":yu=null;break;case"dragenter":case"dragleave":wu=null;break;case"mouseover":case"mouseout":bu=null;break;case"pointerover":case"pointerout":m0.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":v0.delete(t.pointerId)}}function vm(n,t,e,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:t,domEventName:e,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=v2(t),t!==null&&G3(t)),n):(n.eventSystemFlags|=r,t=n.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),n)}function MM(n,t,e,r,i){switch(t){case"focusin":return yu=vm(yu,n,t,e,r,i),!0;case"dragenter":return wu=vm(wu,n,t,e,r,i),!0;case"mouseover":return bu=vm(bu,n,t,e,r,i),!0;case"pointerover":var s=i.pointerId;return m0.set(s,vm(m0.get(s)||null,n,t,e,r,i)),!0;case"gotpointercapture":return s=i.pointerId,v0.set(s,vm(v0.get(s)||null,n,t,e,r,i)),!0}return!1}function $L(n){var t=lh(n.target);if(t!==null){var e=Bd(t);if(e!==null){if(t=e.tag,t===13){if(t=RL(e),t!==null){n.blockedOn=t,HL(n.priority,function(){UL(e)});return}}else if(t===3&&e.stateNode.current.memoizedState.isDehydrated){n.blockedOn=e.tag===3?e.stateNode.containerInfo:null;return}}}n.blockedOn=null}function iy(n){if(n.blockedOn!==null)return!1;for(var t=n.targetContainers;0<t.length;){var e=lA(n.domEventName,n.eventSystemFlags,t[0],n.nativeEvent);if(e===null){e=n.nativeEvent;var r=new e.constructor(e.type,e);nA=r,e.target.dispatchEvent(r),nA=null}else return t=v2(e),t!==null&&G3(t),n.blockedOn=e,!1;t.shift()}return!0}function lE(n,t,e){iy(n)&&e.delete(t)}function FM(){aA=!1,yu!==null&&iy(yu)&&(yu=null),wu!==null&&iy(wu)&&(wu=null),bu!==null&&iy(bu)&&(bu=null),m0.forEach(lE),v0.forEach(lE)}function ym(n,t){n.blockedOn===t&&(n.blockedOn=null,aA||(aA=!0,ks.unstable_scheduleCallback(ks.unstable_NormalPriority,FM)))}function y0(n){function t(i){return ym(i,n)}if(0<Pv.length){ym(Pv[0],n);for(var e=1;e<Pv.length;e++){var r=Pv[e];r.blockedOn===n&&(r.blockedOn=null)}}for(yu!==null&&ym(yu,n),wu!==null&&ym(wu,n),bu!==null&&ym(bu,n),m0.forEach(t),v0.forEach(t),e=0;e<Sc.length;e++)r=Sc[e],r.blockedOn===n&&(r.blockedOn=null);for(;0<Sc.length&&(e=Sc[0],e.blockedOn===null);)$L(e),e.blockedOn===null&&Sc.shift()}var Kf=Zl.ReactCurrentBatchConfig,a5=!0;function OM(n,t,e,r){var i=Ze,s=Kf.transition;Kf.transition=null;try{Ze=1,X3(n,t,e,r)}finally{Ze=i,Kf.transition=s}}function DM(n,t,e,r){var i=Ze,s=Kf.transition;Kf.transition=null;try{Ze=4,X3(n,t,e,r)}finally{Ze=i,Kf.transition=s}}function X3(n,t,e,r){if(a5){var i=lA(n,t,e,r);if(i===null)ox(n,t,r,l5,e),aE(n,r);else if(MM(i,n,t,e,r))r.stopPropagation();else if(aE(n,r),t&4&&-1<IM.indexOf(n)){for(;i!==null;){var s=v2(i);if(s!==null&&zL(s),s=lA(n,t,e,r),s===null&&ox(n,t,r,l5,e),s===i)break;i=s}i!==null&&r.stopPropagation()}else ox(n,t,r,null,e)}}var l5=null;function lA(n,t,e,r){if(l5=null,n=$3(r),n=lh(n),n!==null)if(t=Bd(n),t===null)n=null;else if(e=t.tag,e===13){if(n=RL(t),n!==null)return n;n=null}else if(e===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;n=null}else t!==n&&(n=null);return l5=n,null}function VL(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_M()){case V3:return 1;case OL:return 4;case s5:case EM:return 16;case DL:return 536870912;default:return 16}default:return 16}}var pu=null,Y3=null,sy=null;function WL(){if(sy)return sy;var n,t=Y3,e=t.length,r,i="value"in pu?pu.value:pu.textContent,s=i.length;for(n=0;n<e&&t[n]===i[n];n++);var o=e-n;for(r=1;r<=o&&t[e-r]===i[s-r];r++);return sy=i.slice(n,1<r?1-r:void 0)}function oy(n){var t=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&t===13&&(n=13)):n=t,n===10&&(n=13),32<=n||n===13?n:0}function kv(){return!0}function cE(){return!1}function Rs(n){function t(e,r,i,s,o){this._reactName=e,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(e=n[a],this[a]=e?e(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?kv:cE,this.isPropagationStopped=cE,this}return kn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!="unknown"&&(e.returnValue=!1),this.isDefaultPrevented=kv)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!="unknown"&&(e.cancelBubble=!0),this.isPropagationStopped=kv)},persist:function(){},isPersistent:kv}),t}var Rg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},K3=Rs(Rg),m2=kn({},Rg,{view:0,detail:0}),jM=Rs(m2),Qb,Jb,wm,pw=kn({},m2,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Q3,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==wm&&(wm&&n.type==="mousemove"?(Qb=n.screenX-wm.screenX,Jb=n.screenY-wm.screenY):Jb=Qb=0,wm=n),Qb)},movementY:function(n){return"movementY"in n?n.movementY:Jb}}),uE=Rs(pw),BM=kn({},pw,{dataTransfer:0}),zM=Rs(BM),UM=kn({},m2,{relatedTarget:0}),Zb=Rs(UM),qM=kn({},Rg,{animationName:0,elapsedTime:0,pseudoElement:0}),HM=Rs(qM),$M=kn({},Rg,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),VM=Rs($M),WM=kn({},Rg,{data:0}),hE=Rs(WM),GM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},YM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function KM(n){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(n):(n=YM[n])?!!t[n]:!1}function Q3(){return KM}var QM=kn({},m2,{key:function(n){if(n.key){var t=GM[n.key]||n.key;if(t!=="Unidentified")return t}return n.type==="keypress"?(n=oy(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?XM[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Q3,charCode:function(n){return n.type==="keypress"?oy(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?oy(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),JM=Rs(QM),ZM=kn({},pw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dE=Rs(ZM),tF=kn({},m2,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Q3}),eF=Rs(tF),nF=kn({},Rg,{propertyName:0,elapsedTime:0,pseudoElement:0}),rF=Rs(nF),iF=kn({},pw,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),sF=Rs(iF),oF=[9,13,27,32],J3=Wl&&"CompositionEvent"in window,r0=null;Wl&&"documentMode"in document&&(r0=document.documentMode);var aF=Wl&&"TextEvent"in window&&!r0,GL=Wl&&(!J3||r0&&8<r0&&11>=r0),fE=" ",pE=!1;function XL(n,t){switch(n){case"keyup":return oF.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function YL(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var If=!1;function lF(n,t){switch(n){case"compositionend":return YL(t);case"keypress":return t.which!==32?null:(pE=!0,fE);case"textInput":return n=t.data,n===fE&&pE?null:n;default:return null}}function cF(n,t){if(If)return n==="compositionend"||!J3&&XL(n,t)?(n=WL(),sy=Y3=pu=null,If=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return GL&&t.locale!=="ko"?null:t.data;default:return null}}var uF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gE(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t==="input"?!!uF[n.type]:t==="textarea"}function KL(n,t,e,r){NL(r),t=c5(t,"onChange"),0<t.length&&(e=new K3("onChange","change",null,e,r),n.push({event:e,listeners:t}))}var i0=null,w0=null;function hF(n){aP(n,0)}function gw(n){var t=Of(n);if(bL(t))return n}function dF(n,t){if(n==="change")return t}var QL=!1;if(Wl){var tx;if(Wl){var ex="oninput"in document;if(!ex){var mE=document.createElement("div");mE.setAttribute("oninput","return;"),ex=typeof mE.oninput=="function"}tx=ex}else tx=!1;QL=tx&&(!document.documentMode||9<document.documentMode)}function vE(){i0&&(i0.detachEvent("onpropertychange",JL),w0=i0=null)}function JL(n){if(n.propertyName==="value"&&gw(w0)){var t=[];KL(t,w0,n,$3(n)),TL(hF,t)}}function fF(n,t,e){n==="focusin"?(vE(),i0=t,w0=e,i0.attachEvent("onpropertychange",JL)):n==="focusout"&&vE()}function pF(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return gw(w0)}function gF(n,t){if(n==="click")return gw(t)}function mF(n,t){if(n==="input"||n==="change")return gw(t)}function vF(n,t){return n===t&&(n!==0||1/n===1/t)||n!==n&&t!==t}var Ho=typeof Object.is=="function"?Object.is:vF;function b0(n,t){if(Ho(n,t))return!0;if(typeof n!="object"||n===null||typeof t!="object"||t===null)return!1;var e=Object.keys(n),r=Object.keys(t);if(e.length!==r.length)return!1;for(r=0;r<e.length;r++){var i=e[r];if(!$x.call(t,i)||!Ho(n[i],t[i]))return!1}return!0}function yE(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function wE(n,t){var e=yE(n);n=0;for(var r;e;){if(e.nodeType===3){if(r=n+e.textContent.length,n<=t&&r>=t)return{node:e,offset:t-n};n=r}t:{for(;e;){if(e.nextSibling){e=e.nextSibling;break t}e=e.parentNode}e=void 0}e=yE(e)}}function ZL(n,t){return n&&t?n===t?!0:n&&n.nodeType===3?!1:t&&t.nodeType===3?ZL(n,t.parentNode):"contains"in n?n.contains(t):n.compareDocumentPosition?!!(n.compareDocumentPosition(t)&16):!1:!1}function tP(){for(var n=window,t=n5();t instanceof n.HTMLIFrameElement;){try{var e=typeof t.contentWindow.location.href=="string"}catch{e=!1}if(e)n=t.contentWindow;else break;t=n5(n.document)}return t}function Z3(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t&&(t==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||t==="textarea"||n.contentEditable==="true")}function yF(n){var t=tP(),e=n.focusedElem,r=n.selectionRange;if(t!==e&&e&&e.ownerDocument&&ZL(e.ownerDocument.documentElement,e)){if(r!==null&&Z3(e)){if(t=r.start,n=r.end,n===void 0&&(n=t),"selectionStart"in e)e.selectionStart=t,e.selectionEnd=Math.min(n,e.value.length);else if(n=(t=e.ownerDocument||document)&&t.defaultView||window,n.getSelection){n=n.getSelection();var i=e.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=wE(e,s);var o=wE(e,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(t),n.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),n.addRange(t)))}}for(t=[],n=e;n=n.parentNode;)n.nodeType===1&&t.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof e.focus=="function"&&e.focus(),e=0;e<t.length;e++)n=t[e],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var wF=Wl&&"documentMode"in document&&11>=document.documentMode,Mf=null,cA=null,s0=null,uA=!1;function bE(n,t,e){var r=e.window===e?e.document:e.nodeType===9?e:e.ownerDocument;uA||Mf==null||Mf!==n5(r)||(r=Mf,"selectionStart"in r&&Z3(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),s0&&b0(s0,r)||(s0=r,r=c5(cA,"onSelect"),0<r.length&&(t=new K3("onSelect","select",null,t,e),n.push({event:t,listeners:r}),t.target=Mf)))}function Tv(n,t){var e={};return e[n.toLowerCase()]=t.toLowerCase(),e["Webkit"+n]="webkit"+t,e["Moz"+n]="moz"+t,e}var Ff={animationend:Tv("Animation","AnimationEnd"),animationiteration:Tv("Animation","AnimationIteration"),animationstart:Tv("Animation","AnimationStart"),transitionend:Tv("Transition","TransitionEnd")},nx={},eP={};Wl&&(eP=document.createElement("div").style,"AnimationEvent"in window||(delete Ff.animationend.animation,delete Ff.animationiteration.animation,delete Ff.animationstart.animation),"TransitionEvent"in window||delete Ff.transitionend.transition);function mw(n){if(nx[n])return nx[n];if(!Ff[n])return n;var t=Ff[n],e;for(e in t)if(t.hasOwnProperty(e)&&e in eP)return nx[n]=t[e];return n}var nP=mw("animationend"),rP=mw("animationiteration"),iP=mw("animationstart"),sP=mw("transitionend"),oP=new Map,xE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bu(n,t){oP.set(n,t),jd(t,[n])}for(var rx=0;rx<xE.length;rx++){var ix=xE[rx],bF=ix.toLowerCase(),xF=ix[0].toUpperCase()+ix.slice(1);Bu(bF,"on"+xF)}Bu(nP,"onAnimationEnd");Bu(rP,"onAnimationIteration");Bu(iP,"onAnimationStart");Bu("dblclick","onDoubleClick");Bu("focusin","onFocus");Bu("focusout","onBlur");Bu(sP,"onTransitionEnd");Ag("onMouseEnter",["mouseout","mouseover"]);Ag("onMouseLeave",["mouseout","mouseover"]);Ag("onPointerEnter",["pointerout","pointerover"]);Ag("onPointerLeave",["pointerout","pointerover"]);jd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jd("onBeforeInput",["compositionend","keypress","textInput","paste"]);jd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AF=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fm));function AE(n,t,e){var r=n.type||"unknown-event";n.currentTarget=e,bM(r,t,void 0,n),n.currentTarget=null}function aP(n,t){t=(t&4)!==0;for(var e=0;e<n.length;e++){var r=n[e],i=r.event;r=r.listeners;t:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break t;AE(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break t;AE(i,a,c),s=l}}}if(i5)throw n=sA,i5=!1,sA=null,n}function gn(n,t){var e=t[gA];e===void 0&&(e=t[gA]=new Set);var r=n+"__bubble";e.has(r)||(lP(t,n,2,!1),e.add(r))}function sx(n,t,e){var r=0;t&&(r|=4),lP(e,n,r,t)}var Rv="_reactListening"+Math.random().toString(36).slice(2);function x0(n){if(!n[Rv]){n[Rv]=!0,gL.forEach(function(e){e!=="selectionchange"&&(AF.has(e)||sx(e,!1,n),sx(e,!0,n))});var t=n.nodeType===9?n:n.ownerDocument;t===null||t[Rv]||(t[Rv]=!0,sx("selectionchange",!1,t))}}function lP(n,t,e,r){switch(VL(t)){case 1:var i=OM;break;case 4:i=DM;break;default:i=X3}e=i.bind(null,t,e,n),i=void 0,!iA||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(t,e,{capture:!0,passive:i}):n.addEventListener(t,e,!0):i!==void 0?n.addEventListener(t,e,{passive:i}):n.addEventListener(t,e,!1)}function ox(n,t,e,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)t:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=lh(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue t}a=a.parentNode}}r=r.return}TL(function(){var c=s,h=$3(e),d=[];t:{var g=oP.get(n);if(g!==void 0){var f=K3,w=n;switch(n){case"keypress":if(oy(e)===0)break t;case"keydown":case"keyup":f=JM;break;case"focusin":w="focus",f=Zb;break;case"focusout":w="blur",f=Zb;break;case"beforeblur":case"afterblur":f=Zb;break;case"click":if(e.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=uE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=zM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=eF;break;case nP:case rP:case iP:f=HM;break;case sP:f=rF;break;case"scroll":f=jM;break;case"wheel":f=sF;break;case"copy":case"cut":case"paste":f=VM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=dE}var v=(t&4)!==0,x=!v&&n==="scroll",y=v?g!==null?g+"Capture":null:g;v=[];for(var b=c,_;b!==null;){_=b;var N=_.stateNode;if(_.tag===5&&N!==null&&(_=N,y!==null&&(N=g0(b,y),N!=null&&v.push(A0(b,N,_)))),x)break;b=b.return}0<v.length&&(g=new f(g,w,null,e,h),d.push({event:g,listeners:v}))}}if(!(t&7)){t:{if(g=n==="mouseover"||n==="pointerover",f=n==="mouseout"||n==="pointerout",g&&e!==nA&&(w=e.relatedTarget||e.fromElement)&&(lh(w)||w[Gl]))break t;if((f||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,f?(w=e.relatedTarget||e.toElement,f=c,w=w?lh(w):null,w!==null&&(x=Bd(w),w!==x||w.tag!==5&&w.tag!==6)&&(w=null)):(f=null,w=c),f!==w)){if(v=uE,N="onMouseLeave",y="onMouseEnter",b="mouse",(n==="pointerout"||n==="pointerover")&&(v=dE,N="onPointerLeave",y="onPointerEnter",b="pointer"),x=f==null?g:Of(f),_=w==null?g:Of(w),g=new v(N,b+"leave",f,e,h),g.target=x,g.relatedTarget=_,N=null,lh(h)===c&&(v=new v(y,b+"enter",w,e,h),v.target=_,v.relatedTarget=x,N=v),x=N,f&&w)e:{for(v=f,y=w,b=0,_=v;_;_=wf(_))b++;for(_=0,N=y;N;N=wf(N))_++;for(;0<b-_;)v=wf(v),b--;for(;0<_-b;)y=wf(y),_--;for(;b--;){if(v===y||y!==null&&v===y.alternate)break e;v=wf(v),y=wf(y)}v=null}else v=null;f!==null&&SE(d,g,f,v,!1),w!==null&&x!==null&&SE(d,x,w,v,!0)}}t:{if(g=c?Of(c):window,f=g.nodeName&&g.nodeName.toLowerCase(),f==="select"||f==="input"&&g.type==="file")var L=dF;else if(gE(g))if(QL)L=mF;else{L=pF;var O=fF}else(f=g.nodeName)&&f.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(L=gF);if(L&&(L=L(n,c))){KL(d,L,e,h);break t}O&&O(n,g,c),n==="focusout"&&(O=g._wrapperState)&&O.controlled&&g.type==="number"&&Qx(g,"number",g.value)}switch(O=c?Of(c):window,n){case"focusin":(gE(O)||O.contentEditable==="true")&&(Mf=O,cA=c,s0=null);break;case"focusout":s0=cA=Mf=null;break;case"mousedown":uA=!0;break;case"contextmenu":case"mouseup":case"dragend":uA=!1,bE(d,e,h);break;case"selectionchange":if(wF)break;case"keydown":case"keyup":bE(d,e,h)}var I;if(J3)t:{switch(n){case"compositionstart":var D="onCompositionStart";break t;case"compositionend":D="onCompositionEnd";break t;case"compositionupdate":D="onCompositionUpdate";break t}D=void 0}else If?XL(n,e)&&(D="onCompositionEnd"):n==="keydown"&&e.keyCode===229&&(D="onCompositionStart");D&&(GL&&e.locale!=="ko"&&(If||D!=="onCompositionStart"?D==="onCompositionEnd"&&If&&(I=WL()):(pu=h,Y3="value"in pu?pu.value:pu.textContent,If=!0)),O=c5(c,D),0<O.length&&(D=new hE(D,n,null,e,h),d.push({event:D,listeners:O}),I?D.data=I:(I=YL(e),I!==null&&(D.data=I)))),(I=aF?lF(n,e):cF(n,e))&&(c=c5(c,"onBeforeInput"),0<c.length&&(h=new hE("onBeforeInput","beforeinput",null,e,h),d.push({event:h,listeners:c}),h.data=I))}aP(d,t)})}function A0(n,t,e){return{instance:n,listener:t,currentTarget:e}}function c5(n,t){for(var e=t+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=g0(n,e),s!=null&&r.unshift(A0(n,s,i)),s=g0(n,t),s!=null&&r.push(A0(n,s,i))),n=n.return}return r}function wf(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function SE(n,t,e,r,i){for(var s=t._reactName,o=[];e!==null&&e!==r;){var a=e,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=g0(e,s),l!=null&&o.unshift(A0(e,l,a))):i||(l=g0(e,s),l!=null&&o.push(A0(e,l,a)))),e=e.return}o.length!==0&&n.push({event:t,listeners:o})}var SF=/\r\n?/g,_F=/\u0000|\uFFFD/g;function _E(n){return(typeof n=="string"?n:""+n).replace(SF,`
`).replace(_F,"")}function Iv(n,t,e){if(t=_E(t),_E(n)!==t&&e)throw Error(Rt(425))}function u5(){}var hA=null,dA=null;function fA(n,t){return n==="textarea"||n==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var pA=typeof setTimeout=="function"?setTimeout:void 0,EF=typeof clearTimeout=="function"?clearTimeout:void 0,EE=typeof Promise=="function"?Promise:void 0,CF=typeof queueMicrotask=="function"?queueMicrotask:typeof EE<"u"?function(n){return EE.resolve(null).then(n).catch(NF)}:pA;function NF(n){setTimeout(function(){throw n})}function ax(n,t){var e=t,r=0;do{var i=e.nextSibling;if(n.removeChild(e),i&&i.nodeType===8)if(e=i.data,e==="/$"){if(r===0){n.removeChild(i),y0(t);return}r--}else e!=="$"&&e!=="$?"&&e!=="$!"||r++;e=i}while(e);y0(t)}function xu(n){for(;n!=null;n=n.nextSibling){var t=n.nodeType;if(t===1||t===3)break;if(t===8){if(t=n.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return n}function CE(n){n=n.previousSibling;for(var t=0;n;){if(n.nodeType===8){var e=n.data;if(e==="$"||e==="$!"||e==="$?"){if(t===0)return n;t--}else e==="/$"&&t++}n=n.previousSibling}return null}var Ig=Math.random().toString(36).slice(2),Ta="__reactFiber$"+Ig,S0="__reactProps$"+Ig,Gl="__reactContainer$"+Ig,gA="__reactEvents$"+Ig,LF="__reactListeners$"+Ig,PF="__reactHandles$"+Ig;function lh(n){var t=n[Ta];if(t)return t;for(var e=n.parentNode;e;){if(t=e[Gl]||e[Ta]){if(e=t.alternate,t.child!==null||e!==null&&e.child!==null)for(n=CE(n);n!==null;){if(e=n[Ta])return e;n=CE(n)}return t}n=e,e=n.parentNode}return null}function v2(n){return n=n[Ta]||n[Gl],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Of(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Rt(33))}function vw(n){return n[S0]||null}var mA=[],Df=-1;function zu(n){return{current:n}}function yn(n){0>Df||(n.current=mA[Df],mA[Df]=null,Df--)}function hn(n,t){Df++,mA[Df]=n.current,n.current=t}var Nu={},di=zu(Nu),Wi=zu(!1),Ld=Nu;function Sg(n,t){var e=n.type.contextTypes;if(!e)return Nu;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in e)i[s]=t[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=t,n.__reactInternalMemoizedMaskedChildContext=i),i}function Gi(n){return n=n.childContextTypes,n!=null}function h5(){yn(Wi),yn(di)}function NE(n,t,e){if(di.current!==Nu)throw Error(Rt(168));hn(di,t),hn(Wi,e)}function cP(n,t,e){var r=n.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return e;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Rt(108,fM(n)||"Unknown",i));return kn({},e,r)}function d5(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Nu,Ld=di.current,hn(di,n),hn(Wi,Wi.current),!0}function LE(n,t,e){var r=n.stateNode;if(!r)throw Error(Rt(169));e?(n=cP(n,t,Ld),r.__reactInternalMemoizedMergedChildContext=n,yn(Wi),yn(di),hn(di,n)):yn(Wi),hn(Wi,e)}var cl=null,yw=!1,lx=!1;function uP(n){cl===null?cl=[n]:cl.push(n)}function kF(n){yw=!0,uP(n)}function Uu(){if(!lx&&cl!==null){lx=!0;var n=0,t=Ze;try{var e=cl;for(Ze=1;n<e.length;n++){var r=e[n];do r=r(!0);while(r!==null)}cl=null,yw=!1}catch(i){throw cl!==null&&(cl=cl.slice(n+1)),FL(V3,Uu),i}finally{Ze=t,lx=!1}}return null}var jf=[],Bf=0,f5=null,p5=0,Js=[],Zs=0,Pd=null,Ul=1,ql="";function Zu(n,t){jf[Bf++]=p5,jf[Bf++]=f5,f5=n,p5=t}function hP(n,t,e){Js[Zs++]=Ul,Js[Zs++]=ql,Js[Zs++]=Pd,Pd=n;var r=Ul;n=ql;var i=32-Uo(r)-1;r&=~(1<<i),e+=1;var s=32-Uo(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ul=1<<32-Uo(t)+i|e<<i|r,ql=s+n}else Ul=1<<s|e<<i|r,ql=n}function t_(n){n.return!==null&&(Zu(n,1),hP(n,1,0))}function e_(n){for(;n===f5;)f5=jf[--Bf],jf[Bf]=null,p5=jf[--Bf],jf[Bf]=null;for(;n===Pd;)Pd=Js[--Zs],Js[Zs]=null,ql=Js[--Zs],Js[Zs]=null,Ul=Js[--Zs],Js[Zs]=null}var Ns=null,Es=null,An=!1,Bo=null;function dP(n,t){var e=eo(5,null,null,0);e.elementType="DELETED",e.stateNode=t,e.return=n,t=n.deletions,t===null?(n.deletions=[e],n.flags|=16):t.push(e)}function PE(n,t){switch(n.tag){case 5:var e=n.type;return t=t.nodeType!==1||e.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(n.stateNode=t,Ns=n,Es=xu(t.firstChild),!0):!1;case 6:return t=n.pendingProps===""||t.nodeType!==3?null:t,t!==null?(n.stateNode=t,Ns=n,Es=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(e=Pd!==null?{id:Ul,overflow:ql}:null,n.memoizedState={dehydrated:t,treeContext:e,retryLane:1073741824},e=eo(18,null,null,0),e.stateNode=t,e.return=n,n.child=e,Ns=n,Es=null,!0):!1;default:return!1}}function vA(n){return(n.mode&1)!==0&&(n.flags&128)===0}function yA(n){if(An){var t=Es;if(t){var e=t;if(!PE(n,t)){if(vA(n))throw Error(Rt(418));t=xu(e.nextSibling);var r=Ns;t&&PE(n,t)?dP(r,e):(n.flags=n.flags&-4097|2,An=!1,Ns=n)}}else{if(vA(n))throw Error(Rt(418));n.flags=n.flags&-4097|2,An=!1,Ns=n}}}function kE(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Ns=n}function Mv(n){if(n!==Ns)return!1;if(!An)return kE(n),An=!0,!1;var t;if((t=n.tag!==3)&&!(t=n.tag!==5)&&(t=n.type,t=t!=="head"&&t!=="body"&&!fA(n.type,n.memoizedProps)),t&&(t=Es)){if(vA(n))throw fP(),Error(Rt(418));for(;t;)dP(n,t),t=xu(t.nextSibling)}if(kE(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Rt(317));t:{for(n=n.nextSibling,t=0;n;){if(n.nodeType===8){var e=n.data;if(e==="/$"){if(t===0){Es=xu(n.nextSibling);break t}t--}else e!=="$"&&e!=="$!"&&e!=="$?"||t++}n=n.nextSibling}Es=null}}else Es=Ns?xu(n.stateNode.nextSibling):null;return!0}function fP(){for(var n=Es;n;)n=xu(n.nextSibling)}function _g(){Es=Ns=null,An=!1}function n_(n){Bo===null?Bo=[n]:Bo.push(n)}var TF=Zl.ReactCurrentBatchConfig;function bm(n,t,e){if(n=e.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(e._owner){if(e=e._owner,e){if(e.tag!==1)throw Error(Rt(309));var r=e.stateNode}if(!r)throw Error(Rt(147,n));var i=r,s=""+n;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof n!="string")throw Error(Rt(284));if(!e._owner)throw Error(Rt(290,n))}return n}function Fv(n,t){throw n=Object.prototype.toString.call(t),Error(Rt(31,n==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":n))}function TE(n){var t=n._init;return t(n._payload)}function pP(n){function t(y,b){if(n){var _=y.deletions;_===null?(y.deletions=[b],y.flags|=16):_.push(b)}}function e(y,b){if(!n)return null;for(;b!==null;)t(y,b),b=b.sibling;return null}function r(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function i(y,b){return y=Eu(y,b),y.index=0,y.sibling=null,y}function s(y,b,_){return y.index=_,n?(_=y.alternate,_!==null?(_=_.index,_<b?(y.flags|=2,b):_):(y.flags|=2,b)):(y.flags|=1048576,b)}function o(y){return n&&y.alternate===null&&(y.flags|=2),y}function a(y,b,_,N){return b===null||b.tag!==6?(b=gx(_,y.mode,N),b.return=y,b):(b=i(b,_),b.return=y,b)}function l(y,b,_,N){var L=_.type;return L===Rf?h(y,b,_.props.children,N,_.key):b!==null&&(b.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===xc&&TE(L)===b.type)?(N=i(b,_.props),N.ref=bm(y,b,_),N.return=y,N):(N=fy(_.type,_.key,_.props,null,y.mode,N),N.ref=bm(y,b,_),N.return=y,N)}function c(y,b,_,N){return b===null||b.tag!==4||b.stateNode.containerInfo!==_.containerInfo||b.stateNode.implementation!==_.implementation?(b=mx(_,y.mode,N),b.return=y,b):(b=i(b,_.children||[]),b.return=y,b)}function h(y,b,_,N,L){return b===null||b.tag!==7?(b=Ed(_,y.mode,N,L),b.return=y,b):(b=i(b,_),b.return=y,b)}function d(y,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return b=gx(""+b,y.mode,_),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case _v:return _=fy(b.type,b.key,b.props,null,y.mode,_),_.ref=bm(y,null,b),_.return=y,_;case Tf:return b=mx(b,y.mode,_),b.return=y,b;case xc:var N=b._init;return d(y,N(b._payload),_)}if(Im(b)||gm(b))return b=Ed(b,y.mode,_,null),b.return=y,b;Fv(y,b)}return null}function g(y,b,_,N){var L=b!==null?b.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return L!==null?null:a(y,b,""+_,N);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case _v:return _.key===L?l(y,b,_,N):null;case Tf:return _.key===L?c(y,b,_,N):null;case xc:return L=_._init,g(y,b,L(_._payload),N)}if(Im(_)||gm(_))return L!==null?null:h(y,b,_,N,null);Fv(y,_)}return null}function f(y,b,_,N,L){if(typeof N=="string"&&N!==""||typeof N=="number")return y=y.get(_)||null,a(b,y,""+N,L);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case _v:return y=y.get(N.key===null?_:N.key)||null,l(b,y,N,L);case Tf:return y=y.get(N.key===null?_:N.key)||null,c(b,y,N,L);case xc:var O=N._init;return f(y,b,_,O(N._payload),L)}if(Im(N)||gm(N))return y=y.get(_)||null,h(b,y,N,L,null);Fv(b,N)}return null}function w(y,b,_,N){for(var L=null,O=null,I=b,D=b=0,V=null;I!==null&&D<_.length;D++){I.index>D?(V=I,I=null):V=I.sibling;var Q=g(y,I,_[D],N);if(Q===null){I===null&&(I=V);break}n&&I&&Q.alternate===null&&t(y,I),b=s(Q,b,D),O===null?L=Q:O.sibling=Q,O=Q,I=V}if(D===_.length)return e(y,I),An&&Zu(y,D),L;if(I===null){for(;D<_.length;D++)I=d(y,_[D],N),I!==null&&(b=s(I,b,D),O===null?L=I:O.sibling=I,O=I);return An&&Zu(y,D),L}for(I=r(y,I);D<_.length;D++)V=f(I,y,D,_[D],N),V!==null&&(n&&V.alternate!==null&&I.delete(V.key===null?D:V.key),b=s(V,b,D),O===null?L=V:O.sibling=V,O=V);return n&&I.forEach(function(P){return t(y,P)}),An&&Zu(y,D),L}function v(y,b,_,N){var L=gm(_);if(typeof L!="function")throw Error(Rt(150));if(_=L.call(_),_==null)throw Error(Rt(151));for(var O=L=null,I=b,D=b=0,V=null,Q=_.next();I!==null&&!Q.done;D++,Q=_.next()){I.index>D?(V=I,I=null):V=I.sibling;var P=g(y,I,Q.value,N);if(P===null){I===null&&(I=V);break}n&&I&&P.alternate===null&&t(y,I),b=s(P,b,D),O===null?L=P:O.sibling=P,O=P,I=V}if(Q.done)return e(y,I),An&&Zu(y,D),L;if(I===null){for(;!Q.done;D++,Q=_.next())Q=d(y,Q.value,N),Q!==null&&(b=s(Q,b,D),O===null?L=Q:O.sibling=Q,O=Q);return An&&Zu(y,D),L}for(I=r(y,I);!Q.done;D++,Q=_.next())Q=f(I,y,D,Q.value,N),Q!==null&&(n&&Q.alternate!==null&&I.delete(Q.key===null?D:Q.key),b=s(Q,b,D),O===null?L=Q:O.sibling=Q,O=Q);return n&&I.forEach(function(j){return t(y,j)}),An&&Zu(y,D),L}function x(y,b,_,N){if(typeof _=="object"&&_!==null&&_.type===Rf&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case _v:t:{for(var L=_.key,O=b;O!==null;){if(O.key===L){if(L=_.type,L===Rf){if(O.tag===7){e(y,O.sibling),b=i(O,_.props.children),b.return=y,y=b;break t}}else if(O.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===xc&&TE(L)===O.type){e(y,O.sibling),b=i(O,_.props),b.ref=bm(y,O,_),b.return=y,y=b;break t}e(y,O);break}else t(y,O);O=O.sibling}_.type===Rf?(b=Ed(_.props.children,y.mode,N,_.key),b.return=y,y=b):(N=fy(_.type,_.key,_.props,null,y.mode,N),N.ref=bm(y,b,_),N.return=y,y=N)}return o(y);case Tf:t:{for(O=_.key;b!==null;){if(b.key===O)if(b.tag===4&&b.stateNode.containerInfo===_.containerInfo&&b.stateNode.implementation===_.implementation){e(y,b.sibling),b=i(b,_.children||[]),b.return=y,y=b;break t}else{e(y,b);break}else t(y,b);b=b.sibling}b=mx(_,y.mode,N),b.return=y,y=b}return o(y);case xc:return O=_._init,x(y,b,O(_._payload),N)}if(Im(_))return w(y,b,_,N);if(gm(_))return v(y,b,_,N);Fv(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,b!==null&&b.tag===6?(e(y,b.sibling),b=i(b,_),b.return=y,y=b):(e(y,b),b=gx(_,y.mode,N),b.return=y,y=b),o(y)):e(y,b)}return x}var Eg=pP(!0),gP=pP(!1),g5=zu(null),m5=null,zf=null,r_=null;function i_(){r_=zf=m5=null}function s_(n){var t=g5.current;yn(g5),n._currentValue=t}function wA(n,t,e){for(;n!==null;){var r=n.alternate;if((n.childLanes&t)!==t?(n.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),n===e)break;n=n.return}}function Qf(n,t){m5=n,r_=zf=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&t&&(Vi=!0),n.firstContext=null)}function io(n){var t=n._currentValue;if(r_!==n)if(n={context:n,memoizedValue:t,next:null},zf===null){if(m5===null)throw Error(Rt(308));zf=n,m5.dependencies={lanes:0,firstContext:n}}else zf=zf.next=n;return t}var ch=null;function o_(n){ch===null?ch=[n]:ch.push(n)}function mP(n,t,e,r){var i=t.interleaved;return i===null?(e.next=e,o_(t)):(e.next=i.next,i.next=e),t.interleaved=e,Xl(n,r)}function Xl(n,t){n.lanes|=t;var e=n.alternate;for(e!==null&&(e.lanes|=t),e=n,n=n.return;n!==null;)n.childLanes|=t,e=n.alternate,e!==null&&(e.childLanes|=t),e=n,n=n.return;return e.tag===3?e.stateNode:null}var Ac=!1;function a_(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vP(n,t){n=n.updateQueue,t.updateQueue===n&&(t.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Hl(n,t){return{eventTime:n,lane:t,tag:0,payload:null,callback:null,next:null}}function Au(n,t,e){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,je&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Xl(n,e)}return i=r.interleaved,i===null?(t.next=t,o_(r)):(t.next=i.next,i.next=t),r.interleaved=t,Xl(n,e)}function ay(n,t,e){if(t=t.updateQueue,t!==null&&(t=t.shared,(e&4194240)!==0)){var r=t.lanes;r&=n.pendingLanes,e|=r,t.lanes=e,W3(n,e)}}function RE(n,t){var e=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,e===r)){var i=null,s=null;if(e=e.firstBaseUpdate,e!==null){do{var o={eventTime:e.eventTime,lane:e.lane,tag:e.tag,payload:e.payload,callback:e.callback,next:null};s===null?i=s=o:s=s.next=o,e=e.next}while(e!==null);s===null?i=s=t:s=s.next=t}else i=s=t;e={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=e;return}n=e.lastBaseUpdate,n===null?e.firstBaseUpdate=t:n.next=t,e.lastBaseUpdate=t}function v5(n,t,e,r){var i=n.updateQueue;Ac=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=n.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,h=c=l=null,a=s;do{var g=a.lane,f=a.eventTime;if((r&g)===g){h!==null&&(h=h.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var w=n,v=a;switch(g=t,f=e,v.tag){case 1:if(w=v.payload,typeof w=="function"){d=w.call(f,d,g);break t}d=w;break t;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,g=typeof w=="function"?w.call(f,d,g):w,g==null)break t;d=kn({},d,g);break t;case 2:Ac=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,g=i.effects,g===null?i.effects=[a]:g.push(a))}else f={eventTime:f,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=f,l=d):h=h.next=f,o|=g;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;g=a,a=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(h===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Td|=o,n.lanes=o,n.memoizedState=d}}function IE(n,t,e){if(n=t.effects,t.effects=null,n!==null)for(t=0;t<n.length;t++){var r=n[t],i=r.callback;if(i!==null){if(r.callback=null,r=e,typeof i!="function")throw Error(Rt(191,i));i.call(r)}}}var y2={},Oa=zu(y2),_0=zu(y2),E0=zu(y2);function uh(n){if(n===y2)throw Error(Rt(174));return n}function l_(n,t){switch(hn(E0,t),hn(_0,n),hn(Oa,y2),n=t.nodeType,n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Zx(null,"");break;default:n=n===8?t.parentNode:t,t=n.namespaceURI||null,n=n.tagName,t=Zx(t,n)}yn(Oa),hn(Oa,t)}function Cg(){yn(Oa),yn(_0),yn(E0)}function yP(n){uh(E0.current);var t=uh(Oa.current),e=Zx(t,n.type);t!==e&&(hn(_0,n),hn(Oa,e))}function c_(n){_0.current===n&&(yn(Oa),yn(_0))}var Nn=zu(0);function y5(n){for(var t=n;t!==null;){if(t.tag===13){var e=t.memoizedState;if(e!==null&&(e=e.dehydrated,e===null||e.data==="$?"||e.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var cx=[];function u_(){for(var n=0;n<cx.length;n++)cx[n]._workInProgressVersionPrimary=null;cx.length=0}var ly=Zl.ReactCurrentDispatcher,ux=Zl.ReactCurrentBatchConfig,kd=0,Ln=null,pr=null,kr=null,w5=!1,o0=!1,C0=0,RF=0;function Kr(){throw Error(Rt(321))}function h_(n,t){if(t===null)return!1;for(var e=0;e<t.length&&e<n.length;e++)if(!Ho(n[e],t[e]))return!1;return!0}function d_(n,t,e,r,i,s){if(kd=s,Ln=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ly.current=n===null||n.memoizedState===null?OF:DF,n=e(r,i),o0){s=0;do{if(o0=!1,C0=0,25<=s)throw Error(Rt(301));s+=1,kr=pr=null,t.updateQueue=null,ly.current=jF,n=e(r,i)}while(o0)}if(ly.current=b5,t=pr!==null&&pr.next!==null,kd=0,kr=pr=Ln=null,w5=!1,t)throw Error(Rt(300));return n}function f_(){var n=C0!==0;return C0=0,n}function ha(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kr===null?Ln.memoizedState=kr=n:kr=kr.next=n,kr}function so(){if(pr===null){var n=Ln.alternate;n=n!==null?n.memoizedState:null}else n=pr.next;var t=kr===null?Ln.memoizedState:kr.next;if(t!==null)kr=t,pr=n;else{if(n===null)throw Error(Rt(310));pr=n,n={memoizedState:pr.memoizedState,baseState:pr.baseState,baseQueue:pr.baseQueue,queue:pr.queue,next:null},kr===null?Ln.memoizedState=kr=n:kr=kr.next=n}return kr}function N0(n,t){return typeof t=="function"?t(n):t}function hx(n){var t=so(),e=t.queue;if(e===null)throw Error(Rt(311));e.lastRenderedReducer=n;var r=pr,i=r.baseQueue,s=e.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,e.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if((kd&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Ln.lanes|=h,Td|=h}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Ho(r,t.memoizedState)||(Vi=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,e.lastRenderedState=r}if(n=e.interleaved,n!==null){i=n;do s=i.lane,Ln.lanes|=s,Td|=s,i=i.next;while(i!==n)}else i===null&&(e.lanes=0);return[t.memoizedState,e.dispatch]}function dx(n){var t=so(),e=t.queue;if(e===null)throw Error(Rt(311));e.lastRenderedReducer=n;var r=e.dispatch,i=e.pending,s=t.memoizedState;if(i!==null){e.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);Ho(s,t.memoizedState)||(Vi=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),e.lastRenderedState=s}return[s,r]}function wP(){}function bP(n,t){var e=Ln,r=so(),i=t(),s=!Ho(r.memoizedState,i);if(s&&(r.memoizedState=i,Vi=!0),r=r.queue,p_(SP.bind(null,e,r,n),[n]),r.getSnapshot!==t||s||kr!==null&&kr.memoizedState.tag&1){if(e.flags|=2048,L0(9,AP.bind(null,e,r,i,t),void 0,null),Rr===null)throw Error(Rt(349));kd&30||xP(e,t,i)}return i}function xP(n,t,e){n.flags|=16384,n={getSnapshot:t,value:e},t=Ln.updateQueue,t===null?(t={lastEffect:null,stores:null},Ln.updateQueue=t,t.stores=[n]):(e=t.stores,e===null?t.stores=[n]:e.push(n))}function AP(n,t,e,r){t.value=e,t.getSnapshot=r,_P(t)&&EP(n)}function SP(n,t,e){return e(function(){_P(t)&&EP(n)})}function _P(n){var t=n.getSnapshot;n=n.value;try{var e=t();return!Ho(n,e)}catch{return!0}}function EP(n){var t=Xl(n,1);t!==null&&qo(t,n,1,-1)}function ME(n){var t=ha();return typeof n=="function"&&(n=n()),t.memoizedState=t.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:N0,lastRenderedState:n},t.queue=n,n=n.dispatch=FF.bind(null,Ln,n),[t.memoizedState,n]}function L0(n,t,e,r){return n={tag:n,create:t,destroy:e,deps:r,next:null},t=Ln.updateQueue,t===null?(t={lastEffect:null,stores:null},Ln.updateQueue=t,t.lastEffect=n.next=n):(e=t.lastEffect,e===null?t.lastEffect=n.next=n:(r=e.next,e.next=n,n.next=r,t.lastEffect=n)),n}function CP(){return so().memoizedState}function cy(n,t,e,r){var i=ha();Ln.flags|=n,i.memoizedState=L0(1|t,e,void 0,r===void 0?null:r)}function ww(n,t,e,r){var i=so();r=r===void 0?null:r;var s=void 0;if(pr!==null){var o=pr.memoizedState;if(s=o.destroy,r!==null&&h_(r,o.deps)){i.memoizedState=L0(t,e,s,r);return}}Ln.flags|=n,i.memoizedState=L0(1|t,e,s,r)}function FE(n,t){return cy(8390656,8,n,t)}function p_(n,t){return ww(2048,8,n,t)}function NP(n,t){return ww(4,2,n,t)}function LP(n,t){return ww(4,4,n,t)}function PP(n,t){if(typeof t=="function")return n=n(),t(n),function(){t(null)};if(t!=null)return n=n(),t.current=n,function(){t.current=null}}function kP(n,t,e){return e=e!=null?e.concat([n]):null,ww(4,4,PP.bind(null,t,n),e)}function g_(){}function TP(n,t){var e=so();t=t===void 0?null:t;var r=e.memoizedState;return r!==null&&t!==null&&h_(t,r[1])?r[0]:(e.memoizedState=[n,t],n)}function RP(n,t){var e=so();t=t===void 0?null:t;var r=e.memoizedState;return r!==null&&t!==null&&h_(t,r[1])?r[0]:(n=n(),e.memoizedState=[n,t],n)}function IP(n,t,e){return kd&21?(Ho(e,t)||(e=jL(),Ln.lanes|=e,Td|=e,n.baseState=!0),t):(n.baseState&&(n.baseState=!1,Vi=!0),n.memoizedState=e)}function IF(n,t){var e=Ze;Ze=e!==0&&4>e?e:4,n(!0);var r=ux.transition;ux.transition={};try{n(!1),t()}finally{Ze=e,ux.transition=r}}function MP(){return so().memoizedState}function MF(n,t,e){var r=_u(n);if(e={lane:r,action:e,hasEagerState:!1,eagerState:null,next:null},FP(n))OP(t,e);else if(e=mP(n,t,e,r),e!==null){var i=Li();qo(e,n,r,i),DP(e,t,r)}}function FF(n,t,e){var r=_u(n),i={lane:r,action:e,hasEagerState:!1,eagerState:null,next:null};if(FP(n))OP(t,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,e);if(i.hasEagerState=!0,i.eagerState=a,Ho(a,o)){var l=t.interleaved;l===null?(i.next=i,o_(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}e=mP(n,t,i,r),e!==null&&(i=Li(),qo(e,n,r,i),DP(e,t,r))}}function FP(n){var t=n.alternate;return n===Ln||t!==null&&t===Ln}function OP(n,t){o0=w5=!0;var e=n.pending;e===null?t.next=t:(t.next=e.next,e.next=t),n.pending=t}function DP(n,t,e){if(e&4194240){var r=t.lanes;r&=n.pendingLanes,e|=r,t.lanes=e,W3(n,e)}}var b5={readContext:io,useCallback:Kr,useContext:Kr,useEffect:Kr,useImperativeHandle:Kr,useInsertionEffect:Kr,useLayoutEffect:Kr,useMemo:Kr,useReducer:Kr,useRef:Kr,useState:Kr,useDebugValue:Kr,useDeferredValue:Kr,useTransition:Kr,useMutableSource:Kr,useSyncExternalStore:Kr,useId:Kr,unstable_isNewReconciler:!1},OF={readContext:io,useCallback:function(n,t){return ha().memoizedState=[n,t===void 0?null:t],n},useContext:io,useEffect:FE,useImperativeHandle:function(n,t,e){return e=e!=null?e.concat([n]):null,cy(4194308,4,PP.bind(null,t,n),e)},useLayoutEffect:function(n,t){return cy(4194308,4,n,t)},useInsertionEffect:function(n,t){return cy(4,2,n,t)},useMemo:function(n,t){var e=ha();return t=t===void 0?null:t,n=n(),e.memoizedState=[n,t],n},useReducer:function(n,t,e){var r=ha();return t=e!==void 0?e(t):t,r.memoizedState=r.baseState=t,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:t},r.queue=n,n=n.dispatch=MF.bind(null,Ln,n),[r.memoizedState,n]},useRef:function(n){var t=ha();return n={current:n},t.memoizedState=n},useState:ME,useDebugValue:g_,useDeferredValue:function(n){return ha().memoizedState=n},useTransition:function(){var n=ME(!1),t=n[0];return n=IF.bind(null,n[1]),ha().memoizedState=n,[t,n]},useMutableSource:function(){},useSyncExternalStore:function(n,t,e){var r=Ln,i=ha();if(An){if(e===void 0)throw Error(Rt(407));e=e()}else{if(e=t(),Rr===null)throw Error(Rt(349));kd&30||xP(r,t,e)}i.memoizedState=e;var s={value:e,getSnapshot:t};return i.queue=s,FE(SP.bind(null,r,s,n),[n]),r.flags|=2048,L0(9,AP.bind(null,r,s,e,t),void 0,null),e},useId:function(){var n=ha(),t=Rr.identifierPrefix;if(An){var e=ql,r=Ul;e=(r&~(1<<32-Uo(r)-1)).toString(32)+e,t=":"+t+"R"+e,e=C0++,0<e&&(t+="H"+e.toString(32)),t+=":"}else e=RF++,t=":"+t+"r"+e.toString(32)+":";return n.memoizedState=t},unstable_isNewReconciler:!1},DF={readContext:io,useCallback:TP,useContext:io,useEffect:p_,useImperativeHandle:kP,useInsertionEffect:NP,useLayoutEffect:LP,useMemo:RP,useReducer:hx,useRef:CP,useState:function(){return hx(N0)},useDebugValue:g_,useDeferredValue:function(n){var t=so();return IP(t,pr.memoizedState,n)},useTransition:function(){var n=hx(N0)[0],t=so().memoizedState;return[n,t]},useMutableSource:wP,useSyncExternalStore:bP,useId:MP,unstable_isNewReconciler:!1},jF={readContext:io,useCallback:TP,useContext:io,useEffect:p_,useImperativeHandle:kP,useInsertionEffect:NP,useLayoutEffect:LP,useMemo:RP,useReducer:dx,useRef:CP,useState:function(){return dx(N0)},useDebugValue:g_,useDeferredValue:function(n){var t=so();return pr===null?t.memoizedState=n:IP(t,pr.memoizedState,n)},useTransition:function(){var n=dx(N0)[0],t=so().memoizedState;return[n,t]},useMutableSource:wP,useSyncExternalStore:bP,useId:MP,unstable_isNewReconciler:!1};function bo(n,t){if(n&&n.defaultProps){t=kn({},t),n=n.defaultProps;for(var e in n)t[e]===void 0&&(t[e]=n[e]);return t}return t}function bA(n,t,e,r){t=n.memoizedState,e=e(r,t),e=e==null?t:kn({},t,e),n.memoizedState=e,n.lanes===0&&(n.updateQueue.baseState=e)}var bw={isMounted:function(n){return(n=n._reactInternals)?Bd(n)===n:!1},enqueueSetState:function(n,t,e){n=n._reactInternals;var r=Li(),i=_u(n),s=Hl(r,i);s.payload=t,e!=null&&(s.callback=e),t=Au(n,s,i),t!==null&&(qo(t,n,i,r),ay(t,n,i))},enqueueReplaceState:function(n,t,e){n=n._reactInternals;var r=Li(),i=_u(n),s=Hl(r,i);s.tag=1,s.payload=t,e!=null&&(s.callback=e),t=Au(n,s,i),t!==null&&(qo(t,n,i,r),ay(t,n,i))},enqueueForceUpdate:function(n,t){n=n._reactInternals;var e=Li(),r=_u(n),i=Hl(e,r);i.tag=2,t!=null&&(i.callback=t),t=Au(n,i,r),t!==null&&(qo(t,n,r,e),ay(t,n,r))}};function OE(n,t,e,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!b0(e,r)||!b0(i,s):!0}function jP(n,t,e){var r=!1,i=Nu,s=t.contextType;return typeof s=="object"&&s!==null?s=io(s):(i=Gi(t)?Ld:di.current,r=t.contextTypes,s=(r=r!=null)?Sg(n,i):Nu),t=new t(e,s),n.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=bw,n.stateNode=t,t._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),t}function DE(n,t,e,r){n=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(e,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(e,r),t.state!==n&&bw.enqueueReplaceState(t,t.state,null)}function xA(n,t,e,r){var i=n.stateNode;i.props=e,i.state=n.memoizedState,i.refs={},a_(n);var s=t.contextType;typeof s=="object"&&s!==null?i.context=io(s):(s=Gi(t)?Ld:di.current,i.context=Sg(n,s)),i.state=n.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(bA(n,t,s,e),i.state=n.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&bw.enqueueReplaceState(i,i.state,null),v5(n,e,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function Ng(n,t){try{var e="",r=t;do e+=dM(r),r=r.return;while(r);var i=e}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:t,stack:i,digest:null}}function fx(n,t,e){return{value:n,source:null,stack:e??null,digest:t??null}}function AA(n,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var BF=typeof WeakMap=="function"?WeakMap:Map;function BP(n,t,e){e=Hl(-1,e),e.tag=3,e.payload={element:null};var r=t.value;return e.callback=function(){A5||(A5=!0,RA=r),AA(n,t)},e}function zP(n,t,e){e=Hl(-1,e),e.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;e.payload=function(){return r(i)},e.callback=function(){AA(n,t)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){AA(n,t),typeof r!="function"&&(Su===null?Su=new Set([this]):Su.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),e}function jE(n,t,e){var r=n.pingCache;if(r===null){r=n.pingCache=new BF;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(e)||(i.add(e),n=ZF.bind(null,n,t,e),t.then(n,n))}function BE(n){do{var t;if((t=n.tag===13)&&(t=n.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return n;n=n.return}while(n!==null);return null}function zE(n,t,e,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===t?n.flags|=65536:(n.flags|=128,e.flags|=131072,e.flags&=-52805,e.tag===1&&(e.alternate===null?e.tag=17:(t=Hl(-1,1),t.tag=2,Au(e,t,1))),e.lanes|=1),n)}var zF=Zl.ReactCurrentOwner,Vi=!1;function Ei(n,t,e,r){t.child=n===null?gP(t,null,e,r):Eg(t,n.child,e,r)}function UE(n,t,e,r,i){e=e.render;var s=t.ref;return Qf(t,i),r=d_(n,t,e,r,s,i),e=f_(),n!==null&&!Vi?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~i,Yl(n,t,i)):(An&&e&&t_(t),t.flags|=1,Ei(n,t,r,i),t.child)}function qE(n,t,e,r,i){if(n===null){var s=e.type;return typeof s=="function"&&!S_(s)&&s.defaultProps===void 0&&e.compare===null&&e.defaultProps===void 0?(t.tag=15,t.type=s,UP(n,t,s,r,i)):(n=fy(e.type,null,r,t,t.mode,i),n.ref=t.ref,n.return=t,t.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(e=e.compare,e=e!==null?e:b0,e(o,r)&&n.ref===t.ref)return Yl(n,t,i)}return t.flags|=1,n=Eu(s,r),n.ref=t.ref,n.return=t,t.child=n}function UP(n,t,e,r,i){if(n!==null){var s=n.memoizedProps;if(b0(s,r)&&n.ref===t.ref)if(Vi=!1,t.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(Vi=!0);else return t.lanes=n.lanes,Yl(n,t,i)}return SA(n,t,e,r,i)}function qP(n,t,e){var r=t.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},hn(qf,xs),xs|=e;else{if(!(e&1073741824))return n=s!==null?s.baseLanes|e:e,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:n,cachePool:null,transitions:null},t.updateQueue=null,hn(qf,xs),xs|=n,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:e,hn(qf,xs),xs|=r}else s!==null?(r=s.baseLanes|e,t.memoizedState=null):r=e,hn(qf,xs),xs|=r;return Ei(n,t,i,e),t.child}function HP(n,t){var e=t.ref;(n===null&&e!==null||n!==null&&n.ref!==e)&&(t.flags|=512,t.flags|=2097152)}function SA(n,t,e,r,i){var s=Gi(e)?Ld:di.current;return s=Sg(t,s),Qf(t,i),e=d_(n,t,e,r,s,i),r=f_(),n!==null&&!Vi?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~i,Yl(n,t,i)):(An&&r&&t_(t),t.flags|=1,Ei(n,t,e,i),t.child)}function HE(n,t,e,r,i){if(Gi(e)){var s=!0;d5(t)}else s=!1;if(Qf(t,i),t.stateNode===null)uy(n,t),jP(t,e,r),xA(t,e,r,i),r=!0;else if(n===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=e.contextType;typeof c=="object"&&c!==null?c=io(c):(c=Gi(e)?Ld:di.current,c=Sg(t,c));var h=e.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&DE(t,o,r,c),Ac=!1;var g=t.memoizedState;o.state=g,v5(t,r,o,i),l=t.memoizedState,a!==r||g!==l||Wi.current||Ac?(typeof h=="function"&&(bA(t,e,h,r),l=t.memoizedState),(a=Ac||OE(t,e,a,r,g,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,vP(n,t),a=t.memoizedProps,c=t.type===t.elementType?a:bo(t.type,a),o.props=c,d=t.pendingProps,g=o.context,l=e.contextType,typeof l=="object"&&l!==null?l=io(l):(l=Gi(e)?Ld:di.current,l=Sg(t,l));var f=e.getDerivedStateFromProps;(h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||g!==l)&&DE(t,o,r,l),Ac=!1,g=t.memoizedState,o.state=g,v5(t,r,o,i);var w=t.memoizedState;a!==d||g!==w||Wi.current||Ac?(typeof f=="function"&&(bA(t,e,f,r),w=t.memoizedState),(c=Ac||OE(t,e,c,r,g,w,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&g===n.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&g===n.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&g===n.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&g===n.memoizedState||(t.flags|=1024),r=!1)}return _A(n,t,e,r,s,i)}function _A(n,t,e,r,i,s){HP(n,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&LE(t,e,!1),Yl(n,t,s);r=t.stateNode,zF.current=t;var a=o&&typeof e.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,n!==null&&o?(t.child=Eg(t,n.child,null,s),t.child=Eg(t,null,a,s)):Ei(n,t,a,s),t.memoizedState=r.state,i&&LE(t,e,!0),t.child}function $P(n){var t=n.stateNode;t.pendingContext?NE(n,t.pendingContext,t.pendingContext!==t.context):t.context&&NE(n,t.context,!1),l_(n,t.containerInfo)}function $E(n,t,e,r,i){return _g(),n_(i),t.flags|=256,Ei(n,t,e,r),t.child}var EA={dehydrated:null,treeContext:null,retryLane:0};function CA(n){return{baseLanes:n,cachePool:null,transitions:null}}function VP(n,t,e){var r=t.pendingProps,i=Nn.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),hn(Nn,i&1),n===null)return yA(t),n=t.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(t.mode&1?n.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,n=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Sw(o,r,0,null),n=Ed(n,r,e,null),s.return=t,n.return=t,s.sibling=n,t.child=s,t.child.memoizedState=CA(e),t.memoizedState=EA,n):m_(t,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return UF(n,t,o,r,a,i,e);if(s){s=r.fallback,o=t.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Eu(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Eu(a,s):(s=Ed(s,o,e,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=n.child.memoizedState,o=o===null?CA(e):{baseLanes:o.baseLanes|e,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~e,t.memoizedState=EA,r}return s=n.child,n=s.sibling,r=Eu(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=e),r.return=t,r.sibling=null,n!==null&&(e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)),t.child=r,t.memoizedState=null,r}function m_(n,t){return t=Sw({mode:"visible",children:t},n.mode,0,null),t.return=n,n.child=t}function Ov(n,t,e,r){return r!==null&&n_(r),Eg(t,n.child,null,e),n=m_(t,t.pendingProps.children),n.flags|=2,t.memoizedState=null,n}function UF(n,t,e,r,i,s,o){if(e)return t.flags&256?(t.flags&=-257,r=fx(Error(Rt(422))),Ov(n,t,o,r)):t.memoizedState!==null?(t.child=n.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Sw({mode:"visible",children:r.children},i,0,null),s=Ed(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Eg(t,n.child,null,o),t.child.memoizedState=CA(o),t.memoizedState=EA,s);if(!(t.mode&1))return Ov(n,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Rt(419)),r=fx(s,r,void 0),Ov(n,t,o,r)}if(a=(o&n.childLanes)!==0,Vi||a){if(r=Rr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Xl(n,i),qo(r,n,i,-1))}return A_(),r=fx(Error(Rt(421))),Ov(n,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=n.child,t=t7.bind(null,n),i._reactRetry=t,null):(n=s.treeContext,Es=xu(i.nextSibling),Ns=t,An=!0,Bo=null,n!==null&&(Js[Zs++]=Ul,Js[Zs++]=ql,Js[Zs++]=Pd,Ul=n.id,ql=n.overflow,Pd=t),t=m_(t,r.children),t.flags|=4096,t)}function VE(n,t,e){n.lanes|=t;var r=n.alternate;r!==null&&(r.lanes|=t),wA(n.return,t,e)}function px(n,t,e,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:e,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=e,s.tailMode=i)}function WP(n,t,e){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Ei(n,t,r.children,e),r=Nn.current,r&2)r=r&1|2,t.flags|=128;else{if(n!==null&&n.flags&128)t:for(n=t.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&VE(n,e,t);else if(n.tag===19)VE(n,e,t);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(hn(Nn,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(e=t.child,i=null;e!==null;)n=e.alternate,n!==null&&y5(n)===null&&(i=e),e=e.sibling;e=i,e===null?(i=t.child,t.child=null):(i=e.sibling,e.sibling=null),px(t,!1,i,e,s);break;case"backwards":for(e=null,i=t.child,t.child=null;i!==null;){if(n=i.alternate,n!==null&&y5(n)===null){t.child=i;break}n=i.sibling,i.sibling=e,e=i,i=n}px(t,!0,e,null,s);break;case"together":px(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function uy(n,t){!(t.mode&1)&&n!==null&&(n.alternate=null,t.alternate=null,t.flags|=2)}function Yl(n,t,e){if(n!==null&&(t.dependencies=n.dependencies),Td|=t.lanes,!(e&t.childLanes))return null;if(n!==null&&t.child!==n.child)throw Error(Rt(153));if(t.child!==null){for(n=t.child,e=Eu(n,n.pendingProps),t.child=e,e.return=t;n.sibling!==null;)n=n.sibling,e=e.sibling=Eu(n,n.pendingProps),e.return=t;e.sibling=null}return t.child}function qF(n,t,e){switch(t.tag){case 3:$P(t),_g();break;case 5:yP(t);break;case 1:Gi(t.type)&&d5(t);break;case 4:l_(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;hn(g5,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(hn(Nn,Nn.current&1),t.flags|=128,null):e&t.child.childLanes?VP(n,t,e):(hn(Nn,Nn.current&1),n=Yl(n,t,e),n!==null?n.sibling:null);hn(Nn,Nn.current&1);break;case 19:if(r=(e&t.childLanes)!==0,n.flags&128){if(r)return WP(n,t,e);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),hn(Nn,Nn.current),r)break;return null;case 22:case 23:return t.lanes=0,qP(n,t,e)}return Yl(n,t,e)}var GP,NA,XP,YP;GP=function(n,t){for(var e=t.child;e!==null;){if(e.tag===5||e.tag===6)n.appendChild(e.stateNode);else if(e.tag!==4&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return;e=e.return}e.sibling.return=e.return,e=e.sibling}};NA=function(){};XP=function(n,t,e,r){var i=n.memoizedProps;if(i!==r){n=t.stateNode,uh(Oa.current);var s=null;switch(e){case"input":i=Yx(n,i),r=Yx(n,r),s=[];break;case"select":i=kn({},i,{value:void 0}),r=kn({},r,{value:void 0}),s=[];break;case"textarea":i=Jx(n,i),r=Jx(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=u5)}tA(e,r);var o;e=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(e||(e={}),e[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(f0.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(e||(e={}),e[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(e||(e={}),e[o]=l[o])}else e||(s||(s=[]),s.push(c,e)),e=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(f0.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&gn("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}e&&(s=s||[]).push("style",e);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};YP=function(n,t,e,r){e!==r&&(t.flags|=4)};function xm(n,t){if(!An)switch(n.tailMode){case"hidden":t=n.tail;for(var e=null;t!==null;)t.alternate!==null&&(e=t),t=t.sibling;e===null?n.tail=null:e.sibling=null;break;case"collapsed":e=n.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Qr(n){var t=n.alternate!==null&&n.alternate.child===n.child,e=0,r=0;if(t)for(var i=n.child;i!==null;)e|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)e|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=e,t}function HF(n,t,e){var r=t.pendingProps;switch(e_(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qr(t),null;case 1:return Gi(t.type)&&h5(),Qr(t),null;case 3:return r=t.stateNode,Cg(),yn(Wi),yn(di),u_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Mv(t)?t.flags|=4:n===null||n.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Bo!==null&&(FA(Bo),Bo=null))),NA(n,t),Qr(t),null;case 5:c_(t);var i=uh(E0.current);if(e=t.type,n!==null&&t.stateNode!=null)XP(n,t,e,r,i),n.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Rt(166));return Qr(t),null}if(n=uh(Oa.current),Mv(t)){r=t.stateNode,e=t.type;var s=t.memoizedProps;switch(r[Ta]=t,r[S0]=s,n=(t.mode&1)!==0,e){case"dialog":gn("cancel",r),gn("close",r);break;case"iframe":case"object":case"embed":gn("load",r);break;case"video":case"audio":for(i=0;i<Fm.length;i++)gn(Fm[i],r);break;case"source":gn("error",r);break;case"img":case"image":case"link":gn("error",r),gn("load",r);break;case"details":gn("toggle",r);break;case"input":tE(r,s),gn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},gn("invalid",r);break;case"textarea":nE(r,s),gn("invalid",r)}tA(e,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Iv(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Iv(r.textContent,a,n),i=["children",""+a]):f0.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&gn("scroll",r)}switch(e){case"input":Ev(r),eE(r,s,!0);break;case"textarea":Ev(r),rE(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=u5)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=SL(e)),n==="http://www.w3.org/1999/xhtml"?e==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(e,{is:r.is}):(n=o.createElement(e),e==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,e),n[Ta]=t,n[S0]=r,GP(n,t,!1,!1),t.stateNode=n;t:{switch(o=eA(e,r),e){case"dialog":gn("cancel",n),gn("close",n),i=r;break;case"iframe":case"object":case"embed":gn("load",n),i=r;break;case"video":case"audio":for(i=0;i<Fm.length;i++)gn(Fm[i],n);i=r;break;case"source":gn("error",n),i=r;break;case"img":case"image":case"link":gn("error",n),gn("load",n),i=r;break;case"details":gn("toggle",n),i=r;break;case"input":tE(n,r),i=Yx(n,r),gn("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=kn({},r,{value:void 0}),gn("invalid",n);break;case"textarea":nE(n,r),i=Jx(n,r),gn("invalid",n);break;default:i=r}tA(e,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?CL(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&_L(n,l)):s==="children"?typeof l=="string"?(e!=="textarea"||l!=="")&&p0(n,l):typeof l=="number"&&p0(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(f0.hasOwnProperty(s)?l!=null&&s==="onScroll"&&gn("scroll",n):l!=null&&z3(n,s,l,o))}switch(e){case"input":Ev(n),eE(n,r,!1);break;case"textarea":Ev(n),rE(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Cu(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?Gf(n,!!r.multiple,s,!1):r.defaultValue!=null&&Gf(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=u5)}switch(e){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break t;case"img":r=!0;break t;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Qr(t),null;case 6:if(n&&t.stateNode!=null)YP(n,t,n.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Rt(166));if(e=uh(E0.current),uh(Oa.current),Mv(t)){if(r=t.stateNode,e=t.memoizedProps,r[Ta]=t,(s=r.nodeValue!==e)&&(n=Ns,n!==null))switch(n.tag){case 3:Iv(r.nodeValue,e,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Iv(r.nodeValue,e,(n.mode&1)!==0)}s&&(t.flags|=4)}else r=(e.nodeType===9?e:e.ownerDocument).createTextNode(r),r[Ta]=t,t.stateNode=r}return Qr(t),null;case 13:if(yn(Nn),r=t.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(An&&Es!==null&&t.mode&1&&!(t.flags&128))fP(),_g(),t.flags|=98560,s=!1;else if(s=Mv(t),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(Rt(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Rt(317));s[Ta]=t}else _g(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Qr(t),s=!1}else Bo!==null&&(FA(Bo),Bo=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=e,t):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(n===null||Nn.current&1?mr===0&&(mr=3):A_())),t.updateQueue!==null&&(t.flags|=4),Qr(t),null);case 4:return Cg(),NA(n,t),n===null&&x0(t.stateNode.containerInfo),Qr(t),null;case 10:return s_(t.type._context),Qr(t),null;case 17:return Gi(t.type)&&h5(),Qr(t),null;case 19:if(yn(Nn),s=t.memoizedState,s===null)return Qr(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)xm(s,!1);else{if(mr!==0||n!==null&&n.flags&128)for(n=t.child;n!==null;){if(o=y5(n),o!==null){for(t.flags|=128,xm(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=e,e=t.child;e!==null;)s=e,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e=e.sibling;return hn(Nn,Nn.current&1|2),t.child}n=n.sibling}s.tail!==null&&Vn()>Lg&&(t.flags|=128,r=!0,xm(s,!1),t.lanes=4194304)}else{if(!r)if(n=y5(o),n!==null){if(t.flags|=128,r=!0,e=n.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),xm(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!An)return Qr(t),null}else 2*Vn()-s.renderingStartTime>Lg&&e!==1073741824&&(t.flags|=128,r=!0,xm(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(e=s.last,e!==null?e.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Vn(),t.sibling=null,e=Nn.current,hn(Nn,r?e&1|2:e&1),t):(Qr(t),null);case 22:case 23:return x_(),r=t.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?xs&1073741824&&(Qr(t),t.subtreeFlags&6&&(t.flags|=8192)):Qr(t),null;case 24:return null;case 25:return null}throw Error(Rt(156,t.tag))}function $F(n,t){switch(e_(t),t.tag){case 1:return Gi(t.type)&&h5(),n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 3:return Cg(),yn(Wi),yn(di),u_(),n=t.flags,n&65536&&!(n&128)?(t.flags=n&-65537|128,t):null;case 5:return c_(t),null;case 13:if(yn(Nn),n=t.memoizedState,n!==null&&n.dehydrated!==null){if(t.alternate===null)throw Error(Rt(340));_g()}return n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 19:return yn(Nn),null;case 4:return Cg(),null;case 10:return s_(t.type._context),null;case 22:case 23:return x_(),null;case 24:return null;default:return null}}var Dv=!1,ci=!1,VF=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function Uf(n,t){var e=n.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(r){Bn(n,t,r)}else e.current=null}function LA(n,t,e){try{e()}catch(r){Bn(n,t,r)}}var WE=!1;function WF(n,t){if(hA=a5,n=tP(),Z3(n)){if("selectionStart"in n)var e={start:n.selectionStart,end:n.selectionEnd};else t:{e=(e=n.ownerDocument)&&e.defaultView||window;var r=e.getSelection&&e.getSelection();if(r&&r.rangeCount!==0){e=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{e.nodeType,s.nodeType}catch{e=null;break t}var o=0,a=-1,l=-1,c=0,h=0,d=n,g=null;e:for(;;){for(var f;d!==e||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)g=d,d=f;for(;;){if(d===n)break e;if(g===e&&++c===i&&(a=o),g===s&&++h===r&&(l=o),(f=d.nextSibling)!==null)break;d=g,g=d.parentNode}d=f}e=a===-1||l===-1?null:{start:a,end:l}}else e=null}e=e||{start:0,end:0}}else e=null;for(dA={focusedElem:n,selectionRange:e},a5=!1,Kt=t;Kt!==null;)if(t=Kt,n=t.child,(t.subtreeFlags&1028)!==0&&n!==null)n.return=t,Kt=n;else for(;Kt!==null;){t=Kt;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,x=w.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:bo(t.type,v),x);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Rt(163))}}catch(N){Bn(t,t.return,N)}if(n=t.sibling,n!==null){n.return=t.return,Kt=n;break}Kt=t.return}return w=WE,WE=!1,w}function a0(n,t,e){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&LA(t,e,s)}i=i.next}while(i!==r)}}function xw(n,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var e=t=t.next;do{if((e.tag&n)===n){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}}function PA(n){var t=n.ref;if(t!==null){var e=n.stateNode;switch(n.tag){case 5:n=e;break;default:n=e}typeof t=="function"?t(n):t.current=n}}function KP(n){var t=n.alternate;t!==null&&(n.alternate=null,KP(t)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(t=n.stateNode,t!==null&&(delete t[Ta],delete t[S0],delete t[gA],delete t[LF],delete t[PF])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function QP(n){return n.tag===5||n.tag===3||n.tag===4}function GE(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||QP(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function kA(n,t,e){var r=n.tag;if(r===5||r===6)n=n.stateNode,t?e.nodeType===8?e.parentNode.insertBefore(n,t):e.insertBefore(n,t):(e.nodeType===8?(t=e.parentNode,t.insertBefore(n,e)):(t=e,t.appendChild(n)),e=e._reactRootContainer,e!=null||t.onclick!==null||(t.onclick=u5));else if(r!==4&&(n=n.child,n!==null))for(kA(n,t,e),n=n.sibling;n!==null;)kA(n,t,e),n=n.sibling}function TA(n,t,e){var r=n.tag;if(r===5||r===6)n=n.stateNode,t?e.insertBefore(n,t):e.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(TA(n,t,e),n=n.sibling;n!==null;)TA(n,t,e),n=n.sibling}var Ur=null,jo=!1;function pc(n,t,e){for(e=e.child;e!==null;)JP(n,t,e),e=e.sibling}function JP(n,t,e){if(Fa&&typeof Fa.onCommitFiberUnmount=="function")try{Fa.onCommitFiberUnmount(fw,e)}catch{}switch(e.tag){case 5:ci||Uf(e,t);case 6:var r=Ur,i=jo;Ur=null,pc(n,t,e),Ur=r,jo=i,Ur!==null&&(jo?(n=Ur,e=e.stateNode,n.nodeType===8?n.parentNode.removeChild(e):n.removeChild(e)):Ur.removeChild(e.stateNode));break;case 18:Ur!==null&&(jo?(n=Ur,e=e.stateNode,n.nodeType===8?ax(n.parentNode,e):n.nodeType===1&&ax(n,e),y0(n)):ax(Ur,e.stateNode));break;case 4:r=Ur,i=jo,Ur=e.stateNode.containerInfo,jo=!0,pc(n,t,e),Ur=r,jo=i;break;case 0:case 11:case 14:case 15:if(!ci&&(r=e.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&LA(e,t,o),i=i.next}while(i!==r)}pc(n,t,e);break;case 1:if(!ci&&(Uf(e,t),r=e.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=e.memoizedProps,r.state=e.memoizedState,r.componentWillUnmount()}catch(a){Bn(e,t,a)}pc(n,t,e);break;case 21:pc(n,t,e);break;case 22:e.mode&1?(ci=(r=ci)||e.memoizedState!==null,pc(n,t,e),ci=r):pc(n,t,e);break;default:pc(n,t,e)}}function XE(n){var t=n.updateQueue;if(t!==null){n.updateQueue=null;var e=n.stateNode;e===null&&(e=n.stateNode=new VF),t.forEach(function(r){var i=e7.bind(null,n,r);e.has(r)||(e.add(r),r.then(i,i))})}}function go(n,t){var e=t.deletions;if(e!==null)for(var r=0;r<e.length;r++){var i=e[r];try{var s=n,o=t,a=o;t:for(;a!==null;){switch(a.tag){case 5:Ur=a.stateNode,jo=!1;break t;case 3:Ur=a.stateNode.containerInfo,jo=!0;break t;case 4:Ur=a.stateNode.containerInfo,jo=!0;break t}a=a.return}if(Ur===null)throw Error(Rt(160));JP(s,o,i),Ur=null,jo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Bn(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ZP(t,n),t=t.sibling}function ZP(n,t){var e=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(go(t,n),sa(n),r&4){try{a0(3,n,n.return),xw(3,n)}catch(v){Bn(n,n.return,v)}try{a0(5,n,n.return)}catch(v){Bn(n,n.return,v)}}break;case 1:go(t,n),sa(n),r&512&&e!==null&&Uf(e,e.return);break;case 5:if(go(t,n),sa(n),r&512&&e!==null&&Uf(e,e.return),n.flags&32){var i=n.stateNode;try{p0(i,"")}catch(v){Bn(n,n.return,v)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=e!==null?e.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&xL(i,s),eA(a,o);var c=eA(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?CL(i,d):h==="dangerouslySetInnerHTML"?_L(i,d):h==="children"?p0(i,d):z3(i,h,d,c)}switch(a){case"input":Kx(i,s);break;case"textarea":AL(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Gf(i,!!s.multiple,f,!1):g!==!!s.multiple&&(s.defaultValue!=null?Gf(i,!!s.multiple,s.defaultValue,!0):Gf(i,!!s.multiple,s.multiple?[]:"",!1))}i[S0]=s}catch(v){Bn(n,n.return,v)}}break;case 6:if(go(t,n),sa(n),r&4){if(n.stateNode===null)throw Error(Rt(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(v){Bn(n,n.return,v)}}break;case 3:if(go(t,n),sa(n),r&4&&e!==null&&e.memoizedState.isDehydrated)try{y0(t.containerInfo)}catch(v){Bn(n,n.return,v)}break;case 4:go(t,n),sa(n);break;case 13:go(t,n),sa(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(w_=Vn())),r&4&&XE(n);break;case 22:if(h=e!==null&&e.memoizedState!==null,n.mode&1?(ci=(c=ci)||h,go(t,n),ci=c):go(t,n),sa(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!h&&n.mode&1)for(Kt=n,h=n.child;h!==null;){for(d=Kt=h;Kt!==null;){switch(g=Kt,f=g.child,g.tag){case 0:case 11:case 14:case 15:a0(4,g,g.return);break;case 1:Uf(g,g.return);var w=g.stateNode;if(typeof w.componentWillUnmount=="function"){r=g,e=g.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(v){Bn(r,e,v)}}break;case 5:Uf(g,g.return);break;case 22:if(g.memoizedState!==null){KE(d);continue}}f!==null?(f.return=g,Kt=f):KE(d)}h=h.sibling}t:for(h=null,d=n;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=EL("display",o))}catch(v){Bn(n,n.return,v)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){Bn(n,n.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break t;for(;d.sibling===null;){if(d.return===null||d.return===n)break t;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:go(t,n),sa(n),r&4&&XE(n);break;case 21:break;default:go(t,n),sa(n)}}function sa(n){var t=n.flags;if(t&2){try{t:{for(var e=n.return;e!==null;){if(QP(e)){var r=e;break t}e=e.return}throw Error(Rt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(p0(i,""),r.flags&=-33);var s=GE(n);TA(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=GE(n);kA(n,a,o);break;default:throw Error(Rt(161))}}catch(l){Bn(n,n.return,l)}n.flags&=-3}t&4096&&(n.flags&=-4097)}function GF(n,t,e){Kt=n,tk(n)}function tk(n,t,e){for(var r=(n.mode&1)!==0;Kt!==null;){var i=Kt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Dv;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ci;a=Dv;var c=ci;if(Dv=o,(ci=l)&&!c)for(Kt=i;Kt!==null;)o=Kt,l=o.child,o.tag===22&&o.memoizedState!==null?QE(i):l!==null?(l.return=o,Kt=l):QE(i);for(;s!==null;)Kt=s,tk(s),s=s.sibling;Kt=i,Dv=a,ci=c}YE(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Kt=s):YE(n)}}function YE(n){for(;Kt!==null;){var t=Kt;if(t.flags&8772){var e=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ci||xw(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ci)if(e===null)r.componentDidMount();else{var i=t.elementType===t.type?e.memoizedProps:bo(t.type,e.memoizedProps);r.componentDidUpdate(i,e.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&IE(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(e=null,t.child!==null)switch(t.child.tag){case 5:e=t.child.stateNode;break;case 1:e=t.child.stateNode}IE(t,o,e)}break;case 5:var a=t.stateNode;if(e===null&&t.flags&4){e=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&e.focus();break;case"img":l.src&&(e.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&y0(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Rt(163))}ci||t.flags&512&&PA(t)}catch(g){Bn(t,t.return,g)}}if(t===n){Kt=null;break}if(e=t.sibling,e!==null){e.return=t.return,Kt=e;break}Kt=t.return}}function KE(n){for(;Kt!==null;){var t=Kt;if(t===n){Kt=null;break}var e=t.sibling;if(e!==null){e.return=t.return,Kt=e;break}Kt=t.return}}function QE(n){for(;Kt!==null;){var t=Kt;try{switch(t.tag){case 0:case 11:case 15:var e=t.return;try{xw(4,t)}catch(l){Bn(t,e,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Bn(t,i,l)}}var s=t.return;try{PA(t)}catch(l){Bn(t,s,l)}break;case 5:var o=t.return;try{PA(t)}catch(l){Bn(t,o,l)}}}catch(l){Bn(t,t.return,l)}if(t===n){Kt=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Kt=a;break}Kt=t.return}}var XF=Math.ceil,x5=Zl.ReactCurrentDispatcher,v_=Zl.ReactCurrentOwner,no=Zl.ReactCurrentBatchConfig,je=0,Rr=null,rr=null,Vr=0,xs=0,qf=zu(0),mr=0,P0=null,Td=0,Aw=0,y_=0,l0=null,$i=null,w_=0,Lg=1/0,ol=null,A5=!1,RA=null,Su=null,jv=!1,gu=null,S5=0,c0=0,IA=null,hy=-1,dy=0;function Li(){return je&6?Vn():hy!==-1?hy:hy=Vn()}function _u(n){return n.mode&1?je&2&&Vr!==0?Vr&-Vr:TF.transition!==null?(dy===0&&(dy=jL()),dy):(n=Ze,n!==0||(n=window.event,n=n===void 0?16:VL(n.type)),n):1}function qo(n,t,e,r){if(50<c0)throw c0=0,IA=null,Error(Rt(185));g2(n,e,r),(!(je&2)||n!==Rr)&&(n===Rr&&(!(je&2)&&(Aw|=e),mr===4&&_c(n,Vr)),Xi(n,r),e===1&&je===0&&!(t.mode&1)&&(Lg=Vn()+500,yw&&Uu()))}function Xi(n,t){var e=n.callbackNode;TM(n,t);var r=o5(n,n===Rr?Vr:0);if(r===0)e!==null&&oE(e),n.callbackNode=null,n.callbackPriority=0;else if(t=r&-r,n.callbackPriority!==t){if(e!=null&&oE(e),t===1)n.tag===0?kF(JE.bind(null,n)):uP(JE.bind(null,n)),CF(function(){!(je&6)&&Uu()}),e=null;else{switch(BL(r)){case 1:e=V3;break;case 4:e=OL;break;case 16:e=s5;break;case 536870912:e=DL;break;default:e=s5}e=lk(e,ek.bind(null,n))}n.callbackPriority=t,n.callbackNode=e}}function ek(n,t){if(hy=-1,dy=0,je&6)throw Error(Rt(327));var e=n.callbackNode;if(Jf()&&n.callbackNode!==e)return null;var r=o5(n,n===Rr?Vr:0);if(r===0)return null;if(r&30||r&n.expiredLanes||t)t=_5(n,r);else{t=r;var i=je;je|=2;var s=rk();(Rr!==n||Vr!==t)&&(ol=null,Lg=Vn()+500,_d(n,t));do try{QF();break}catch(a){nk(n,a)}while(!0);i_(),x5.current=s,je=i,rr!==null?t=0:(Rr=null,Vr=0,t=mr)}if(t!==0){if(t===2&&(i=oA(n),i!==0&&(r=i,t=MA(n,i))),t===1)throw e=P0,_d(n,0),_c(n,r),Xi(n,Vn()),e;if(t===6)_c(n,r);else{if(i=n.current.alternate,!(r&30)&&!YF(i)&&(t=_5(n,r),t===2&&(s=oA(n),s!==0&&(r=s,t=MA(n,s))),t===1))throw e=P0,_d(n,0),_c(n,r),Xi(n,Vn()),e;switch(n.finishedWork=i,n.finishedLanes=r,t){case 0:case 1:throw Error(Rt(345));case 2:th(n,$i,ol);break;case 3:if(_c(n,r),(r&130023424)===r&&(t=w_+500-Vn(),10<t)){if(o5(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){Li(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=pA(th.bind(null,n,$i,ol),t);break}th(n,$i,ol);break;case 4:if(_c(n,r),(r&4194240)===r)break;for(t=n.eventTimes,i=-1;0<r;){var o=31-Uo(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Vn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*XF(r/1960))-r,10<r){n.timeoutHandle=pA(th.bind(null,n,$i,ol),r);break}th(n,$i,ol);break;case 5:th(n,$i,ol);break;default:throw Error(Rt(329))}}}return Xi(n,Vn()),n.callbackNode===e?ek.bind(null,n):null}function MA(n,t){var e=l0;return n.current.memoizedState.isDehydrated&&(_d(n,t).flags|=256),n=_5(n,t),n!==2&&(t=$i,$i=e,t!==null&&FA(t)),n}function FA(n){$i===null?$i=n:$i.push.apply($i,n)}function YF(n){for(var t=n;;){if(t.flags&16384){var e=t.updateQueue;if(e!==null&&(e=e.stores,e!==null))for(var r=0;r<e.length;r++){var i=e[r],s=i.getSnapshot;i=i.value;try{if(!Ho(s(),i))return!1}catch{return!1}}}if(e=t.child,t.subtreeFlags&16384&&e!==null)e.return=t,t=e;else{if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _c(n,t){for(t&=~y_,t&=~Aw,n.suspendedLanes|=t,n.pingedLanes&=~t,n=n.expirationTimes;0<t;){var e=31-Uo(t),r=1<<e;n[e]=-1,t&=~r}}function JE(n){if(je&6)throw Error(Rt(327));Jf();var t=o5(n,0);if(!(t&1))return Xi(n,Vn()),null;var e=_5(n,t);if(n.tag!==0&&e===2){var r=oA(n);r!==0&&(t=r,e=MA(n,r))}if(e===1)throw e=P0,_d(n,0),_c(n,t),Xi(n,Vn()),e;if(e===6)throw Error(Rt(345));return n.finishedWork=n.current.alternate,n.finishedLanes=t,th(n,$i,ol),Xi(n,Vn()),null}function b_(n,t){var e=je;je|=1;try{return n(t)}finally{je=e,je===0&&(Lg=Vn()+500,yw&&Uu())}}function Rd(n){gu!==null&&gu.tag===0&&!(je&6)&&Jf();var t=je;je|=1;var e=no.transition,r=Ze;try{if(no.transition=null,Ze=1,n)return n()}finally{Ze=r,no.transition=e,je=t,!(je&6)&&Uu()}}function x_(){xs=qf.current,yn(qf)}function _d(n,t){n.finishedWork=null,n.finishedLanes=0;var e=n.timeoutHandle;if(e!==-1&&(n.timeoutHandle=-1,EF(e)),rr!==null)for(e=rr.return;e!==null;){var r=e;switch(e_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&h5();break;case 3:Cg(),yn(Wi),yn(di),u_();break;case 5:c_(r);break;case 4:Cg();break;case 13:yn(Nn);break;case 19:yn(Nn);break;case 10:s_(r.type._context);break;case 22:case 23:x_()}e=e.return}if(Rr=n,rr=n=Eu(n.current,null),Vr=xs=t,mr=0,P0=null,y_=Aw=Td=0,$i=l0=null,ch!==null){for(t=0;t<ch.length;t++)if(e=ch[t],r=e.interleaved,r!==null){e.interleaved=null;var i=r.next,s=e.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}e.pending=r}ch=null}return n}function nk(n,t){do{var e=rr;try{if(i_(),ly.current=b5,w5){for(var r=Ln.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}w5=!1}if(kd=0,kr=pr=Ln=null,o0=!1,C0=0,v_.current=null,e===null||e.return===null){mr=1,P0=t,rr=null;break}t:{var s=n,o=e.return,a=e,l=t;if(t=Vr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var f=BE(o);if(f!==null){f.flags&=-257,zE(f,o,a,s,t),f.mode&1&&jE(s,c,t),t=f,l=c;var w=t.updateQueue;if(w===null){var v=new Set;v.add(l),t.updateQueue=v}else w.add(l);break t}else{if(!(t&1)){jE(s,c,t),A_();break t}l=Error(Rt(426))}}else if(An&&a.mode&1){var x=BE(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),zE(x,o,a,s,t),n_(Ng(l,a));break t}}s=l=Ng(l,a),mr!==4&&(mr=2),l0===null?l0=[s]:l0.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=BP(s,l,t);RE(s,y);break t;case 1:a=l;var b=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Su===null||!Su.has(_)))){s.flags|=65536,t&=-t,s.lanes|=t;var N=zP(s,a,t);RE(s,N);break t}}s=s.return}while(s!==null)}sk(e)}catch(L){t=L,rr===e&&e!==null&&(rr=e=e.return);continue}break}while(!0)}function rk(){var n=x5.current;return x5.current=b5,n===null?b5:n}function A_(){(mr===0||mr===3||mr===2)&&(mr=4),Rr===null||!(Td&268435455)&&!(Aw&268435455)||_c(Rr,Vr)}function _5(n,t){var e=je;je|=2;var r=rk();(Rr!==n||Vr!==t)&&(ol=null,_d(n,t));do try{KF();break}catch(i){nk(n,i)}while(!0);if(i_(),je=e,x5.current=r,rr!==null)throw Error(Rt(261));return Rr=null,Vr=0,mr}function KF(){for(;rr!==null;)ik(rr)}function QF(){for(;rr!==null&&!AM();)ik(rr)}function ik(n){var t=ak(n.alternate,n,xs);n.memoizedProps=n.pendingProps,t===null?sk(n):rr=t,v_.current=null}function sk(n){var t=n;do{var e=t.alternate;if(n=t.return,t.flags&32768){if(e=$F(e,t),e!==null){e.flags&=32767,rr=e;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{mr=6,rr=null;return}}else if(e=HF(e,t,xs),e!==null){rr=e;return}if(t=t.sibling,t!==null){rr=t;return}rr=t=n}while(t!==null);mr===0&&(mr=5)}function th(n,t,e){var r=Ze,i=no.transition;try{no.transition=null,Ze=1,JF(n,t,e,r)}finally{no.transition=i,Ze=r}return null}function JF(n,t,e,r){do Jf();while(gu!==null);if(je&6)throw Error(Rt(327));e=n.finishedWork;var i=n.finishedLanes;if(e===null)return null;if(n.finishedWork=null,n.finishedLanes=0,e===n.current)throw Error(Rt(177));n.callbackNode=null,n.callbackPriority=0;var s=e.lanes|e.childLanes;if(RM(n,s),n===Rr&&(rr=Rr=null,Vr=0),!(e.subtreeFlags&2064)&&!(e.flags&2064)||jv||(jv=!0,lk(s5,function(){return Jf(),null})),s=(e.flags&15990)!==0,e.subtreeFlags&15990||s){s=no.transition,no.transition=null;var o=Ze;Ze=1;var a=je;je|=4,v_.current=null,WF(n,e),ZP(e,n),yF(dA),a5=!!hA,dA=hA=null,n.current=e,GF(e),SM(),je=a,Ze=o,no.transition=s}else n.current=e;if(jv&&(jv=!1,gu=n,S5=i),s=n.pendingLanes,s===0&&(Su=null),CM(e.stateNode),Xi(n,Vn()),t!==null)for(r=n.onRecoverableError,e=0;e<t.length;e++)i=t[e],r(i.value,{componentStack:i.stack,digest:i.digest});if(A5)throw A5=!1,n=RA,RA=null,n;return S5&1&&n.tag!==0&&Jf(),s=n.pendingLanes,s&1?n===IA?c0++:(c0=0,IA=n):c0=0,Uu(),null}function Jf(){if(gu!==null){var n=BL(S5),t=no.transition,e=Ze;try{if(no.transition=null,Ze=16>n?16:n,gu===null)var r=!1;else{if(n=gu,gu=null,S5=0,je&6)throw Error(Rt(331));var i=je;for(je|=4,Kt=n.current;Kt!==null;){var s=Kt,o=s.child;if(Kt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Kt=c;Kt!==null;){var h=Kt;switch(h.tag){case 0:case 11:case 15:a0(8,h,s)}var d=h.child;if(d!==null)d.return=h,Kt=d;else for(;Kt!==null;){h=Kt;var g=h.sibling,f=h.return;if(KP(h),h===c){Kt=null;break}if(g!==null){g.return=f,Kt=g;break}Kt=f}}}var w=s.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}Kt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Kt=o;else t:for(;Kt!==null;){if(s=Kt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:a0(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,Kt=y;break t}Kt=s.return}}var b=n.current;for(Kt=b;Kt!==null;){o=Kt;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,Kt=_;else t:for(o=b;Kt!==null;){if(a=Kt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:xw(9,a)}}catch(L){Bn(a,a.return,L)}if(a===o){Kt=null;break t}var N=a.sibling;if(N!==null){N.return=a.return,Kt=N;break t}Kt=a.return}}if(je=i,Uu(),Fa&&typeof Fa.onPostCommitFiberRoot=="function")try{Fa.onPostCommitFiberRoot(fw,n)}catch{}r=!0}return r}finally{Ze=e,no.transition=t}}return!1}function ZE(n,t,e){t=Ng(e,t),t=BP(n,t,1),n=Au(n,t,1),t=Li(),n!==null&&(g2(n,1,t),Xi(n,t))}function Bn(n,t,e){if(n.tag===3)ZE(n,n,e);else for(;t!==null;){if(t.tag===3){ZE(t,n,e);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Su===null||!Su.has(r))){n=Ng(e,n),n=zP(t,n,1),t=Au(t,n,1),n=Li(),t!==null&&(g2(t,1,n),Xi(t,n));break}}t=t.return}}function ZF(n,t,e){var r=n.pingCache;r!==null&&r.delete(t),t=Li(),n.pingedLanes|=n.suspendedLanes&e,Rr===n&&(Vr&e)===e&&(mr===4||mr===3&&(Vr&130023424)===Vr&&500>Vn()-w_?_d(n,0):y_|=e),Xi(n,t)}function ok(n,t){t===0&&(n.mode&1?(t=Lv,Lv<<=1,!(Lv&130023424)&&(Lv=4194304)):t=1);var e=Li();n=Xl(n,t),n!==null&&(g2(n,t,e),Xi(n,e))}function t7(n){var t=n.memoizedState,e=0;t!==null&&(e=t.retryLane),ok(n,e)}function e7(n,t){var e=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(e=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(Rt(314))}r!==null&&r.delete(t),ok(n,e)}var ak;ak=function(n,t,e){if(n!==null)if(n.memoizedProps!==t.pendingProps||Wi.current)Vi=!0;else{if(!(n.lanes&e)&&!(t.flags&128))return Vi=!1,qF(n,t,e);Vi=!!(n.flags&131072)}else Vi=!1,An&&t.flags&1048576&&hP(t,p5,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;uy(n,t),n=t.pendingProps;var i=Sg(t,di.current);Qf(t,e),i=d_(null,t,r,n,i,e);var s=f_();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Gi(r)?(s=!0,d5(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,a_(t),i.updater=bw,t.stateNode=i,i._reactInternals=t,xA(t,r,n,e),t=_A(null,t,r,!0,s,e)):(t.tag=0,An&&s&&t_(t),Ei(null,t,i,e),t=t.child),t;case 16:r=t.elementType;t:{switch(uy(n,t),n=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=r7(r),n=bo(r,n),i){case 0:t=SA(null,t,r,n,e);break t;case 1:t=HE(null,t,r,n,e);break t;case 11:t=UE(null,t,r,n,e);break t;case 14:t=qE(null,t,r,bo(r.type,n),e);break t}throw Error(Rt(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:bo(r,i),SA(n,t,r,i,e);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:bo(r,i),HE(n,t,r,i,e);case 3:t:{if($P(t),n===null)throw Error(Rt(387));r=t.pendingProps,s=t.memoizedState,i=s.element,vP(n,t),v5(t,r,null,e);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Ng(Error(Rt(423)),t),t=$E(n,t,r,e,i);break t}else if(r!==i){i=Ng(Error(Rt(424)),t),t=$E(n,t,r,e,i);break t}else for(Es=xu(t.stateNode.containerInfo.firstChild),Ns=t,An=!0,Bo=null,e=gP(t,null,r,e),t.child=e;e;)e.flags=e.flags&-3|4096,e=e.sibling;else{if(_g(),r===i){t=Yl(n,t,e);break t}Ei(n,t,r,e)}t=t.child}return t;case 5:return yP(t),n===null&&yA(t),r=t.type,i=t.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,fA(r,i)?o=null:s!==null&&fA(r,s)&&(t.flags|=32),HP(n,t),Ei(n,t,o,e),t.child;case 6:return n===null&&yA(t),null;case 13:return VP(n,t,e);case 4:return l_(t,t.stateNode.containerInfo),r=t.pendingProps,n===null?t.child=Eg(t,null,r,e):Ei(n,t,r,e),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:bo(r,i),UE(n,t,r,i,e);case 7:return Ei(n,t,t.pendingProps,e),t.child;case 8:return Ei(n,t,t.pendingProps.children,e),t.child;case 12:return Ei(n,t,t.pendingProps.children,e),t.child;case 10:t:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,hn(g5,r._currentValue),r._currentValue=o,s!==null)if(Ho(s.value,o)){if(s.children===i.children&&!Wi.current){t=Yl(n,t,e);break t}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Hl(-1,e&-e),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=e,l=s.alternate,l!==null&&(l.lanes|=e),wA(s.return,e,t),a.lanes|=e;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Rt(341));o.lanes|=e,a=o.alternate,a!==null&&(a.lanes|=e),wA(o,e,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ei(n,t,i.children,e),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Qf(t,e),i=io(i),r=r(i),t.flags|=1,Ei(n,t,r,e),t.child;case 14:return r=t.type,i=bo(r,t.pendingProps),i=bo(r.type,i),qE(n,t,r,i,e);case 15:return UP(n,t,t.type,t.pendingProps,e);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:bo(r,i),uy(n,t),t.tag=1,Gi(r)?(n=!0,d5(t)):n=!1,Qf(t,e),jP(t,r,i),xA(t,r,i,e),_A(null,t,r,!0,n,e);case 19:return WP(n,t,e);case 22:return qP(n,t,e)}throw Error(Rt(156,t.tag))};function lk(n,t){return FL(n,t)}function n7(n,t,e,r){this.tag=n,this.key=e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function eo(n,t,e,r){return new n7(n,t,e,r)}function S_(n){return n=n.prototype,!(!n||!n.isReactComponent)}function r7(n){if(typeof n=="function")return S_(n)?1:0;if(n!=null){if(n=n.$$typeof,n===q3)return 11;if(n===H3)return 14}return 2}function Eu(n,t){var e=n.alternate;return e===null?(e=eo(n.tag,t,n.key,n.mode),e.elementType=n.elementType,e.type=n.type,e.stateNode=n.stateNode,e.alternate=n,n.alternate=e):(e.pendingProps=t,e.type=n.type,e.flags=0,e.subtreeFlags=0,e.deletions=null),e.flags=n.flags&14680064,e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},e.sibling=n.sibling,e.index=n.index,e.ref=n.ref,e}function fy(n,t,e,r,i,s){var o=2;if(r=n,typeof n=="function")S_(n)&&(o=1);else if(typeof n=="string")o=5;else t:switch(n){case Rf:return Ed(e.children,i,s,t);case U3:o=8,i|=8;break;case Vx:return n=eo(12,e,t,i|2),n.elementType=Vx,n.lanes=s,n;case Wx:return n=eo(13,e,t,i),n.elementType=Wx,n.lanes=s,n;case Gx:return n=eo(19,e,t,i),n.elementType=Gx,n.lanes=s,n;case yL:return Sw(e,i,s,t);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case mL:o=10;break t;case vL:o=9;break t;case q3:o=11;break t;case H3:o=14;break t;case xc:o=16,r=null;break t}throw Error(Rt(130,n==null?n:typeof n,""))}return t=eo(o,e,t,i),t.elementType=n,t.type=r,t.lanes=s,t}function Ed(n,t,e,r){return n=eo(7,n,r,t),n.lanes=e,n}function Sw(n,t,e,r){return n=eo(22,n,r,t),n.elementType=yL,n.lanes=e,n.stateNode={isHidden:!1},n}function gx(n,t,e){return n=eo(6,n,null,t),n.lanes=e,n}function mx(n,t,e){return t=eo(4,n.children!==null?n.children:[],n.key,t),t.lanes=e,t.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},t}function i7(n,t,e,r,i){this.tag=t,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kb(0),this.expirationTimes=Kb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kb(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function __(n,t,e,r,i,s,o,a,l){return n=new i7(n,t,e,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=eo(3,null,null,t),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:e,cache:null,transitions:null,pendingSuspenseBoundaries:null},a_(s),n}function s7(n,t,e){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Tf,key:r==null?null:""+r,children:n,containerInfo:t,implementation:e}}function ck(n){if(!n)return Nu;n=n._reactInternals;t:{if(Bd(n)!==n||n.tag!==1)throw Error(Rt(170));var t=n;do{switch(t.tag){case 3:t=t.stateNode.context;break t;case 1:if(Gi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break t}}t=t.return}while(t!==null);throw Error(Rt(171))}if(n.tag===1){var e=n.type;if(Gi(e))return cP(n,e,t)}return t}function uk(n,t,e,r,i,s,o,a,l){return n=__(e,r,!0,n,i,s,o,a,l),n.context=ck(null),e=n.current,r=Li(),i=_u(e),s=Hl(r,i),s.callback=t??null,Au(e,s,i),n.current.lanes=i,g2(n,i,r),Xi(n,r),n}function _w(n,t,e,r){var i=t.current,s=Li(),o=_u(i);return e=ck(e),t.context===null?t.context=e:t.pendingContext=e,t=Hl(s,o),t.payload={element:n},r=r===void 0?null:r,r!==null&&(t.callback=r),n=Au(i,t,o),n!==null&&(qo(n,i,o,s),ay(n,i,o)),o}function E5(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function tC(n,t){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var e=n.retryLane;n.retryLane=e!==0&&e<t?e:t}}function E_(n,t){tC(n,t),(n=n.alternate)&&tC(n,t)}function o7(){return null}var hk=typeof reportError=="function"?reportError:function(n){console.error(n)};function C_(n){this._internalRoot=n}Ew.prototype.render=C_.prototype.render=function(n){var t=this._internalRoot;if(t===null)throw Error(Rt(409));_w(n,t,null,null)};Ew.prototype.unmount=C_.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var t=n.containerInfo;Rd(function(){_w(null,n,null,null)}),t[Gl]=null}};function Ew(n){this._internalRoot=n}Ew.prototype.unstable_scheduleHydration=function(n){if(n){var t=qL();n={blockedOn:null,target:n,priority:t};for(var e=0;e<Sc.length&&t!==0&&t<Sc[e].priority;e++);Sc.splice(e,0,n),e===0&&$L(n)}};function N_(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Cw(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function eC(){}function a7(n,t,e,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=E5(o);s.call(c)}}var o=uk(t,r,n,0,null,!1,!1,"",eC);return n._reactRootContainer=o,n[Gl]=o.current,x0(n.nodeType===8?n.parentNode:n),Rd(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=E5(l);a.call(c)}}var l=__(n,0,!1,null,null,!1,!1,"",eC);return n._reactRootContainer=l,n[Gl]=l.current,x0(n.nodeType===8?n.parentNode:n),Rd(function(){_w(t,l,e,r)}),l}function Nw(n,t,e,r,i){var s=e._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=E5(o);a.call(l)}}_w(t,o,n,i)}else o=a7(e,t,n,i,r);return E5(o)}zL=function(n){switch(n.tag){case 3:var t=n.stateNode;if(t.current.memoizedState.isDehydrated){var e=Mm(t.pendingLanes);e!==0&&(W3(t,e|1),Xi(t,Vn()),!(je&6)&&(Lg=Vn()+500,Uu()))}break;case 13:Rd(function(){var r=Xl(n,1);if(r!==null){var i=Li();qo(r,n,1,i)}}),E_(n,1)}};G3=function(n){if(n.tag===13){var t=Xl(n,134217728);if(t!==null){var e=Li();qo(t,n,134217728,e)}E_(n,134217728)}};UL=function(n){if(n.tag===13){var t=_u(n),e=Xl(n,t);if(e!==null){var r=Li();qo(e,n,t,r)}E_(n,t)}};qL=function(){return Ze};HL=function(n,t){var e=Ze;try{return Ze=n,t()}finally{Ze=e}};rA=function(n,t,e){switch(t){case"input":if(Kx(n,e),t=e.name,e.type==="radio"&&t!=null){for(e=n;e.parentNode;)e=e.parentNode;for(e=e.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<e.length;t++){var r=e[t];if(r!==n&&r.form===n.form){var i=vw(r);if(!i)throw Error(Rt(90));bL(r),Kx(r,i)}}}break;case"textarea":AL(n,e);break;case"select":t=e.value,t!=null&&Gf(n,!!e.multiple,t,!1)}};PL=b_;kL=Rd;var l7={usingClientEntryPoint:!1,Events:[v2,Of,vw,NL,LL,b_]},Am={findFiberByHostInstance:lh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},c7={bundleType:Am.bundleType,version:Am.version,rendererPackageName:Am.rendererPackageName,rendererConfig:Am.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zl.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=IL(n),n===null?null:n.stateNode},findFiberByHostInstance:Am.findFiberByHostInstance||o7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bv.isDisabled&&Bv.supportsFiber)try{fw=Bv.inject(c7),Fa=Bv}catch{}}Ts.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l7;Ts.createPortal=function(n,t){var e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!N_(t))throw Error(Rt(200));return s7(n,t,null,e)};Ts.createRoot=function(n,t){if(!N_(n))throw Error(Rt(299));var e=!1,r="",i=hk;return t!=null&&(t.unstable_strictMode===!0&&(e=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=__(n,1,!1,null,null,e,!1,r,i),n[Gl]=t.current,x0(n.nodeType===8?n.parentNode:n),new C_(t)};Ts.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var t=n._reactInternals;if(t===void 0)throw typeof n.render=="function"?Error(Rt(188)):(n=Object.keys(n).join(","),Error(Rt(268,n)));return n=IL(t),n=n===null?null:n.stateNode,n};Ts.flushSync=function(n){return Rd(n)};Ts.hydrate=function(n,t,e){if(!Cw(t))throw Error(Rt(200));return Nw(null,n,t,!0,e)};Ts.hydrateRoot=function(n,t,e){if(!N_(n))throw Error(Rt(405));var r=e!=null&&e.hydratedSources||null,i=!1,s="",o=hk;if(e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),t=uk(t,null,n,1,e??null,i,!1,s,o),n[Gl]=t.current,x0(n),r)for(n=0;n<r.length;n++)e=r[n],i=e._getVersion,i=i(e._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[e,i]:t.mutableSourceEagerHydrationData.push(e,i);return new Ew(t)};Ts.render=function(n,t,e){if(!Cw(t))throw Error(Rt(200));return Nw(null,n,t,!1,e)};Ts.unmountComponentAtNode=function(n){if(!Cw(n))throw Error(Rt(40));return n._reactRootContainer?(Rd(function(){Nw(null,null,n,!1,function(){n._reactRootContainer=null,n[Gl]=null})}),!0):!1};Ts.unstable_batchedUpdates=b_;Ts.unstable_renderSubtreeIntoContainer=function(n,t,e,r){if(!Cw(e))throw Error(Rt(200));if(n==null||n._reactInternals===void 0)throw Error(Rt(38));return Nw(n,t,e,!1,r)};Ts.version="18.3.1-next-f1338f8080-20240426";function dk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dk)}catch(n){console.error(n)}}dk(),dL.exports=Ts;var w2=dL.exports;const fk=ZN(w2);var pk,nC=w2;pk=nC.createRoot,nC.hydrateRoot;const u7=1,h7=1e6;let vx=0;function d7(){return vx=(vx+1)%Number.MAX_SAFE_INTEGER,vx.toString()}const yx=new Map,rC=n=>{if(yx.has(n))return;const t=setTimeout(()=>{yx.delete(n),u0({type:"REMOVE_TOAST",toastId:n})},h7);yx.set(n,t)},f7=(n,t)=>{switch(t.type){case"ADD_TOAST":return{...n,toasts:[t.toast,...n.toasts].slice(0,u7)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{const{toastId:e}=t;return e?rC(e):n.toasts.forEach(r=>{rC(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===e||e===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(e=>e.id!==t.toastId)}}},py=[];let gy={toasts:[]};function u0(n){gy=f7(gy,n),py.forEach(t=>{t(gy)})}function p7({...n}){const t=d7(),e=i=>u0({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>u0({type:"DISMISS_TOAST",toastId:t});return u0({type:"ADD_TOAST",toast:{...n,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:e}}function L_(){const[n,t]=Z.useState(gy);return Z.useEffect(()=>(py.push(t),()=>{const e=py.indexOf(t);e>-1&&py.splice(e,1)}),[n]),{...n,toast:p7,dismiss:e=>u0({type:"DISMISS_TOAST",toastId:e})}}function gr(n,t,{checkForDefaultPrevented:e=!0}={}){return function(i){if(n==null||n(i),e===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function iC(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function gk(...n){return t=>{let e=!1;const r=n.map(i=>{const s=iC(i,t);return!e&&typeof s=="function"&&(e=!0),s});if(e)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():iC(n[i],null)}}}}function $o(...n){return Z.useCallback(gk(...n),n)}function Lw(n,t=[]){let e=[];function r(s,o){const a=Z.createContext(o),l=e.length;e=[...e,o];const c=d=>{var y;const{scope:g,children:f,...w}=d,v=((y=g==null?void 0:g[n])==null?void 0:y[l])||a,x=Z.useMemo(()=>w,Object.values(w));return it.jsx(v.Provider,{value:x,children:f})};c.displayName=s+"Provider";function h(d,g){var v;const f=((v=g==null?void 0:g[n])==null?void 0:v[l])||a,w=Z.useContext(f);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,h]}const i=()=>{const s=e.map(o=>Z.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return Z.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return i.scopeName=n,[r,g7(i,...t)]}function g7(...n){const t=n[0];if(n.length===1)return t;const e=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return Z.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return e.scopeName=t.scopeName,e}function C5(n){const t=v7(n),e=Z.forwardRef((r,i)=>{const{children:s,...o}=r,a=Z.Children.toArray(s),l=a.find(w7);if(l){const c=l.props.children,h=a.map(d=>d===l?Z.Children.count(c)>1?Z.Children.only(null):Z.isValidElement(c)?c.props.children:null:d);return it.jsx(t,{...o,ref:i,children:Z.isValidElement(c)?Z.cloneElement(c,void 0,h):null})}return it.jsx(t,{...o,ref:i,children:s})});return e.displayName=`${n}.Slot`,e}var m7=C5("Slot");function v7(n){const t=Z.forwardRef((e,r)=>{const{children:i,...s}=e;if(Z.isValidElement(i)){const o=x7(i),a=b7(s,i.props);return i.type!==Z.Fragment&&(a.ref=r?gk(r,o):o),Z.cloneElement(i,a)}return Z.Children.count(i)>1?Z.Children.only(null):null});return t.displayName=`${n}.SlotClone`,t}var mk=Symbol("radix.slottable");function y7(n){const t=({children:e})=>it.jsx(it.Fragment,{children:e});return t.displayName=`${n}.Slottable`,t.__radixId=mk,t}function w7(n){return Z.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===mk}function b7(n,t){const e={...t};for(const r in t){const i=n[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?e[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(e[r]=i):r==="style"?e[r]={...i,...s}:r==="className"&&(e[r]=[i,s].filter(Boolean).join(" "))}return{...n,...e}}function x7(n){var r,i;let t=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?n.ref:(t=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?n.props.ref:n.props.ref||n.ref)}function A7(n){const t=n+"CollectionProvider",[e,r]=Lw(t),[i,s]=e(t,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:x,children:y}=v,b=Ot.useRef(null),_=Ot.useRef(new Map).current;return it.jsx(i,{scope:x,itemMap:_,collectionRef:b,children:y})};o.displayName=t;const a=n+"CollectionSlot",l=C5(a),c=Ot.forwardRef((v,x)=>{const{scope:y,children:b}=v,_=s(a,y),N=$o(x,_.collectionRef);return it.jsx(l,{ref:N,children:b})});c.displayName=a;const h=n+"CollectionItemSlot",d="data-radix-collection-item",g=C5(h),f=Ot.forwardRef((v,x)=>{const{scope:y,children:b,..._}=v,N=Ot.useRef(null),L=$o(x,N),O=s(h,y);return Ot.useEffect(()=>(O.itemMap.set(N,{ref:N,..._}),()=>void O.itemMap.delete(N))),it.jsx(g,{[d]:"",ref:L,children:b})});f.displayName=h;function w(v){const x=s(n+"CollectionConsumer",v);return Ot.useCallback(()=>{const b=x.collectionRef.current;if(!b)return[];const _=Array.from(b.querySelectorAll(`[${d}]`));return Array.from(x.itemMap.values()).sort((O,I)=>_.indexOf(O.ref.current)-_.indexOf(I.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},w,r]}var S7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],fi=S7.reduce((n,t)=>{const e=C5(`Primitive.${t}`),r=Z.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?e:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),it.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...n,[t]:r}},{});function vk(n,t){n&&w2.flushSync(()=>n.dispatchEvent(t))}function Lu(n){const t=Z.useRef(n);return Z.useEffect(()=>{t.current=n}),Z.useMemo(()=>(...e)=>{var r;return(r=t.current)==null?void 0:r.call(t,...e)},[])}function _7(n,t=globalThis==null?void 0:globalThis.document){const e=Lu(n);Z.useEffect(()=>{const r=i=>{i.key==="Escape"&&e(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[e,t])}var E7="DismissableLayer",OA="dismissableLayer.update",C7="dismissableLayer.pointerDownOutside",N7="dismissableLayer.focusOutside",sC,yk=Z.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),P_=Z.forwardRef((n,t)=>{const{disableOutsidePointerEvents:e=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=n,c=Z.useContext(yk),[h,d]=Z.useState(null),g=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=Z.useState({}),w=$o(t,I=>d(I)),v=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=v.indexOf(x),b=h?v.indexOf(h):-1,_=c.layersWithOutsidePointerEventsDisabled.size>0,N=b>=y,L=P7(I=>{const D=I.target,V=[...c.branches].some(Q=>Q.contains(D));!N||V||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},g),O=k7(I=>{const D=I.target;[...c.branches].some(Q=>Q.contains(D))||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},g);return _7(I=>{b===c.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},g),Z.useEffect(()=>{if(h)return e&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(sC=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(h)),c.layers.add(h),oC(),()=>{e&&c.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=sC)}},[h,g,e,c]),Z.useEffect(()=>()=>{h&&(c.layers.delete(h),c.layersWithOutsidePointerEventsDisabled.delete(h),oC())},[h,c]),Z.useEffect(()=>{const I=()=>f({});return document.addEventListener(OA,I),()=>document.removeEventListener(OA,I)},[]),it.jsx(fi.div,{...l,ref:w,style:{pointerEvents:_?N?"auto":"none":void 0,...n.style},onFocusCapture:gr(n.onFocusCapture,O.onFocusCapture),onBlurCapture:gr(n.onBlurCapture,O.onBlurCapture),onPointerDownCapture:gr(n.onPointerDownCapture,L.onPointerDownCapture)})});P_.displayName=E7;var L7="DismissableLayerBranch",wk=Z.forwardRef((n,t)=>{const e=Z.useContext(yk),r=Z.useRef(null),i=$o(t,r);return Z.useEffect(()=>{const s=r.current;if(s)return e.branches.add(s),()=>{e.branches.delete(s)}},[e.branches]),it.jsx(fi.div,{...n,ref:i})});wk.displayName=L7;function P7(n,t=globalThis==null?void 0:globalThis.document){const e=Lu(n),r=Z.useRef(!1),i=Z.useRef(()=>{});return Z.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){bk(C7,e,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=l,t.addEventListener("click",i.current,{once:!0})):l()}else t.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,e]),{onPointerDownCapture:()=>r.current=!0}}function k7(n,t=globalThis==null?void 0:globalThis.document){const e=Lu(n),r=Z.useRef(!1);return Z.useEffect(()=>{const i=s=>{s.target&&!r.current&&bk(N7,e,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,e]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function oC(){const n=new CustomEvent(OA);document.dispatchEvent(n)}function bk(n,t,e,{discrete:r}){const i=e.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:e});t&&i.addEventListener(n,t,{once:!0}),r?vk(i,s):i.dispatchEvent(s)}var T7=P_,R7=wk,Pu=globalThis!=null&&globalThis.document?Z.useLayoutEffect:()=>{},I7="Portal",xk=Z.forwardRef((n,t)=>{var a;const{container:e,...r}=n,[i,s]=Z.useState(!1);Pu(()=>s(!0),[]);const o=e||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?fk.createPortal(it.jsx(fi.div,{...r,ref:t}),o):null});xk.displayName=I7;function M7(n,t){return Z.useReducer((e,r)=>t[e][r]??e,n)}var k_=n=>{const{present:t,children:e}=n,r=F7(t),i=typeof e=="function"?e({present:r.isPresent}):Z.Children.only(e),s=$o(r.ref,O7(i));return typeof e=="function"||r.isPresent?Z.cloneElement(i,{ref:s}):null};k_.displayName="Presence";function F7(n){const[t,e]=Z.useState(),r=Z.useRef(null),i=Z.useRef(n),s=Z.useRef("none"),o=n?"mounted":"unmounted",[a,l]=M7(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return Z.useEffect(()=>{const c=zv(r.current);s.current=a==="mounted"?c:"none"},[a]),Pu(()=>{const c=r.current,h=i.current;if(h!==n){const g=s.current,f=zv(c);n?l("MOUNT"):f==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(h&&g!==f?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,l]),Pu(()=>{if(t){let c;const h=t.ownerDocument.defaultView??window,d=f=>{const v=zv(r.current).includes(f.animationName);if(f.target===t&&v&&(l("ANIMATION_END"),!i.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",c=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},g=f=>{f.target===t&&(s.current=zv(r.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{h.clearTimeout(c),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:Z.useCallback(c=>{r.current=c?getComputedStyle(c):null,e(c)},[])}}function zv(n){return(n==null?void 0:n.animationName)||"none"}function O7(n){var r,i;let t=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?n.ref:(t=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?n.props.ref:n.props.ref||n.ref)}var D7=uL[" useInsertionEffect ".trim().toString()]||Pu;function j7({prop:n,defaultProp:t,onChange:e=()=>{},caller:r}){const[i,s,o]=B7({defaultProp:t,onChange:e}),a=n!==void 0,l=a?n:i;{const h=Z.useRef(n!==void 0);Z.useEffect(()=>{const d=h.current;d!==a&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=a},[a,r])}const c=Z.useCallback(h=>{var d;if(a){const g=z7(h)?h(n):h;g!==n&&((d=o.current)==null||d.call(o,g))}else s(h)},[a,n,s,o]);return[l,c]}function B7({defaultProp:n,onChange:t}){const[e,r]=Z.useState(n),i=Z.useRef(e),s=Z.useRef(t);return D7(()=>{s.current=t},[t]),Z.useEffect(()=>{var o;i.current!==e&&((o=s.current)==null||o.call(s,e),i.current=e)},[e,i]),[e,r,s]}function z7(n){return typeof n=="function"}var U7=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),q7="VisuallyHidden",Pw=Z.forwardRef((n,t)=>it.jsx(fi.span,{...n,ref:t,style:{...U7,...n.style}}));Pw.displayName=q7;var H7=Pw,T_="ToastProvider",[R_,$7,V7]=A7("Toast"),[Ak,A$]=Lw("Toast",[V7]),[W7,kw]=Ak(T_),Sk=n=>{const{__scopeToast:t,label:e="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=n,[a,l]=Z.useState(null),[c,h]=Z.useState(0),d=Z.useRef(!1),g=Z.useRef(!1);return e.trim()||console.error(`Invalid prop \`label\` supplied to \`${T_}\`. Expected non-empty \`string\`.`),it.jsx(R_.Provider,{scope:t,children:it.jsx(W7,{scope:t,label:e,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:Z.useCallback(()=>h(f=>f+1),[]),onToastRemove:Z.useCallback(()=>h(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:g,children:o})})};Sk.displayName=T_;var _k="ToastViewport",G7=["F8"],DA="toast.viewportPause",jA="toast.viewportResume",Ek=Z.forwardRef((n,t)=>{const{__scopeToast:e,hotkey:r=G7,label:i="Notifications ({hotkey})",...s}=n,o=kw(_k,e),a=$7(e),l=Z.useRef(null),c=Z.useRef(null),h=Z.useRef(null),d=Z.useRef(null),g=$o(t,d,o.onViewportChange),f=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;Z.useEffect(()=>{const x=y=>{var _;r.length!==0&&r.every(N=>y[N]||y.code===N)&&((_=d.current)==null||_.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),Z.useEffect(()=>{const x=l.current,y=d.current;if(w&&x&&y){const b=()=>{if(!o.isClosePausedRef.current){const O=new CustomEvent(DA);y.dispatchEvent(O),o.isClosePausedRef.current=!0}},_=()=>{if(o.isClosePausedRef.current){const O=new CustomEvent(jA);y.dispatchEvent(O),o.isClosePausedRef.current=!1}},N=O=>{!x.contains(O.relatedTarget)&&_()},L=()=>{x.contains(document.activeElement)||_()};return x.addEventListener("focusin",b),x.addEventListener("focusout",N),x.addEventListener("pointermove",b),x.addEventListener("pointerleave",L),window.addEventListener("blur",b),window.addEventListener("focus",_),()=>{x.removeEventListener("focusin",b),x.removeEventListener("focusout",N),x.removeEventListener("pointermove",b),x.removeEventListener("pointerleave",L),window.removeEventListener("blur",b),window.removeEventListener("focus",_)}}},[w,o.isClosePausedRef]);const v=Z.useCallback(({tabbingDirection:x})=>{const b=a().map(_=>{const N=_.ref.current,L=[N,...oO(N)];return x==="forwards"?L:L.reverse()});return(x==="forwards"?b.reverse():b).flat()},[a]);return Z.useEffect(()=>{const x=d.current;if(x){const y=b=>{var L,O,I;const _=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!_){const D=document.activeElement,V=b.shiftKey;if(b.target===x&&V){(L=c.current)==null||L.focus();return}const j=v({tabbingDirection:V?"backwards":"forwards"}),Y=j.findIndex(H=>H===D);wx(j.slice(Y+1))?b.preventDefault():V?(O=c.current)==null||O.focus():(I=h.current)==null||I.focus()}};return x.addEventListener("keydown",y),()=>x.removeEventListener("keydown",y)}},[a,v]),it.jsxs(R7,{ref:l,role:"region","aria-label":i.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&it.jsx(BA,{ref:c,onFocusFromOutsideViewport:()=>{const x=v({tabbingDirection:"forwards"});wx(x)}}),it.jsx(R_.Slot,{scope:e,children:it.jsx(fi.ol,{tabIndex:-1,...s,ref:g})}),w&&it.jsx(BA,{ref:h,onFocusFromOutsideViewport:()=>{const x=v({tabbingDirection:"backwards"});wx(x)}})]})});Ek.displayName=_k;var Ck="ToastFocusProxy",BA=Z.forwardRef((n,t)=>{const{__scopeToast:e,onFocusFromOutsideViewport:r,...i}=n,s=kw(Ck,e);return it.jsx(Pw,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});BA.displayName=Ck;var b2="Toast",X7="toast.swipeStart",Y7="toast.swipeMove",K7="toast.swipeCancel",Q7="toast.swipeEnd",Nk=Z.forwardRef((n,t)=>{const{forceMount:e,open:r,defaultOpen:i,onOpenChange:s,...o}=n,[a,l]=j7({prop:r,defaultProp:i??!0,onChange:s,caller:b2});return it.jsx(k_,{present:e||a,children:it.jsx(tO,{open:a,...o,ref:t,onClose:()=>l(!1),onPause:Lu(n.onPause),onResume:Lu(n.onResume),onSwipeStart:gr(n.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:gr(n.onSwipeMove,c=>{const{x:h,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:gr(n.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:gr(n.onSwipeEnd,c=>{const{x:h,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});Nk.displayName=b2;var[J7,Z7]=Ak(b2,{onClose(){}}),tO=Z.forwardRef((n,t)=>{const{__scopeToast:e,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:h,onSwipeMove:d,onSwipeCancel:g,onSwipeEnd:f,...w}=n,v=kw(b2,e),[x,y]=Z.useState(null),b=$o(t,H=>y(H)),_=Z.useRef(null),N=Z.useRef(null),L=i||v.duration,O=Z.useRef(0),I=Z.useRef(L),D=Z.useRef(0),{onToastAdd:V,onToastRemove:Q}=v,P=Lu(()=>{var dt;(x==null?void 0:x.contains(document.activeElement))&&((dt=v.viewport)==null||dt.focus()),o()}),j=Z.useCallback(H=>{!H||H===1/0||(window.clearTimeout(D.current),O.current=new Date().getTime(),D.current=window.setTimeout(P,H))},[P]);Z.useEffect(()=>{const H=v.viewport;if(H){const dt=()=>{j(I.current),c==null||c()},J=()=>{const rt=new Date().getTime()-O.current;I.current=I.current-rt,window.clearTimeout(D.current),l==null||l()};return H.addEventListener(DA,J),H.addEventListener(jA,dt),()=>{H.removeEventListener(DA,J),H.removeEventListener(jA,dt)}}},[v.viewport,L,l,c,j]),Z.useEffect(()=>{s&&!v.isClosePausedRef.current&&j(L)},[s,L,v.isClosePausedRef,j]),Z.useEffect(()=>(V(),()=>Q()),[V,Q]);const Y=Z.useMemo(()=>x?Mk(x):null,[x]);return v.viewport?it.jsxs(it.Fragment,{children:[Y&&it.jsx(eO,{__scopeToast:e,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:Y}),it.jsx(J7,{scope:e,onClose:P,children:w2.createPortal(it.jsx(R_.ItemSlot,{scope:e,children:it.jsx(T7,{asChild:!0,onEscapeKeyDown:gr(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||P(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:it.jsx(fi.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":v.swipeDirection,...w,ref:b,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:gr(n.onKeyDown,H=>{H.key==="Escape"&&(a==null||a(H.nativeEvent),H.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:gr(n.onPointerDown,H=>{H.button===0&&(_.current={x:H.clientX,y:H.clientY})}),onPointerMove:gr(n.onPointerMove,H=>{if(!_.current)return;const dt=H.clientX-_.current.x,J=H.clientY-_.current.y,rt=!!N.current,W=["left","right"].includes(v.swipeDirection),tt=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,ct=W?tt(0,dt):0,St=W?0:tt(0,J),T=H.pointerType==="touch"?10:2,$={x:ct,y:St},X={originalEvent:H,delta:$};rt?(N.current=$,Uv(Y7,d,X,{discrete:!1})):aC($,v.swipeDirection,T)?(N.current=$,Uv(X7,h,X,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(dt)>T||Math.abs(J)>T)&&(_.current=null)}),onPointerUp:gr(n.onPointerUp,H=>{const dt=N.current,J=H.target;if(J.hasPointerCapture(H.pointerId)&&J.releasePointerCapture(H.pointerId),N.current=null,_.current=null,dt){const rt=H.currentTarget,W={originalEvent:H,delta:dt};aC(dt,v.swipeDirection,v.swipeThreshold)?Uv(Q7,f,W,{discrete:!0}):Uv(K7,g,W,{discrete:!0}),rt.addEventListener("click",tt=>tt.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),eO=n=>{const{__scopeToast:t,children:e,...r}=n,i=kw(b2,t),[s,o]=Z.useState(!1),[a,l]=Z.useState(!1);return iO(()=>o(!0)),Z.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:it.jsx(xk,{asChild:!0,children:it.jsx(Pw,{...r,children:s&&it.jsxs(it.Fragment,{children:[i.label," ",e]})})})},nO="ToastTitle",Lk=Z.forwardRef((n,t)=>{const{__scopeToast:e,...r}=n;return it.jsx(fi.div,{...r,ref:t})});Lk.displayName=nO;var rO="ToastDescription",Pk=Z.forwardRef((n,t)=>{const{__scopeToast:e,...r}=n;return it.jsx(fi.div,{...r,ref:t})});Pk.displayName=rO;var kk="ToastAction",Tk=Z.forwardRef((n,t)=>{const{altText:e,...r}=n;return e.trim()?it.jsx(Ik,{altText:e,asChild:!0,children:it.jsx(I_,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${kk}\`. Expected non-empty \`string\`.`),null)});Tk.displayName=kk;var Rk="ToastClose",I_=Z.forwardRef((n,t)=>{const{__scopeToast:e,...r}=n,i=Z7(Rk,e);return it.jsx(Ik,{asChild:!0,children:it.jsx(fi.button,{type:"button",...r,ref:t,onClick:gr(n.onClick,i.onClose)})})});I_.displayName=Rk;var Ik=Z.forwardRef((n,t)=>{const{__scopeToast:e,altText:r,...i}=n;return it.jsx(fi.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function Mk(n){const t=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),sO(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...Mk(r))}}),t}function Uv(n,t,e,{discrete:r}){const i=e.originalEvent.currentTarget,s=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:e});t&&i.addEventListener(n,t,{once:!0}),r?vk(i,s):i.dispatchEvent(s)}var aC=(n,t,e=0)=>{const r=Math.abs(n.x),i=Math.abs(n.y),s=r>i;return t==="left"||t==="right"?s&&r>e:!s&&i>e};function iO(n=()=>{}){const t=Lu(n);Pu(()=>{let e=0,r=0;return e=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(e),window.cancelAnimationFrame(r)}},[t])}function sO(n){return n.nodeType===n.ELEMENT_NODE}function oO(n){const t=[],e=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;e.nextNode();)t.push(e.currentNode);return t}function wx(n){const t=document.activeElement;return n.some(e=>e===t?!0:(e.focus(),document.activeElement!==t))}var aO=Sk,Fk=Ek,Ok=Nk,Dk=Lk,jk=Pk,Bk=Tk,zk=I_;function Uk(n){var t,e,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(t=0;t<i;t++)n[t]&&(e=Uk(n[t]))&&(r&&(r+=" "),r+=e)}else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function qk(){for(var n,t,e=0,r="",i=arguments.length;e<i;e++)(n=arguments[e])&&(t=Uk(n))&&(r&&(r+=" "),r+=t);return r}const lC=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,cC=qk,M_=(n,t)=>e=>{var r;if((t==null?void 0:t.variants)==null)return cC(n,e==null?void 0:e.class,e==null?void 0:e.className);const{variants:i,defaultVariants:s}=t,o=Object.keys(i).map(c=>{const h=e==null?void 0:e[c],d=s==null?void 0:s[c];if(h===null)return null;const g=lC(h)||lC(d);return i[c][g]}),a=e&&Object.entries(e).reduce((c,h)=>{let[d,g]=h;return g===void 0||(c[d]=g),c},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,h)=>{let{class:d,className:g,...f}=h;return Object.entries(f).every(w=>{let[v,x]=w;return Array.isArray(x)?x.includes({...s,...a}[v]):{...s,...a}[v]===x})?[...c,d,g]:c},[]);return cC(n,o,l,e==null?void 0:e.class,e==null?void 0:e.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Hk=(...n)=>n.filter((t,e,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===e).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=Z.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>Z.createElement("svg",{ref:l,...cO,width:t,height:t,stroke:n,strokeWidth:r?Number(e)*24/Number(t):e,className:Hk("lucide",i),...a},[...o.map(([c,h])=>Z.createElement(c,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=(n,t)=>{const e=Z.forwardRef(({className:r,...i},s)=>Z.createElement(uO,{ref:s,iconNode:t,className:Hk(`lucide-${lO(n)}`,r),...i}));return e.displayName=`${n}`,e};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=yr("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=yr("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=yr("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=yr("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=yr("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=yr("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=yr("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=yr("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=yr("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=yr("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=yr("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=yr("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=yr("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=yr("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=yr("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=yr("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=yr("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=yr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=yr("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),F_="-",EO=n=>{const t=NO(n),{conflictingClassGroups:e,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:o=>{const a=o.split(F_);return a[0]===""&&a.length!==1&&a.shift(),Vk(a,t)||CO(o)},getConflictingClassGroupIds:(o,a)=>{const l=e[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},Vk=(n,t)=>{var o;if(n.length===0)return t.classGroupId;const e=n[0],r=t.nextPart.get(e),i=r?Vk(n.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const s=n.join(F_);return(o=t.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},dC=/^\[(.+)\]$/,CO=n=>{if(dC.test(n)){const t=dC.exec(n)[1],e=t==null?void 0:t.substring(0,t.indexOf(":"));if(e)return"arbitrary.."+e}},NO=n=>{const{theme:t,prefix:e}=n,r={nextPart:new Map,validators:[]};return PO(Object.entries(n.classGroups),e).forEach(([s,o])=>{UA(o,r,s,t)}),r},UA=(n,t,e,r)=>{n.forEach(i=>{if(typeof i=="string"){const s=i===""?t:fC(t,i);s.classGroupId=e;return}if(typeof i=="function"){if(LO(i)){UA(i(r),t,e,r);return}t.validators.push({validator:i,classGroupId:e});return}Object.entries(i).forEach(([s,o])=>{UA(o,fC(t,s),e,r)})})},fC=(n,t)=>{let e=n;return t.split(F_).forEach(r=>{e.nextPart.has(r)||e.nextPart.set(r,{nextPart:new Map,validators:[]}),e=e.nextPart.get(r)}),e},LO=n=>n.isThemeGetter,PO=(n,t)=>t?n.map(([e,r])=>{const i=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[t+o,a])):s);return[e,i]}):n,kO=n=>{if(n<1)return{get:()=>{},set:()=>{}};let t=0,e=new Map,r=new Map;const i=(s,o)=>{e.set(s,o),t++,t>n&&(t=0,r=e,e=new Map)};return{get(s){let o=e.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){e.has(s)?e.set(s,o):i(s,o)}}},Wk="!",TO=n=>{const{separator:t,experimentalParseClassName:e}=n,r=t.length===1,i=t[0],s=t.length,o=a=>{const l=[];let c=0,h=0,d;for(let x=0;x<a.length;x++){let y=a[x];if(c===0){if(y===i&&(r||a.slice(x,x+s)===t)){l.push(a.slice(h,x)),h=x+s;continue}if(y==="/"){d=x;continue}}y==="["?c++:y==="]"&&c--}const g=l.length===0?a:a.substring(h),f=g.startsWith(Wk),w=f?g.substring(1):g,v=d&&d>h?d-h:void 0;return{modifiers:l,hasImportantModifier:f,baseClassName:w,maybePostfixModifierPosition:v}};return e?a=>e({className:a,parseClassName:o}):o},RO=n=>{if(n.length<=1)return n;const t=[];let e=[];return n.forEach(r=>{r[0]==="["?(t.push(...e.sort(),r),e=[]):e.push(r)}),t.push(...e.sort()),t},IO=n=>({cache:kO(n.cacheSize),parseClassName:TO(n),...EO(n)}),MO=/\s+/,FO=(n,t)=>{const{parseClassName:e,getClassGroupId:r,getConflictingClassGroupIds:i}=t,s=[],o=n.trim().split(MO);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:h,hasImportantModifier:d,baseClassName:g,maybePostfixModifierPosition:f}=e(c);let w=!!f,v=r(w?g.substring(0,f):g);if(!v){if(!w){a=c+(a.length>0?" "+a:a);continue}if(v=r(g),!v){a=c+(a.length>0?" "+a:a);continue}w=!1}const x=RO(h).join(":"),y=d?x+Wk:x,b=y+v;if(s.includes(b))continue;s.push(b);const _=i(v,w);for(let N=0;N<_.length;++N){const L=_[N];s.push(y+L)}a=c+(a.length>0?" "+a:a)}return a};function OO(){let n=0,t,e,r="";for(;n<arguments.length;)(t=arguments[n++])&&(e=Gk(t))&&(r&&(r+=" "),r+=e);return r}const Gk=n=>{if(typeof n=="string")return n;let t,e="";for(let r=0;r<n.length;r++)n[r]&&(t=Gk(n[r]))&&(e&&(e+=" "),e+=t);return e};function DO(n,...t){let e,r,i,s=o;function o(l){const c=t.reduce((h,d)=>d(h),n());return e=IO(c),r=e.cache.get,i=e.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const h=FO(l,e);return i(l,h),h}return function(){return s(OO.apply(null,arguments))}}const pn=n=>{const t=e=>e[n]||[];return t.isThemeGetter=!0,t},Xk=/^\[(?:([a-z-]+):)?(.+)\]$/i,jO=/^\d+\/\d+$/,BO=new Set(["px","full","screen"]),zO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,UO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,qO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,HO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$O=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,tl=n=>Zf(n)||BO.has(n)||jO.test(n),gc=n=>Mg(n,"length",JO),Zf=n=>!!n&&!Number.isNaN(Number(n)),bx=n=>Mg(n,"number",Zf),Sm=n=>!!n&&Number.isInteger(Number(n)),VO=n=>n.endsWith("%")&&Zf(n.slice(0,-1)),Ce=n=>Xk.test(n),mc=n=>zO.test(n),WO=new Set(["length","size","percentage"]),GO=n=>Mg(n,WO,Yk),XO=n=>Mg(n,"position",Yk),YO=new Set(["image","url"]),KO=n=>Mg(n,YO,tD),QO=n=>Mg(n,"",ZO),_m=()=>!0,Mg=(n,t,e)=>{const r=Xk.exec(n);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):e(r[2]):!1},JO=n=>UO.test(n)&&!qO.test(n),Yk=()=>!1,ZO=n=>HO.test(n),tD=n=>$O.test(n),eD=()=>{const n=pn("colors"),t=pn("spacing"),e=pn("blur"),r=pn("brightness"),i=pn("borderColor"),s=pn("borderRadius"),o=pn("borderSpacing"),a=pn("borderWidth"),l=pn("contrast"),c=pn("grayscale"),h=pn("hueRotate"),d=pn("invert"),g=pn("gap"),f=pn("gradientColorStops"),w=pn("gradientColorStopPositions"),v=pn("inset"),x=pn("margin"),y=pn("opacity"),b=pn("padding"),_=pn("saturate"),N=pn("scale"),L=pn("sepia"),O=pn("skew"),I=pn("space"),D=pn("translate"),V=()=>["auto","contain","none"],Q=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",Ce,t],j=()=>[Ce,t],Y=()=>["",tl,gc],H=()=>["auto",Zf,Ce],dt=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],rt=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],W=()=>["start","end","center","between","around","evenly","stretch"],tt=()=>["","0",Ce],ct=()=>["auto","avoid","all","avoid-page","page","left","right","column"],St=()=>[Zf,Ce];return{cacheSize:500,separator:":",theme:{colors:[_m],spacing:[tl,gc],blur:["none","",mc,Ce],brightness:St(),borderColor:[n],borderRadius:["none","","full",mc,Ce],borderSpacing:j(),borderWidth:Y(),contrast:St(),grayscale:tt(),hueRotate:St(),invert:tt(),gap:j(),gradientColorStops:[n],gradientColorStopPositions:[VO,gc],inset:P(),margin:P(),opacity:St(),padding:j(),saturate:St(),scale:St(),sepia:tt(),skew:St(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",Ce]}],container:["container"],columns:[{columns:[mc]}],"break-after":[{"break-after":ct()}],"break-before":[{"break-before":ct()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...dt(),Ce]}],overflow:[{overflow:Q()}],"overflow-x":[{"overflow-x":Q()}],"overflow-y":[{"overflow-y":Q()}],overscroll:[{overscroll:V()}],"overscroll-x":[{"overscroll-x":V()}],"overscroll-y":[{"overscroll-y":V()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Sm,Ce]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ce]}],grow:[{grow:tt()}],shrink:[{shrink:tt()}],order:[{order:["first","last","none",Sm,Ce]}],"grid-cols":[{"grid-cols":[_m]}],"col-start-end":[{col:["auto",{span:["full",Sm,Ce]},Ce]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[_m]}],"row-start-end":[{row:["auto",{span:[Sm,Ce]},Ce]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ce]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...W()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...W(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...W(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ce,t]}],"min-w":[{"min-w":[Ce,t,"min","max","fit"]}],"max-w":[{"max-w":[Ce,t,"none","full","min","max","fit","prose",{screen:[mc]},mc]}],h:[{h:[Ce,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ce,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ce,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ce,t,"auto","min","max","fit"]}],"font-size":[{text:["base",mc,gc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",bx]}],"font-family":[{font:[_m]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ce]}],"line-clamp":[{"line-clamp":["none",Zf,bx]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",tl,Ce]}],"list-image":[{"list-image":["none",Ce]}],"list-style-type":[{list:["none","disc","decimal",Ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",tl,gc]}],"underline-offset":[{"underline-offset":["auto",tl,Ce]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...dt(),XO]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",GO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},KO]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:J()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[tl,Ce]}],"outline-w":[{outline:[tl,gc]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[tl,gc]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",mc,QO]}],"shadow-color":[{shadow:[_m]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...rt(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":rt()}],filter:[{filter:["","none"]}],blur:[{blur:[e]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",mc,Ce]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[d]}],saturate:[{saturate:[_]}],sepia:[{sepia:[L]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[e]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[L]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ce]}],duration:[{duration:St()}],ease:[{ease:["linear","in","out","in-out",Ce]}],delay:[{delay:St()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Sm,Ce]}],"translate-x":[{"translate-x":[D]}],"translate-y":[{"translate-y":[D]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ce]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ce]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ce]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[tl,gc,bx]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},nD=DO(eD);function Ir(...n){return nD(qk(n))}const rD=aO,Kk=Z.forwardRef(({className:n,...t},e)=>it.jsx(Fk,{ref:e,className:Ir("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...t}));Kk.displayName=Fk.displayName;const iD=M_("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Qk=Z.forwardRef(({className:n,variant:t,...e},r)=>it.jsx(Ok,{ref:r,className:Ir(iD({variant:t}),n),...e}));Qk.displayName=Ok.displayName;const sD=Z.forwardRef(({className:n,...t},e)=>it.jsx(Bk,{ref:e,className:Ir("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...t}));sD.displayName=Bk.displayName;const Jk=Z.forwardRef(({className:n,...t},e)=>it.jsx(zk,{ref:e,className:Ir("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...t,children:it.jsx(SO,{className:"h-4 w-4"})}));Jk.displayName=zk.displayName;const Zk=Z.forwardRef(({className:n,...t},e)=>it.jsx(Dk,{ref:e,className:Ir("text-sm font-semibold",n),...t}));Zk.displayName=Dk.displayName;const t6=Z.forwardRef(({className:n,...t},e)=>it.jsx(jk,{ref:e,className:Ir("text-sm opacity-90",n),...t}));t6.displayName=jk.displayName;function oD(){const{toasts:n}=L_();return it.jsxs(rD,{children:[n.map(function({id:t,title:e,description:r,action:i,...s}){return it.jsxs(Qk,{...s,children:[it.jsxs("div",{className:"grid gap-1",children:[e&&it.jsx(Zk,{children:e}),r&&it.jsx(t6,{children:r})]}),i,it.jsx(Jk,{})]},t)}),it.jsx(Kk,{})]})}var pC=["light","dark"],aD="(prefers-color-scheme: dark)",lD=Z.createContext(void 0),cD={setTheme:n=>{},themes:[]},uD=()=>{var n;return(n=Z.useContext(lD))!=null?n:cD};Z.memo(({forcedTheme:n,storageKey:t,attribute:e,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:a,nonce:l})=>{let c=s==="system",h=e==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${e}',s='setAttribute';`,d=i?pC.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",g=(w,v=!1,x=!0)=>{let y=o?o[w]:w,b=v?w+"|| ''":`'${y}'`,_="";return i&&x&&!v&&pC.includes(w)&&(_+=`d.style.colorScheme = '${w}';`),e==="class"?v||y?_+=`c.add(${b})`:_+="null":y&&(_+=`d[s](n,${b})`),_},f=n?`!function(){${h}${g(n)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${c})){var t='${aD}',m=window.matchMedia(t);if(m.media!==t||m.matches){${g("dark")}}else{${g("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${g(o?"x[e]":"e",!0)}}${c?"":"else{"+g(s,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${g(o?"x[e]":"e",!0)}}else{${g(s,!1,!1)};}${d}}catch(t){}}();`;return Z.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:f}})});var hD=n=>{switch(n){case"success":return pD;case"info":return mD;case"warning":return gD;case"error":return vD;default:return null}},dD=Array(12).fill(0),fD=({visible:n,className:t})=>Ot.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":n},Ot.createElement("div",{className:"sonner-spinner"},dD.map((e,r)=>Ot.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),pD=Ot.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ot.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),gD=Ot.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ot.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),mD=Ot.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ot.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),vD=Ot.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ot.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),yD=Ot.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ot.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ot.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),wD=()=>{let[n,t]=Ot.useState(document.hidden);return Ot.useEffect(()=>{let e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),n},qA=1,bD=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...i}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:qA++,o=this.toasts.find(l=>l.id===s),a=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...t,id:s,title:r}),{...l,...t,id:s,dismissible:a,title:r}):l):this.addToast({title:r,...i,dismissible:a,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let i=t instanceof Promise?t:t(),s=r!==void 0,o,a=i.then(async c=>{if(o=["resolve",c],Ot.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(AD(c)&&!c.ok){s=!1;let h=typeof e.error=="function"?await e.error(`HTTP error! status: ${c.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${c.status}`):e.description;this.create({id:r,type:"error",message:h,description:d})}else if(e.success!==void 0){s=!1;let h=typeof e.success=="function"?await e.success(c):e.success,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:r,type:"success",message:h,description:d})}}).catch(async c=>{if(o=["reject",c],e.error!==void 0){s=!1;let h=typeof e.error=="function"?await e.error(c):e.error,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:r,type:"error",message:h,description:d})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=e.finally)==null||c.call(e)}),l=()=>new Promise((c,h)=>a.then(()=>o[0]==="reject"?h(o[1]):c(o[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||qA++;return this.create({jsx:t(r),id:r,...e}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},qi=new bD,xD=(n,t)=>{let e=(t==null?void 0:t.id)||qA++;return qi.addToast({title:n,...t,id:e}),e},AD=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",SD=xD,_D=()=>qi.toasts,ED=()=>qi.getActiveToasts();Object.assign(SD,{success:qi.success,info:qi.info,warning:qi.warning,error:qi.error,custom:qi.custom,message:qi.message,promise:qi.promise,dismiss:qi.dismiss,loading:qi.loading},{getHistory:_D,getToasts:ED});function CD(n,{insertAt:t}={}){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n))}CD(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function qv(n){return n.label!==void 0}var ND=3,LD="32px",PD="16px",gC=4e3,kD=356,TD=14,RD=20,ID=200;function mo(...n){return n.filter(Boolean).join(" ")}function MD(n){let[t,e]=n.split("-"),r=[];return t&&r.push(t),e&&r.push(e),r}var FD=n=>{var t,e,r,i,s,o,a,l,c,h,d;let{invert:g,toast:f,unstyled:w,interacting:v,setHeights:x,visibleToasts:y,heights:b,index:_,toasts:N,expanded:L,removeToast:O,defaultRichColors:I,closeButton:D,style:V,cancelButtonStyle:Q,actionButtonStyle:P,className:j="",descriptionClassName:Y="",duration:H,position:dt,gap:J,loadingIcon:rt,expandByDefault:W,classNames:tt,icons:ct,closeButtonAriaLabel:St="Close toast",pauseWhenPageIsHidden:T}=n,[$,X]=Ot.useState(null),[nt,ot]=Ot.useState(null),[at,vt]=Ot.useState(!1),[yt,Tt]=Ot.useState(!1),[Lt,Ft]=Ot.useState(!1),[Mt,ne]=Ot.useState(!1),[xt,et]=Ot.useState(!1),[he,Yt]=Ot.useState(0),[kt,Dt]=Ot.useState(0),Bt=Ot.useRef(f.duration||H||gC),zt=Ot.useRef(null),Zt=Ot.useRef(null),de=_===0,we=_+1<=y,oe=f.type,Ne=f.dismissible!==!1,We=f.className||"",ce=f.descriptionClassName||"",xe=Ot.useMemo(()=>b.findIndex($t=>$t.toastId===f.id)||0,[b,f.id]),Ht=Ot.useMemo(()=>{var $t;return($t=f.closeButton)!=null?$t:D},[f.closeButton,D]),or=Ot.useMemo(()=>f.duration||H||gC,[f.duration,H]),Te=Ot.useRef(0),wr=Ot.useRef(0),Ge=Ot.useRef(0),qe=Ot.useRef(null),[Is,Ue]=dt.split("-"),Jo=Ot.useMemo(()=>b.reduce(($t,Re,Ae)=>Ae>=xe?$t:$t+Re.height,0),[b,xe]),fn=wD(),Zi=f.invert||g,ts=oe==="loading";wr.current=Ot.useMemo(()=>xe*J+Jo,[xe,Jo]),Ot.useEffect(()=>{Bt.current=or},[or]),Ot.useEffect(()=>{vt(!0)},[]),Ot.useEffect(()=>{let $t=Zt.current;if($t){let Re=$t.getBoundingClientRect().height;return Dt(Re),x(Ae=>[{toastId:f.id,height:Re,position:f.position},...Ae]),()=>x(Ae=>Ae.filter(Tn=>Tn.toastId!==f.id))}},[x,f.id]),Ot.useLayoutEffect(()=>{if(!at)return;let $t=Zt.current,Re=$t.style.height;$t.style.height="auto";let Ae=$t.getBoundingClientRect().height;$t.style.height=Re,Dt(Ae),x(Tn=>Tn.find(Rn=>Rn.toastId===f.id)?Tn.map(Rn=>Rn.toastId===f.id?{...Rn,height:Ae}:Rn):[{toastId:f.id,height:Ae,position:f.position},...Tn])},[at,f.title,f.description,x,f.id]);let He=Ot.useCallback(()=>{Tt(!0),Yt(wr.current),x($t=>$t.filter(Re=>Re.toastId!==f.id)),setTimeout(()=>{O(f)},ID)},[f,O,x,wr]);Ot.useEffect(()=>{if(f.promise&&oe==="loading"||f.duration===1/0||f.type==="loading")return;let $t;return L||v||T&&fn?(()=>{if(Ge.current<Te.current){let Re=new Date().getTime()-Te.current;Bt.current=Bt.current-Re}Ge.current=new Date().getTime()})():Bt.current!==1/0&&(Te.current=new Date().getTime(),$t=setTimeout(()=>{var Re;(Re=f.onAutoClose)==null||Re.call(f,f),He()},Bt.current)),()=>clearTimeout($t)},[L,v,f,oe,T,fn,He]),Ot.useEffect(()=>{f.delete&&He()},[He,f.delete]);function fe(){var $t,Re,Ae;return ct!=null&&ct.loading?Ot.createElement("div",{className:mo(tt==null?void 0:tt.loader,($t=f==null?void 0:f.classNames)==null?void 0:$t.loader,"sonner-loader"),"data-visible":oe==="loading"},ct.loading):rt?Ot.createElement("div",{className:mo(tt==null?void 0:tt.loader,(Re=f==null?void 0:f.classNames)==null?void 0:Re.loader,"sonner-loader"),"data-visible":oe==="loading"},rt):Ot.createElement(fD,{className:mo(tt==null?void 0:tt.loader,(Ae=f==null?void 0:f.classNames)==null?void 0:Ae.loader),visible:oe==="loading"})}return Ot.createElement("li",{tabIndex:0,ref:Zt,className:mo(j,We,tt==null?void 0:tt.toast,(t=f==null?void 0:f.classNames)==null?void 0:t.toast,tt==null?void 0:tt.default,tt==null?void 0:tt[oe],(e=f==null?void 0:f.classNames)==null?void 0:e[oe]),"data-sonner-toast":"","data-rich-colors":(r=f.richColors)!=null?r:I,"data-styled":!(f.jsx||f.unstyled||w),"data-mounted":at,"data-promise":!!f.promise,"data-swiped":xt,"data-removed":yt,"data-visible":we,"data-y-position":Is,"data-x-position":Ue,"data-index":_,"data-front":de,"data-swiping":Lt,"data-dismissible":Ne,"data-type":oe,"data-invert":Zi,"data-swipe-out":Mt,"data-swipe-direction":nt,"data-expanded":!!(L||W&&at),style:{"--index":_,"--toasts-before":_,"--z-index":N.length-_,"--offset":`${yt?he:wr.current}px`,"--initial-height":W?"auto":`${kt}px`,...V,...f.style},onDragEnd:()=>{Ft(!1),X(null),qe.current=null},onPointerDown:$t=>{ts||!Ne||(zt.current=new Date,Yt(wr.current),$t.target.setPointerCapture($t.pointerId),$t.target.tagName!=="BUTTON"&&(Ft(!0),qe.current={x:$t.clientX,y:$t.clientY}))},onPointerUp:()=>{var $t,Re,Ae,Tn;if(Mt||!Ne)return;qe.current=null;let Rn=Number((($t=Zt.current)==null?void 0:$t.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),te=Number(((Re=Zt.current)==null?void 0:Re.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ar=new Date().getTime()-((Ae=zt.current)==null?void 0:Ae.getTime()),In=$==="x"?Rn:te,Sn=Math.abs(In)/ar;if(Math.abs(In)>=RD||Sn>.11){Yt(wr.current),(Tn=f.onDismiss)==null||Tn.call(f,f),ot($==="x"?Rn>0?"right":"left":te>0?"down":"up"),He(),ne(!0),et(!1);return}Ft(!1),X(null)},onPointerMove:$t=>{var Re,Ae,Tn,Rn;if(!qe.current||!Ne||((Re=window.getSelection())==null?void 0:Re.toString().length)>0)return;let te=$t.clientY-qe.current.y,ar=$t.clientX-qe.current.x,In=(Ae=n.swipeDirections)!=null?Ae:MD(dt);!$&&(Math.abs(ar)>1||Math.abs(te)>1)&&X(Math.abs(ar)>Math.abs(te)?"x":"y");let Sn={x:0,y:0};$==="y"?(In.includes("top")||In.includes("bottom"))&&(In.includes("top")&&te<0||In.includes("bottom")&&te>0)&&(Sn.y=te):$==="x"&&(In.includes("left")||In.includes("right"))&&(In.includes("left")&&ar<0||In.includes("right")&&ar>0)&&(Sn.x=ar),(Math.abs(Sn.x)>0||Math.abs(Sn.y)>0)&&et(!0),(Tn=Zt.current)==null||Tn.style.setProperty("--swipe-amount-x",`${Sn.x}px`),(Rn=Zt.current)==null||Rn.style.setProperty("--swipe-amount-y",`${Sn.y}px`)}},Ht&&!f.jsx?Ot.createElement("button",{"aria-label":St,"data-disabled":ts,"data-close-button":!0,onClick:ts||!Ne?()=>{}:()=>{var $t;He(),($t=f.onDismiss)==null||$t.call(f,f)},className:mo(tt==null?void 0:tt.closeButton,(i=f==null?void 0:f.classNames)==null?void 0:i.closeButton)},(s=ct==null?void 0:ct.close)!=null?s:yD):null,f.jsx||Z.isValidElement(f.title)?f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title:Ot.createElement(Ot.Fragment,null,oe||f.icon||f.promise?Ot.createElement("div",{"data-icon":"",className:mo(tt==null?void 0:tt.icon,(o=f==null?void 0:f.classNames)==null?void 0:o.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||fe():null,f.type!=="loading"?f.icon||(ct==null?void 0:ct[oe])||hD(oe):null):null,Ot.createElement("div",{"data-content":"",className:mo(tt==null?void 0:tt.content,(a=f==null?void 0:f.classNames)==null?void 0:a.content)},Ot.createElement("div",{"data-title":"",className:mo(tt==null?void 0:tt.title,(l=f==null?void 0:f.classNames)==null?void 0:l.title)},typeof f.title=="function"?f.title():f.title),f.description?Ot.createElement("div",{"data-description":"",className:mo(Y,ce,tt==null?void 0:tt.description,(c=f==null?void 0:f.classNames)==null?void 0:c.description)},typeof f.description=="function"?f.description():f.description):null),Z.isValidElement(f.cancel)?f.cancel:f.cancel&&qv(f.cancel)?Ot.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||Q,onClick:$t=>{var Re,Ae;qv(f.cancel)&&Ne&&((Ae=(Re=f.cancel).onClick)==null||Ae.call(Re,$t),He())},className:mo(tt==null?void 0:tt.cancelButton,(h=f==null?void 0:f.classNames)==null?void 0:h.cancelButton)},f.cancel.label):null,Z.isValidElement(f.action)?f.action:f.action&&qv(f.action)?Ot.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||P,onClick:$t=>{var Re,Ae;qv(f.action)&&((Ae=(Re=f.action).onClick)==null||Ae.call(Re,$t),!$t.defaultPrevented&&He())},className:mo(tt==null?void 0:tt.actionButton,(d=f==null?void 0:f.classNames)==null?void 0:d.actionButton)},f.action.label):null))};function mC(){if(typeof window>"u"||typeof document>"u")return"ltr";let n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function OD(n,t){let e={};return[n,t].forEach((r,i)=>{let s=i===1,o=s?"--mobile-offset":"--offset",a=s?PD:LD;function l(c){["top","right","bottom","left"].forEach(h=>{e[`${o}-${h}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?e[`${o}-${c}`]=a:e[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),e}var DD=Z.forwardRef(function(n,t){let{invert:e,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:o,className:a,offset:l,mobileOffset:c,theme:h="light",richColors:d,duration:g,style:f,visibleToasts:w=ND,toastOptions:v,dir:x=mC(),gap:y=TD,loadingIcon:b,icons:_,containerAriaLabel:N="Notifications",pauseWhenPageIsHidden:L}=n,[O,I]=Ot.useState([]),D=Ot.useMemo(()=>Array.from(new Set([r].concat(O.filter(T=>T.position).map(T=>T.position)))),[O,r]),[V,Q]=Ot.useState([]),[P,j]=Ot.useState(!1),[Y,H]=Ot.useState(!1),[dt,J]=Ot.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),rt=Ot.useRef(null),W=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),tt=Ot.useRef(null),ct=Ot.useRef(!1),St=Ot.useCallback(T=>{I($=>{var X;return(X=$.find(nt=>nt.id===T.id))!=null&&X.delete||qi.dismiss(T.id),$.filter(({id:nt})=>nt!==T.id)})},[]);return Ot.useEffect(()=>qi.subscribe(T=>{if(T.dismiss){I($=>$.map(X=>X.id===T.id?{...X,delete:!0}:X));return}setTimeout(()=>{fk.flushSync(()=>{I($=>{let X=$.findIndex(nt=>nt.id===T.id);return X!==-1?[...$.slice(0,X),{...$[X],...T},...$.slice(X+1)]:[T,...$]})})})}),[]),Ot.useEffect(()=>{if(h!=="system"){J(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window>"u")return;let T=window.matchMedia("(prefers-color-scheme: dark)");try{T.addEventListener("change",({matches:$})=>{J($?"dark":"light")})}catch{T.addListener(({matches:X})=>{try{J(X?"dark":"light")}catch(nt){console.error(nt)}})}},[h]),Ot.useEffect(()=>{O.length<=1&&j(!1)},[O]),Ot.useEffect(()=>{let T=$=>{var X,nt;i.every(ot=>$[ot]||$.code===ot)&&(j(!0),(X=rt.current)==null||X.focus()),$.code==="Escape"&&(document.activeElement===rt.current||(nt=rt.current)!=null&&nt.contains(document.activeElement))&&j(!1)};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[i]),Ot.useEffect(()=>{if(rt.current)return()=>{tt.current&&(tt.current.focus({preventScroll:!0}),tt.current=null,ct.current=!1)}},[rt.current]),Ot.createElement("section",{ref:t,"aria-label":`${N} ${W}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},D.map((T,$)=>{var X;let[nt,ot]=T.split("-");return O.length?Ot.createElement("ol",{key:T,dir:x==="auto"?mC():x,tabIndex:-1,ref:rt,className:a,"data-sonner-toaster":!0,"data-theme":dt,"data-y-position":nt,"data-lifted":P&&O.length>1&&!s,"data-x-position":ot,style:{"--front-toast-height":`${((X=V[0])==null?void 0:X.height)||0}px`,"--width":`${kD}px`,"--gap":`${y}px`,...f,...OD(l,c)},onBlur:at=>{ct.current&&!at.currentTarget.contains(at.relatedTarget)&&(ct.current=!1,tt.current&&(tt.current.focus({preventScroll:!0}),tt.current=null))},onFocus:at=>{at.target instanceof HTMLElement&&at.target.dataset.dismissible==="false"||ct.current||(ct.current=!0,tt.current=at.relatedTarget)},onMouseEnter:()=>j(!0),onMouseMove:()=>j(!0),onMouseLeave:()=>{Y||j(!1)},onDragEnd:()=>j(!1),onPointerDown:at=>{at.target instanceof HTMLElement&&at.target.dataset.dismissible==="false"||H(!0)},onPointerUp:()=>H(!1)},O.filter(at=>!at.position&&$===0||at.position===T).map((at,vt)=>{var yt,Tt;return Ot.createElement(FD,{key:at.id,icons:_,index:vt,toast:at,defaultRichColors:d,duration:(yt=v==null?void 0:v.duration)!=null?yt:g,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:e,visibleToasts:w,closeButton:(Tt=v==null?void 0:v.closeButton)!=null?Tt:o,interacting:Y,position:T,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:St,toasts:O.filter(Lt=>Lt.position==at.position),heights:V.filter(Lt=>Lt.position==at.position),setHeights:Q,expandByDefault:s,gap:y,loadingIcon:b,expanded:P,pauseWhenPageIsHidden:L,swipeDirections:n.swipeDirections})})):null}))});const jD=({...n})=>{const{theme:t="system"}=uD();return it.jsx(DD,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...n})},BD=["top","right","bottom","left"],ku=Math.min,Ss=Math.max,N5=Math.round,Hv=Math.floor,Da=n=>({x:n,y:n}),zD={left:"right",right:"left",bottom:"top",top:"bottom"},UD={start:"end",end:"start"};function HA(n,t,e){return Ss(n,ku(t,e))}function Kl(n,t){return typeof n=="function"?n(t):n}function Ql(n){return n.split("-")[0]}function Fg(n){return n.split("-")[1]}function O_(n){return n==="x"?"y":"x"}function D_(n){return n==="y"?"height":"width"}const qD=new Set(["top","bottom"]);function Ia(n){return qD.has(Ql(n))?"y":"x"}function j_(n){return O_(Ia(n))}function HD(n,t,e){e===void 0&&(e=!1);const r=Fg(n),i=j_(n),s=D_(i);let o=i==="x"?r===(e?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=L5(o)),[o,L5(o)]}function $D(n){const t=L5(n);return[$A(n),t,$A(t)]}function $A(n){return n.replace(/start|end/g,t=>UD[t])}const vC=["left","right"],yC=["right","left"],VD=["top","bottom"],WD=["bottom","top"];function GD(n,t,e){switch(n){case"top":case"bottom":return e?t?yC:vC:t?vC:yC;case"left":case"right":return t?VD:WD;default:return[]}}function XD(n,t,e,r){const i=Fg(n);let s=GD(Ql(n),e==="start",r);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map($A)))),s}function L5(n){return n.replace(/left|right|bottom|top/g,t=>zD[t])}function YD(n){return{top:0,right:0,bottom:0,left:0,...n}}function e6(n){return typeof n!="number"?YD(n):{top:n,right:n,bottom:n,left:n}}function P5(n){const{x:t,y:e,width:r,height:i}=n;return{width:r,height:i,top:e,left:t,right:t+r,bottom:e+i,x:t,y:e}}function wC(n,t,e){let{reference:r,floating:i}=n;const s=Ia(t),o=j_(t),a=D_(o),l=Ql(t),c=s==="y",h=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,g=r[a]/2-i[a]/2;let f;switch(l){case"top":f={x:h,y:r.y-i.height};break;case"bottom":f={x:h,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-i.width,y:d};break;default:f={x:r.x,y:r.y}}switch(Fg(t)){case"start":f[o]-=g*(e&&c?-1:1);break;case"end":f[o]+=g*(e&&c?-1:1);break}return f}const KD=async(n,t,e)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=e,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:n,floating:t,strategy:i}),{x:h,y:d}=wC(c,r,l),g=r,f={},w=0;for(let v=0;v<a.length;v++){const{name:x,fn:y}=a[v],{x:b,y:_,data:N,reset:L}=await y({x:h,y:d,initialPlacement:r,placement:g,strategy:i,middlewareData:f,rects:c,platform:o,elements:{reference:n,floating:t}});h=b??h,d=_??d,f={...f,[x]:{...f[x],...N}},L&&w<=50&&(w++,typeof L=="object"&&(L.placement&&(g=L.placement),L.rects&&(c=L.rects===!0?await o.getElementRects({reference:n,floating:t,strategy:i}):L.rects),{x:h,y:d}=wC(c,g,l)),v=-1)}return{x:h,y:d,placement:g,strategy:i,middlewareData:f}};async function k0(n,t){var e;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:d="floating",altBoundary:g=!1,padding:f=0}=Kl(t,n),w=e6(f),x=a[g?d==="floating"?"reference":"floating":d],y=P5(await s.getClippingRect({element:(e=await(s.isElement==null?void 0:s.isElement(x)))==null||e?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:h,strategy:l})),b=d==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),N=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},L=P5(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:_,strategy:l}):b);return{top:(y.top-L.top+w.top)/N.y,bottom:(L.bottom-y.bottom+w.bottom)/N.y,left:(y.left-L.left+w.left)/N.x,right:(L.right-y.right+w.right)/N.x}}const QD=n=>({name:"arrow",options:n,async fn(t){const{x:e,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=t,{element:c,padding:h=0}=Kl(n,t)||{};if(c==null)return{};const d=e6(h),g={x:e,y:r},f=j_(i),w=D_(f),v=await o.getDimensions(c),x=f==="y",y=x?"top":"left",b=x?"bottom":"right",_=x?"clientHeight":"clientWidth",N=s.reference[w]+s.reference[f]-g[f]-s.floating[w],L=g[f]-s.reference[f],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let I=O?O[_]:0;(!I||!await(o.isElement==null?void 0:o.isElement(O)))&&(I=a.floating[_]||s.floating[w]);const D=N/2-L/2,V=I/2-v[w]/2-1,Q=ku(d[y],V),P=ku(d[b],V),j=Q,Y=I-v[w]-P,H=I/2-v[w]/2+D,dt=HA(j,H,Y),J=!l.arrow&&Fg(i)!=null&&H!==dt&&s.reference[w]/2-(H<j?Q:P)-v[w]/2<0,rt=J?H<j?H-j:H-Y:0;return{[f]:g[f]+rt,data:{[f]:dt,centerOffset:H-dt-rt,...J&&{alignmentOffset:rt}},reset:J}}}),JD=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(t){var e,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:h=!0,crossAxis:d=!0,fallbackPlacements:g,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:v=!0,...x}=Kl(n,t);if((e=s.arrow)!=null&&e.alignmentOffset)return{};const y=Ql(i),b=Ia(a),_=Ql(a)===a,N=await(l.isRTL==null?void 0:l.isRTL(c.floating)),L=g||(_||!v?[L5(a)]:$D(a)),O=w!=="none";!g&&O&&L.push(...XD(a,v,w,N));const I=[a,...L],D=await k0(t,x),V=[];let Q=((r=s.flip)==null?void 0:r.overflows)||[];if(h&&V.push(D[y]),d){const H=HD(i,o,N);V.push(D[H[0]],D[H[1]])}if(Q=[...Q,{placement:i,overflows:V}],!V.every(H=>H<=0)){var P,j;const H=(((P=s.flip)==null?void 0:P.index)||0)+1,dt=I[H];if(dt&&(!(d==="alignment"?b!==Ia(dt):!1)||Q.every(W=>Ia(W.placement)===b?W.overflows[0]>0:!0)))return{data:{index:H,overflows:Q},reset:{placement:dt}};let J=(j=Q.filter(rt=>rt.overflows[0]<=0).sort((rt,W)=>rt.overflows[1]-W.overflows[1])[0])==null?void 0:j.placement;if(!J)switch(f){case"bestFit":{var Y;const rt=(Y=Q.filter(W=>{if(O){const tt=Ia(W.placement);return tt===b||tt==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(tt=>tt>0).reduce((tt,ct)=>tt+ct,0)]).sort((W,tt)=>W[1]-tt[1])[0])==null?void 0:Y[0];rt&&(J=rt);break}case"initialPlacement":J=a;break}if(i!==J)return{reset:{placement:J}}}return{}}}};function bC(n,t){return{top:n.top-t.height,right:n.right-t.width,bottom:n.bottom-t.height,left:n.left-t.width}}function xC(n){return BD.some(t=>n[t]>=0)}const ZD=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(t){const{rects:e}=t,{strategy:r="referenceHidden",...i}=Kl(n,t);switch(r){case"referenceHidden":{const s=await k0(t,{...i,elementContext:"reference"}),o=bC(s,e.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:xC(o)}}}case"escaped":{const s=await k0(t,{...i,altBoundary:!0}),o=bC(s,e.floating);return{data:{escapedOffsets:o,escaped:xC(o)}}}default:return{}}}}},n6=new Set(["left","top"]);async function tj(n,t){const{placement:e,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Ql(e),a=Fg(e),l=Ia(e)==="y",c=n6.has(o)?-1:1,h=s&&l?-1:1,d=Kl(t,n);let{mainAxis:g,crossAxis:f,alignmentAxis:w}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof w=="number"&&(f=a==="end"?w*-1:w),l?{x:f*h,y:g*c}:{x:g*c,y:f*h}}const ej=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(t){var e,r;const{x:i,y:s,placement:o,middlewareData:a}=t,l=await tj(t,n);return o===((e=a.offset)==null?void 0:e.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},nj=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(t){const{x:e,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:y,y:b}=x;return{x:y,y:b}}},...l}=Kl(n,t),c={x:e,y:r},h=await k0(t,l),d=Ia(Ql(i)),g=O_(d);let f=c[g],w=c[d];if(s){const x=g==="y"?"top":"left",y=g==="y"?"bottom":"right",b=f+h[x],_=f-h[y];f=HA(b,f,_)}if(o){const x=d==="y"?"top":"left",y=d==="y"?"bottom":"right",b=w+h[x],_=w-h[y];w=HA(b,w,_)}const v=a.fn({...t,[g]:f,[d]:w});return{...v,data:{x:v.x-e,y:v.y-r,enabled:{[g]:s,[d]:o}}}}}},rj=function(n){return n===void 0&&(n={}),{options:n,fn(t){const{x:e,y:r,placement:i,rects:s,middlewareData:o}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Kl(n,t),h={x:e,y:r},d=Ia(i),g=O_(d);let f=h[g],w=h[d];const v=Kl(a,t),x=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const _=g==="y"?"height":"width",N=s.reference[g]-s.floating[_]+x.mainAxis,L=s.reference[g]+s.reference[_]-x.mainAxis;f<N?f=N:f>L&&(f=L)}if(c){var y,b;const _=g==="y"?"width":"height",N=n6.has(Ql(i)),L=s.reference[d]-s.floating[_]+(N&&((y=o.offset)==null?void 0:y[d])||0)+(N?0:x.crossAxis),O=s.reference[d]+s.reference[_]+(N?0:((b=o.offset)==null?void 0:b[d])||0)-(N?x.crossAxis:0);w<L?w=L:w>O&&(w=O)}return{[g]:f,[d]:w}}}},ij=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(t){var e,r;const{placement:i,rects:s,platform:o,elements:a}=t,{apply:l=()=>{},...c}=Kl(n,t),h=await k0(t,c),d=Ql(i),g=Fg(i),f=Ia(i)==="y",{width:w,height:v}=s.floating;let x,y;d==="top"||d==="bottom"?(x=d,y=g===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=d,x=g==="end"?"top":"bottom");const b=v-h.top-h.bottom,_=w-h.left-h.right,N=ku(v-h[x],b),L=ku(w-h[y],_),O=!t.middlewareData.shift;let I=N,D=L;if((e=t.middlewareData.shift)!=null&&e.enabled.x&&(D=_),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(I=b),O&&!g){const Q=Ss(h.left,0),P=Ss(h.right,0),j=Ss(h.top,0),Y=Ss(h.bottom,0);f?D=w-2*(Q!==0||P!==0?Q+P:Ss(h.left,h.right)):I=v-2*(j!==0||Y!==0?j+Y:Ss(h.top,h.bottom))}await l({...t,availableWidth:D,availableHeight:I});const V=await o.getDimensions(a.floating);return w!==V.width||v!==V.height?{reset:{rects:!0}}:{}}}};function Tw(){return typeof window<"u"}function Og(n){return r6(n)?(n.nodeName||"").toLowerCase():"#document"}function Ls(n){var t;return(n==null||(t=n.ownerDocument)==null?void 0:t.defaultView)||window}function qa(n){var t;return(t=(r6(n)?n.ownerDocument:n.document)||window.document)==null?void 0:t.documentElement}function r6(n){return Tw()?n instanceof Node||n instanceof Ls(n).Node:!1}function Vo(n){return Tw()?n instanceof Element||n instanceof Ls(n).Element:!1}function Ba(n){return Tw()?n instanceof HTMLElement||n instanceof Ls(n).HTMLElement:!1}function AC(n){return!Tw()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Ls(n).ShadowRoot}const sj=new Set(["inline","contents"]);function x2(n){const{overflow:t,overflowX:e,overflowY:r,display:i}=Wo(n);return/auto|scroll|overlay|hidden|clip/.test(t+r+e)&&!sj.has(i)}const oj=new Set(["table","td","th"]);function aj(n){return oj.has(Og(n))}const lj=[":popover-open",":modal"];function Rw(n){return lj.some(t=>{try{return n.matches(t)}catch{return!1}})}const cj=["transform","translate","scale","rotate","perspective"],uj=["transform","translate","scale","rotate","perspective","filter"],hj=["paint","layout","strict","content"];function B_(n){const t=z_(),e=Vo(n)?Wo(n):n;return cj.some(r=>e[r]?e[r]!=="none":!1)||(e.containerType?e.containerType!=="normal":!1)||!t&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!t&&(e.filter?e.filter!=="none":!1)||uj.some(r=>(e.willChange||"").includes(r))||hj.some(r=>(e.contain||"").includes(r))}function dj(n){let t=Tu(n);for(;Ba(t)&&!Pg(t);){if(B_(t))return t;if(Rw(t))return null;t=Tu(t)}return null}function z_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const fj=new Set(["html","body","#document"]);function Pg(n){return fj.has(Og(n))}function Wo(n){return Ls(n).getComputedStyle(n)}function Iw(n){return Vo(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Tu(n){if(Og(n)==="html")return n;const t=n.assignedSlot||n.parentNode||AC(n)&&n.host||qa(n);return AC(t)?t.host:t}function i6(n){const t=Tu(n);return Pg(t)?n.ownerDocument?n.ownerDocument.body:n.body:Ba(t)&&x2(t)?t:i6(t)}function T0(n,t,e){var r;t===void 0&&(t=[]),e===void 0&&(e=!0);const i=i6(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),o=Ls(i);if(s){const a=VA(o);return t.concat(o,o.visualViewport||[],x2(i)?i:[],a&&e?T0(a):[])}return t.concat(i,T0(i,[],e))}function VA(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function s6(n){const t=Wo(n);let e=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Ba(n),s=i?n.offsetWidth:e,o=i?n.offsetHeight:r,a=N5(e)!==s||N5(r)!==o;return a&&(e=s,r=o),{width:e,height:r,$:a}}function U_(n){return Vo(n)?n:n.contextElement}function tp(n){const t=U_(n);if(!Ba(t))return Da(1);const e=t.getBoundingClientRect(),{width:r,height:i,$:s}=s6(t);let o=(s?N5(e.width):e.width)/r,a=(s?N5(e.height):e.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const pj=Da(0);function o6(n){const t=Ls(n);return!z_()||!t.visualViewport?pj:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function gj(n,t,e){return t===void 0&&(t=!1),!e||t&&e!==Ls(n)?!1:t}function Id(n,t,e,r){t===void 0&&(t=!1),e===void 0&&(e=!1);const i=n.getBoundingClientRect(),s=U_(n);let o=Da(1);t&&(r?Vo(r)&&(o=tp(r)):o=tp(n));const a=gj(s,e,r)?o6(s):Da(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,h=i.width/o.x,d=i.height/o.y;if(s){const g=Ls(s),f=r&&Vo(r)?Ls(r):r;let w=g,v=VA(w);for(;v&&r&&f!==w;){const x=tp(v),y=v.getBoundingClientRect(),b=Wo(v),_=y.left+(v.clientLeft+parseFloat(b.paddingLeft))*x.x,N=y.top+(v.clientTop+parseFloat(b.paddingTop))*x.y;l*=x.x,c*=x.y,h*=x.x,d*=x.y,l+=_,c+=N,w=Ls(v),v=VA(w)}}return P5({width:h,height:d,x:l,y:c})}function q_(n,t){const e=Iw(n).scrollLeft;return t?t.left+e:Id(qa(n)).left+e}function a6(n,t,e){e===void 0&&(e=!1);const r=n.getBoundingClientRect(),i=r.left+t.scrollLeft-(e?0:q_(n,r)),s=r.top+t.scrollTop;return{x:i,y:s}}function mj(n){let{elements:t,rect:e,offsetParent:r,strategy:i}=n;const s=i==="fixed",o=qa(r),a=t?Rw(t.floating):!1;if(r===o||a&&s)return e;let l={scrollLeft:0,scrollTop:0},c=Da(1);const h=Da(0),d=Ba(r);if((d||!d&&!s)&&((Og(r)!=="body"||x2(o))&&(l=Iw(r)),Ba(r))){const f=Id(r);c=tp(r),h.x=f.x+r.clientLeft,h.y=f.y+r.clientTop}const g=o&&!d&&!s?a6(o,l,!0):Da(0);return{width:e.width*c.x,height:e.height*c.y,x:e.x*c.x-l.scrollLeft*c.x+h.x+g.x,y:e.y*c.y-l.scrollTop*c.y+h.y+g.y}}function vj(n){return Array.from(n.getClientRects())}function yj(n){const t=qa(n),e=Iw(n),r=n.ownerDocument.body,i=Ss(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Ss(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-e.scrollLeft+q_(n);const a=-e.scrollTop;return Wo(r).direction==="rtl"&&(o+=Ss(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function wj(n,t){const e=Ls(n),r=qa(n),i=e.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=z_();(!c||c&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}const bj=new Set(["absolute","fixed"]);function xj(n,t){const e=Id(n,!0,t==="fixed"),r=e.top+n.clientTop,i=e.left+n.clientLeft,s=Ba(n)?tp(n):Da(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function SC(n,t,e){let r;if(t==="viewport")r=wj(n,e);else if(t==="document")r=yj(qa(n));else if(Vo(t))r=xj(t,e);else{const i=o6(n);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return P5(r)}function l6(n,t){const e=Tu(n);return e===t||!Vo(e)||Pg(e)?!1:Wo(e).position==="fixed"||l6(e,t)}function Aj(n,t){const e=t.get(n);if(e)return e;let r=T0(n,[],!1).filter(a=>Vo(a)&&Og(a)!=="body"),i=null;const s=Wo(n).position==="fixed";let o=s?Tu(n):n;for(;Vo(o)&&!Pg(o);){const a=Wo(o),l=B_(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&bj.has(i.position)||x2(o)&&!l&&l6(n,o))?r=r.filter(h=>h!==o):i=a,o=Tu(o)}return t.set(n,r),r}function Sj(n){let{element:t,boundary:e,rootBoundary:r,strategy:i}=n;const o=[...e==="clippingAncestors"?Rw(t)?[]:Aj(t,this._c):[].concat(e),r],a=o[0],l=o.reduce((c,h)=>{const d=SC(t,h,i);return c.top=Ss(d.top,c.top),c.right=ku(d.right,c.right),c.bottom=ku(d.bottom,c.bottom),c.left=Ss(d.left,c.left),c},SC(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function _j(n){const{width:t,height:e}=s6(n);return{width:t,height:e}}function Ej(n,t,e){const r=Ba(t),i=qa(t),s=e==="fixed",o=Id(n,!0,s,t);let a={scrollLeft:0,scrollTop:0};const l=Da(0);function c(){l.x=q_(i)}if(r||!r&&!s)if((Og(t)!=="body"||x2(i))&&(a=Iw(t)),r){const f=Id(t,!0,s,t);l.x=f.x+t.clientLeft,l.y=f.y+t.clientTop}else i&&c();s&&!r&&i&&c();const h=i&&!r&&!s?a6(i,a):Da(0),d=o.left+a.scrollLeft-l.x-h.x,g=o.top+a.scrollTop-l.y-h.y;return{x:d,y:g,width:o.width,height:o.height}}function xx(n){return Wo(n).position==="static"}function _C(n,t){if(!Ba(n)||Wo(n).position==="fixed")return null;if(t)return t(n);let e=n.offsetParent;return qa(n)===e&&(e=e.ownerDocument.body),e}function c6(n,t){const e=Ls(n);if(Rw(n))return e;if(!Ba(n)){let i=Tu(n);for(;i&&!Pg(i);){if(Vo(i)&&!xx(i))return i;i=Tu(i)}return e}let r=_C(n,t);for(;r&&aj(r)&&xx(r);)r=_C(r,t);return r&&Pg(r)&&xx(r)&&!B_(r)?e:r||dj(n)||e}const Cj=async function(n){const t=this.getOffsetParent||c6,e=this.getDimensions,r=await e(n.floating);return{reference:Ej(n.reference,await t(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Nj(n){return Wo(n).direction==="rtl"}const Lj={convertOffsetParentRelativeRectToViewportRelativeRect:mj,getDocumentElement:qa,getClippingRect:Sj,getOffsetParent:c6,getElementRects:Cj,getClientRects:vj,getDimensions:_j,getScale:tp,isElement:Vo,isRTL:Nj};function u6(n,t){return n.x===t.x&&n.y===t.y&&n.width===t.width&&n.height===t.height}function Pj(n,t){let e=null,r;const i=qa(n);function s(){var a;clearTimeout(r),(a=e)==null||a.disconnect(),e=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=n.getBoundingClientRect(),{left:h,top:d,width:g,height:f}=c;if(a||t(),!g||!f)return;const w=Hv(d),v=Hv(i.clientWidth-(h+g)),x=Hv(i.clientHeight-(d+f)),y=Hv(h),_={rootMargin:-w+"px "+-v+"px "+-x+"px "+-y+"px",threshold:Ss(0,ku(1,l))||1};let N=!0;function L(O){const I=O[0].intersectionRatio;if(I!==l){if(!N)return o();I?o(!1,I):r=setTimeout(()=>{o(!1,1e-7)},1e3)}I===1&&!u6(c,n.getBoundingClientRect())&&o(),N=!1}try{e=new IntersectionObserver(L,{..._,root:i.ownerDocument})}catch{e=new IntersectionObserver(L,_)}e.observe(n)}return o(!0),s}function kj(n,t,e,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=U_(n),h=i||s?[...c?T0(c):[],...T0(t)]:[];h.forEach(y=>{i&&y.addEventListener("scroll",e,{passive:!0}),s&&y.addEventListener("resize",e)});const d=c&&a?Pj(c,e):null;let g=-1,f=null;o&&(f=new ResizeObserver(y=>{let[b]=y;b&&b.target===c&&f&&(f.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var _;(_=f)==null||_.observe(t)})),e()}),c&&!l&&f.observe(c),f.observe(t));let w,v=l?Id(n):null;l&&x();function x(){const y=Id(n);v&&!u6(v,y)&&e(),v=y,w=requestAnimationFrame(x)}return e(),()=>{var y;h.forEach(b=>{i&&b.removeEventListener("scroll",e),s&&b.removeEventListener("resize",e)}),d==null||d(),(y=f)==null||y.disconnect(),f=null,l&&cancelAnimationFrame(w)}}const Tj=ej,Rj=nj,Ij=JD,Mj=ij,Fj=ZD,EC=QD,Oj=rj,Dj=(n,t,e)=>{const r=new Map,i={platform:Lj,...e},s={...i.platform,_c:r};return KD(n,t,{...i,platform:s})};var jj=typeof document<"u",Bj=function(){},vy=jj?Z.useLayoutEffect:Bj;function k5(n,t){if(n===t)return!0;if(typeof n!=typeof t)return!1;if(typeof n=="function"&&n.toString()===t.toString())return!0;let e,r,i;if(n&&t&&typeof n=="object"){if(Array.isArray(n)){if(e=n.length,e!==t.length)return!1;for(r=e;r--!==0;)if(!k5(n[r],t[r]))return!1;return!0}if(i=Object.keys(n),e=i.length,e!==Object.keys(t).length)return!1;for(r=e;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=e;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!k5(n[s],t[s]))return!1}return!0}return n!==n&&t!==t}function h6(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function CC(n,t){const e=h6(n);return Math.round(t*e)/e}function Ax(n){const t=Z.useRef(n);return vy(()=>{t.current=n}),t}function zj(n){n===void 0&&(n={});const{placement:t="bottom",strategy:e="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=n,[h,d]=Z.useState({x:0,y:0,strategy:e,placement:t,middlewareData:{},isPositioned:!1}),[g,f]=Z.useState(r);k5(g,r)||f(r);const[w,v]=Z.useState(null),[x,y]=Z.useState(null),b=Z.useCallback(W=>{W!==O.current&&(O.current=W,v(W))},[]),_=Z.useCallback(W=>{W!==I.current&&(I.current=W,y(W))},[]),N=s||w,L=o||x,O=Z.useRef(null),I=Z.useRef(null),D=Z.useRef(h),V=l!=null,Q=Ax(l),P=Ax(i),j=Ax(c),Y=Z.useCallback(()=>{if(!O.current||!I.current)return;const W={placement:t,strategy:e,middleware:g};P.current&&(W.platform=P.current),Dj(O.current,I.current,W).then(tt=>{const ct={...tt,isPositioned:j.current!==!1};H.current&&!k5(D.current,ct)&&(D.current=ct,w2.flushSync(()=>{d(ct)}))})},[g,t,e,P,j]);vy(()=>{c===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,d(W=>({...W,isPositioned:!1})))},[c]);const H=Z.useRef(!1);vy(()=>(H.current=!0,()=>{H.current=!1}),[]),vy(()=>{if(N&&(O.current=N),L&&(I.current=L),N&&L){if(Q.current)return Q.current(N,L,Y);Y()}},[N,L,Y,Q,V]);const dt=Z.useMemo(()=>({reference:O,floating:I,setReference:b,setFloating:_}),[b,_]),J=Z.useMemo(()=>({reference:N,floating:L}),[N,L]),rt=Z.useMemo(()=>{const W={position:e,left:0,top:0};if(!J.floating)return W;const tt=CC(J.floating,h.x),ct=CC(J.floating,h.y);return a?{...W,transform:"translate("+tt+"px, "+ct+"px)",...h6(J.floating)>=1.5&&{willChange:"transform"}}:{position:e,left:tt,top:ct}},[e,a,J.floating,h.x,h.y]);return Z.useMemo(()=>({...h,update:Y,refs:dt,elements:J,floatingStyles:rt}),[h,Y,dt,J,rt])}const Uj=n=>{function t(e){return{}.hasOwnProperty.call(e,"current")}return{name:"arrow",options:n,fn(e){const{element:r,padding:i}=typeof n=="function"?n(e):n;return r&&t(r)?r.current!=null?EC({element:r.current,padding:i}).fn(e):{}:r?EC({element:r,padding:i}).fn(e):{}}}},qj=(n,t)=>({...Tj(n),options:[n,t]}),Hj=(n,t)=>({...Rj(n),options:[n,t]}),$j=(n,t)=>({...Oj(n),options:[n,t]}),Vj=(n,t)=>({...Ij(n),options:[n,t]}),Wj=(n,t)=>({...Mj(n),options:[n,t]}),Gj=(n,t)=>({...Fj(n),options:[n,t]}),Xj=(n,t)=>({...Uj(n),options:[n,t]});var Yj="Arrow",d6=Z.forwardRef((n,t)=>{const{children:e,width:r=10,height:i=5,...s}=n;return it.jsx(fi.svg,{...s,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?e:it.jsx("polygon",{points:"0,0 30,0 15,10"})})});d6.displayName=Yj;var Kj=d6;function Qj(n){const[t,e]=Z.useState(void 0);return Pu(()=>{if(n){e({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=n.offsetWidth,a=n.offsetHeight;e({width:o,height:a})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else e(void 0)},[n]),t}var f6="Popper",[p6,g6]=Lw(f6),[_$,m6]=p6(f6),v6="PopperAnchor",y6=Z.forwardRef((n,t)=>{const{__scopePopper:e,virtualRef:r,...i}=n,s=m6(v6,e),o=Z.useRef(null),a=$o(t,o);return Z.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:it.jsx(fi.div,{...i,ref:a})});y6.displayName=v6;var H_="PopperContent",[Jj,Zj]=p6(H_),w6=Z.forwardRef((n,t)=>{var at,vt,yt,Tt,Lt,Ft;const{__scopePopper:e,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:h=0,sticky:d="partial",hideWhenDetached:g=!1,updatePositionStrategy:f="optimized",onPlaced:w,...v}=n,x=m6(H_,e),[y,b]=Z.useState(null),_=$o(t,Mt=>b(Mt)),[N,L]=Z.useState(null),O=Qj(N),I=(O==null?void 0:O.width)??0,D=(O==null?void 0:O.height)??0,V=r+(s!=="center"?"-"+s:""),Q=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},P=Array.isArray(c)?c:[c],j=P.length>0,Y={padding:Q,boundary:P.filter(eB),altBoundary:j},{refs:H,floatingStyles:dt,placement:J,isPositioned:rt,middlewareData:W}=zj({strategy:"fixed",placement:V,whileElementsMounted:(...Mt)=>kj(...Mt,{animationFrame:f==="always"}),elements:{reference:x.anchor},middleware:[qj({mainAxis:i+D,alignmentAxis:o}),l&&Hj({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?$j():void 0,...Y}),l&&Vj({...Y}),Wj({...Y,apply:({elements:Mt,rects:ne,availableWidth:xt,availableHeight:et})=>{const{width:he,height:Yt}=ne.reference,kt=Mt.floating.style;kt.setProperty("--radix-popper-available-width",`${xt}px`),kt.setProperty("--radix-popper-available-height",`${et}px`),kt.setProperty("--radix-popper-anchor-width",`${he}px`),kt.setProperty("--radix-popper-anchor-height",`${Yt}px`)}}),N&&Xj({element:N,padding:a}),nB({arrowWidth:I,arrowHeight:D}),g&&Gj({strategy:"referenceHidden",...Y})]}),[tt,ct]=A6(J),St=Lu(w);Pu(()=>{rt&&(St==null||St())},[rt,St]);const T=(at=W.arrow)==null?void 0:at.x,$=(vt=W.arrow)==null?void 0:vt.y,X=((yt=W.arrow)==null?void 0:yt.centerOffset)!==0,[nt,ot]=Z.useState();return Pu(()=>{y&&ot(window.getComputedStyle(y).zIndex)},[y]),it.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...dt,transform:rt?dt.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:nt,"--radix-popper-transform-origin":[(Tt=W.transformOrigin)==null?void 0:Tt.x,(Lt=W.transformOrigin)==null?void 0:Lt.y].join(" "),...((Ft=W.hide)==null?void 0:Ft.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:it.jsx(Jj,{scope:e,placedSide:tt,onArrowChange:L,arrowX:T,arrowY:$,shouldHideArrow:X,children:it.jsx(fi.div,{"data-side":tt,"data-align":ct,...v,ref:_,style:{...v.style,animation:rt?void 0:"none"}})})})});w6.displayName=H_;var b6="PopperArrow",tB={top:"bottom",right:"left",bottom:"top",left:"right"},x6=Z.forwardRef(function(t,e){const{__scopePopper:r,...i}=t,s=Zj(b6,r),o=tB[s.placedSide];return it.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:it.jsx(Kj,{...i,ref:e,style:{...i.style,display:"block"}})})});x6.displayName=b6;function eB(n){return n!==null}var nB=n=>({name:"transformOrigin",options:n,fn(t){var x,y,b;const{placement:e,rects:r,middlewareData:i}=t,o=((x=i.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:n.arrowWidth,l=o?0:n.arrowHeight,[c,h]=A6(e),d={start:"0%",center:"50%",end:"100%"}[h],g=(((y=i.arrow)==null?void 0:y.x)??0)+a/2,f=(((b=i.arrow)==null?void 0:b.y)??0)+l/2;let w="",v="";return c==="bottom"?(w=o?d:`${g}px`,v=`${-l}px`):c==="top"?(w=o?d:`${g}px`,v=`${r.floating.height+l}px`):c==="right"?(w=`${-l}px`,v=o?d:`${f}px`):c==="left"&&(w=`${r.floating.width+l}px`,v=o?d:`${f}px`),{data:{x:w,y:v}}}});function A6(n){const[t,e="center"]=n.split("-");return[t,e]}var rB=y6,iB=w6,sB=x6,[Mw,E$]=Lw("Tooltip",[g6]),$_=g6(),S6="TooltipProvider",oB=700,NC="tooltip.open",[aB,_6]=Mw(S6),E6=n=>{const{__scopeTooltip:t,delayDuration:e=oB,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=n,o=Z.useRef(!0),a=Z.useRef(!1),l=Z.useRef(0);return Z.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),it.jsx(aB,{scope:t,isOpenDelayedRef:o,delayDuration:e,onOpen:Z.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:Z.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:Z.useCallback(c=>{a.current=c},[]),disableHoverableContent:i,children:s})};E6.displayName=S6;var C6="Tooltip",[C$,Fw]=Mw(C6),WA="TooltipTrigger",lB=Z.forwardRef((n,t)=>{const{__scopeTooltip:e,...r}=n,i=Fw(WA,e),s=_6(WA,e),o=$_(e),a=Z.useRef(null),l=$o(t,a,i.onTriggerChange),c=Z.useRef(!1),h=Z.useRef(!1),d=Z.useCallback(()=>c.current=!1,[]);return Z.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),it.jsx(rB,{asChild:!0,...o,children:it.jsx(fi.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:gr(n.onPointerMove,g=>{g.pointerType!=="touch"&&!h.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),h.current=!0)}),onPointerLeave:gr(n.onPointerLeave,()=>{i.onTriggerLeave(),h.current=!1}),onPointerDown:gr(n.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:gr(n.onFocus,()=>{c.current||i.onOpen()}),onBlur:gr(n.onBlur,i.onClose),onClick:gr(n.onClick,i.onClose)})})});lB.displayName=WA;var cB="TooltipPortal",[N$,uB]=Mw(cB,{forceMount:void 0}),kg="TooltipContent",N6=Z.forwardRef((n,t)=>{const e=uB(kg,n.__scopeTooltip),{forceMount:r=e.forceMount,side:i="top",...s}=n,o=Fw(kg,n.__scopeTooltip);return it.jsx(k_,{present:r||o.open,children:o.disableHoverableContent?it.jsx(L6,{side:i,...s,ref:t}):it.jsx(hB,{side:i,...s,ref:t})})}),hB=Z.forwardRef((n,t)=>{const e=Fw(kg,n.__scopeTooltip),r=_6(kg,n.__scopeTooltip),i=Z.useRef(null),s=$o(t,i),[o,a]=Z.useState(null),{trigger:l,onClose:c}=e,h=i.current,{onPointerInTransitChange:d}=r,g=Z.useCallback(()=>{a(null),d(!1)},[d]),f=Z.useCallback((w,v)=>{const x=w.currentTarget,y={x:w.clientX,y:w.clientY},b=mB(y,x.getBoundingClientRect()),_=vB(y,b),N=yB(v.getBoundingClientRect()),L=bB([..._,...N]);a(L),d(!0)},[d]);return Z.useEffect(()=>()=>g(),[g]),Z.useEffect(()=>{if(l&&h){const w=x=>f(x,h),v=x=>f(x,l);return l.addEventListener("pointerleave",w),h.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",w),h.removeEventListener("pointerleave",v)}}},[l,h,f,g]),Z.useEffect(()=>{if(o){const w=v=>{const x=v.target,y={x:v.clientX,y:v.clientY},b=(l==null?void 0:l.contains(x))||(h==null?void 0:h.contains(x)),_=!wB(y,o);b?g():_&&(g(),c())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[l,h,o,c,g]),it.jsx(L6,{...n,ref:s})}),[dB,fB]=Mw(C6,{isInside:!1}),pB=y7("TooltipContent"),L6=Z.forwardRef((n,t)=>{const{__scopeTooltip:e,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=n,l=Fw(kg,e),c=$_(e),{onClose:h}=l;return Z.useEffect(()=>(document.addEventListener(NC,h),()=>document.removeEventListener(NC,h)),[h]),Z.useEffect(()=>{if(l.trigger){const d=g=>{const f=g.target;f!=null&&f.contains(l.trigger)&&h()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,h]),it.jsx(P_,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:h,children:it.jsxs(iB,{"data-state":l.stateAttribute,...c,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[it.jsx(pB,{children:r}),it.jsx(dB,{scope:e,isInside:!0,children:it.jsx(H7,{id:l.contentId,role:"tooltip",children:i||r})})]})})});N6.displayName=kg;var P6="TooltipArrow",gB=Z.forwardRef((n,t)=>{const{__scopeTooltip:e,...r}=n,i=$_(e);return fB(P6,e).isInside?null:it.jsx(sB,{...i,...r,ref:t})});gB.displayName=P6;function mB(n,t){const e=Math.abs(t.top-n.y),r=Math.abs(t.bottom-n.y),i=Math.abs(t.right-n.x),s=Math.abs(t.left-n.x);switch(Math.min(e,r,i,s)){case s:return"left";case i:return"right";case e:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function vB(n,t,e=5){const r=[];switch(t){case"top":r.push({x:n.x-e,y:n.y+e},{x:n.x+e,y:n.y+e});break;case"bottom":r.push({x:n.x-e,y:n.y-e},{x:n.x+e,y:n.y-e});break;case"left":r.push({x:n.x+e,y:n.y-e},{x:n.x+e,y:n.y+e});break;case"right":r.push({x:n.x-e,y:n.y-e},{x:n.x-e,y:n.y+e});break}return r}function yB(n){const{top:t,right:e,bottom:r,left:i}=n;return[{x:i,y:t},{x:e,y:t},{x:e,y:r},{x:i,y:r}]}function wB(n,t){const{x:e,y:r}=n;let i=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const a=t[s],l=t[o],c=a.x,h=a.y,d=l.x,g=l.y;h>r!=g>r&&e<(d-c)*(r-h)/(g-h)+c&&(i=!i)}return i}function bB(n){const t=n.slice();return t.sort((e,r)=>e.x<r.x?-1:e.x>r.x?1:e.y<r.y?-1:e.y>r.y?1:0),xB(t)}function xB(n){if(n.length<=1)return n.slice();const t=[];for(let r=0;r<n.length;r++){const i=n[r];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const e=[];for(let r=n.length-1;r>=0;r--){const i=n[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}return e.pop(),t.length===1&&e.length===1&&t[0].x===e[0].x&&t[0].y===e[0].y?t:t.concat(e)}var AB=E6,k6=N6;const SB=AB,_B=Z.forwardRef(({className:n,sideOffset:t=4,...e},r)=>it.jsx(k6,{ref:r,sideOffset:t,className:Ir("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...e}));_B.displayName=k6.displayName;var Ow=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Dw=typeof window>"u"||"Deno"in globalThis;function xo(){}function EB(n,t){return typeof n=="function"?n(t):n}function CB(n){return typeof n=="number"&&n>=0&&n!==1/0}function NB(n,t){return Math.max(n+(t||0)-Date.now(),0)}function GA(n,t){return typeof n=="function"?n(t):n}function LB(n,t){return typeof n=="function"?n(t):n}function LC(n,t){const{type:e="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=n;if(o){if(r){if(t.queryHash!==V_(o,t.options))return!1}else if(!I0(t.queryKey,o))return!1}if(e!=="all"){const l=t.isActive();if(e==="active"&&!l||e==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||i&&i!==t.state.fetchStatus||s&&!s(t))}function PC(n,t){const{exact:e,status:r,predicate:i,mutationKey:s}=n;if(s){if(!t.options.mutationKey)return!1;if(e){if(R0(t.options.mutationKey)!==R0(s))return!1}else if(!I0(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function V_(n,t){return((t==null?void 0:t.queryKeyHashFn)||R0)(n)}function R0(n){return JSON.stringify(n,(t,e)=>XA(e)?Object.keys(e).sort().reduce((r,i)=>(r[i]=e[i],r),{}):e)}function I0(n,t){return n===t?!0:typeof n!=typeof t?!1:n&&t&&typeof n=="object"&&typeof t=="object"?Object.keys(t).every(e=>I0(n[e],t[e])):!1}function T6(n,t){if(n===t)return n;const e=kC(n)&&kC(t);if(e||XA(n)&&XA(t)){const r=e?n:Object.keys(n),i=r.length,s=e?t:Object.keys(t),o=s.length,a=e?[]:{},l=new Set(r);let c=0;for(let h=0;h<o;h++){const d=e?h:s[h];(!e&&l.has(d)||e)&&n[d]===void 0&&t[d]===void 0?(a[d]=void 0,c++):(a[d]=T6(n[d],t[d]),a[d]===n[d]&&n[d]!==void 0&&c++)}return i===o&&c===i?n:a}return t}function kC(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function XA(n){if(!TC(n))return!1;const t=n.constructor;if(t===void 0)return!0;const e=t.prototype;return!(!TC(e)||!e.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function TC(n){return Object.prototype.toString.call(n)==="[object Object]"}function PB(n){return new Promise(t=>{setTimeout(t,n)})}function kB(n,t,e){return typeof e.structuralSharing=="function"?e.structuralSharing(n,t):e.structuralSharing!==!1?T6(n,t):t}function TB(n,t,e=0){const r=[...n,t];return e&&r.length>e?r.slice(1):r}function RB(n,t,e=0){const r=[t,...n];return e&&r.length>e?r.slice(0,-1):r}var W_=Symbol();function R6(n,t){return!n.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!n.queryFn||n.queryFn===W_?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var dh,Cc,lp,$N,IB=($N=class extends Ow{constructor(){super();k(this,dh);k(this,Cc);k(this,lp);C(this,lp,t=>{if(!Dw&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}})}onSubscribe(){u(this,Cc)||this.setEventListener(u(this,lp))}onUnsubscribe(){var t;this.hasListeners()||((t=u(this,Cc))==null||t.call(this),C(this,Cc,void 0))}setEventListener(t){var e;C(this,lp,t),(e=u(this,Cc))==null||e.call(this),C(this,Cc,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){u(this,dh)!==t&&(C(this,dh,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){var t;return typeof u(this,dh)=="boolean"?u(this,dh):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},dh=new WeakMap,Cc=new WeakMap,lp=new WeakMap,$N),I6=new IB,cp,Nc,up,VN,MB=(VN=class extends Ow{constructor(){super();k(this,cp,!0);k(this,Nc);k(this,up);C(this,up,t=>{if(!Dw&&window.addEventListener){const e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}}})}onSubscribe(){u(this,Nc)||this.setEventListener(u(this,up))}onUnsubscribe(){var t;this.hasListeners()||((t=u(this,Nc))==null||t.call(this),C(this,Nc,void 0))}setEventListener(t){var e;C(this,up,t),(e=u(this,Nc))==null||e.call(this),C(this,Nc,t(this.setOnline.bind(this)))}setOnline(t){u(this,cp)!==t&&(C(this,cp,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return u(this,cp)}},cp=new WeakMap,Nc=new WeakMap,up=new WeakMap,VN),T5=new MB;function FB(){let n,t;const e=new Promise((i,s)=>{n=i,t=s});e.status="pending",e.catch(()=>{});function r(i){Object.assign(e,i),delete e.resolve,delete e.reject}return e.resolve=i=>{r({status:"fulfilled",value:i}),n(i)},e.reject=i=>{r({status:"rejected",reason:i}),t(i)},e}function OB(n){return Math.min(1e3*2**n,3e4)}function M6(n){return(n??"online")==="online"?T5.isOnline():!0}var F6=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function Sx(n){return n instanceof F6}function O6(n){let t=!1,e=0,r=!1,i;const s=FB(),o=v=>{var x;r||(g(new F6(v)),(x=n.abort)==null||x.call(n))},a=()=>{t=!0},l=()=>{t=!1},c=()=>I6.isFocused()&&(n.networkMode==="always"||T5.isOnline())&&n.canRun(),h=()=>M6(n.networkMode)&&n.canRun(),d=v=>{var x;r||(r=!0,(x=n.onSuccess)==null||x.call(n,v),i==null||i(),s.resolve(v))},g=v=>{var x;r||(r=!0,(x=n.onError)==null||x.call(n,v),i==null||i(),s.reject(v))},f=()=>new Promise(v=>{var x;i=y=>{(r||c())&&v(y)},(x=n.onPause)==null||x.call(n)}).then(()=>{var v;i=void 0,r||(v=n.onContinue)==null||v.call(n)}),w=()=>{if(r)return;let v;const x=e===0?n.initialPromise:void 0;try{v=x??n.fn()}catch(y){v=Promise.reject(y)}Promise.resolve(v).then(d).catch(y=>{var O;if(r)return;const b=n.retry??(Dw?0:3),_=n.retryDelay??OB,N=typeof _=="function"?_(e,y):_,L=b===!0||typeof b=="number"&&e<b||typeof b=="function"&&b(e,y);if(t||!L){g(y);return}e++,(O=n.onFail)==null||O.call(n,e,y),PB(N).then(()=>c()?void 0:f()).then(()=>{t?g(y):w()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:l,canStart:h,start:()=>(h()?w():f().then(w),s)}}var DB=n=>setTimeout(n,0);function jB(){let n=[],t=0,e=a=>{a()},r=a=>{a()},i=DB;const s=a=>{t?n.push(a):i(()=>{e(a)})},o=()=>{const a=n;n=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{e(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{e=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Ci=jB(),fh,WN,D6=(WN=class{constructor(){k(this,fh)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),CB(this.gcTime)&&C(this,fh,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Dw?1/0:5*60*1e3))}clearGcTimeout(){u(this,fh)&&(clearTimeout(u(this,fh)),C(this,fh,void 0))}},fh=new WeakMap,WN),hp,ph,Hs,gh,ii,B0,mh,So,nl,GN,BB=(GN=class extends D6{constructor(t){super();k(this,So);k(this,hp);k(this,ph);k(this,Hs);k(this,gh);k(this,ii);k(this,B0);k(this,mh);C(this,mh,!1),C(this,B0,t.defaultOptions),this.setOptions(t.options),this.observers=[],C(this,gh,t.client),C(this,Hs,u(this,gh).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,C(this,hp,UB(this.options)),this.state=t.state??u(this,hp),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=u(this,ii))==null?void 0:t.promise}setOptions(t){this.options={...u(this,B0),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&u(this,Hs).remove(this)}setData(t,e){const r=kB(this.state.data,t,this.options);return F(this,So,nl).call(this,{data:r,type:"success",dataUpdatedAt:e==null?void 0:e.updatedAt,manual:e==null?void 0:e.manual}),r}setState(t,e){F(this,So,nl).call(this,{type:"setState",state:t,setStateOptions:e})}cancel(t){var r,i;const e=(r=u(this,ii))==null?void 0:r.promise;return(i=u(this,ii))==null||i.cancel(t),e?e.then(xo).catch(xo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(u(this,hp))}isActive(){return this.observers.some(t=>LB(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===W_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>GA(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!NB(this.state.dataUpdatedAt,t)}onFocus(){var e;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(e=u(this,ii))==null||e.continue()}onOnline(){var e;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(e=u(this,ii))==null||e.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),u(this,Hs).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(u(this,ii)&&(u(this,mh)?u(this,ii).cancel({revert:!0}):u(this,ii).cancelRetry()),this.scheduleGc()),u(this,Hs).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||F(this,So,nl).call(this,{type:"invalidate"})}fetch(t,e){var c,h,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(e!=null&&e.cancelRefetch))this.cancel({silent:!0});else if(u(this,ii))return u(this,ii).continueRetry(),u(this,ii).promise}if(t&&this.setOptions(t),!this.options.queryFn){const g=this.observers.find(f=>f.options.queryFn);g&&this.setOptions(g.options)}const r=new AbortController,i=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(C(this,mh,!0),r.signal)})},s=()=>{const g=R6(this.options,e),w=(()=>{const v={client:u(this,gh),queryKey:this.queryKey,meta:this.meta};return i(v),v})();return C(this,mh,!1),this.options.persister?this.options.persister(g,w,this):g(w)},a=(()=>{const g={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:u(this,gh),state:this.state,fetchFn:s};return i(g),g})();(c=this.options.behavior)==null||c.onFetch(a,this),C(this,ph,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=a.fetchOptions)==null?void 0:h.meta))&&F(this,So,nl).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const l=g=>{var f,w,v,x;Sx(g)&&g.silent||F(this,So,nl).call(this,{type:"error",error:g}),Sx(g)||((w=(f=u(this,Hs).config).onError)==null||w.call(f,g,this),(x=(v=u(this,Hs).config).onSettled)==null||x.call(v,this.state.data,g,this)),this.scheduleGc()};return C(this,ii,O6({initialPromise:e==null?void 0:e.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:g=>{var f,w,v,x;if(g===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(y){l(y);return}(w=(f=u(this,Hs).config).onSuccess)==null||w.call(f,g,this),(x=(v=u(this,Hs).config).onSettled)==null||x.call(v,g,this.state.error,this),this.scheduleGc()},onError:l,onFail:(g,f)=>{F(this,So,nl).call(this,{type:"failed",failureCount:g,error:f})},onPause:()=>{F(this,So,nl).call(this,{type:"pause"})},onContinue:()=>{F(this,So,nl).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),u(this,ii).start()}},hp=new WeakMap,ph=new WeakMap,Hs=new WeakMap,gh=new WeakMap,ii=new WeakMap,B0=new WeakMap,mh=new WeakMap,So=new WeakSet,nl=function(t){const e=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...zB(r.data,this.options),fetchMeta:t.meta??null};case"success":return C(this,ph,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return Sx(i)&&i.revert&&u(this,ph)?{...u(this,ph),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=e(this.state),Ci.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),u(this,Hs).notify({query:this,type:"updated",action:t})})},GN);function zB(n,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:M6(t.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function UB(n){const t=typeof n.initialData=="function"?n.initialData():n.initialData,e=t!==void 0,r=e?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:e?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:e?"success":"pending",fetchStatus:"idle"}}var da,XN,qB=(XN=class extends Ow{constructor(t={}){super();k(this,da);this.config=t,C(this,da,new Map)}build(t,e,r){const i=e.queryKey,s=e.queryHash??V_(i,e);let o=this.get(s);return o||(o=new BB({client:t,queryKey:i,queryHash:s,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){u(this,da).has(t.queryHash)||(u(this,da).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=u(this,da).get(t.queryHash);e&&(t.destroy(),e===t&&u(this,da).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ci.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return u(this,da).get(t)}getAll(){return[...u(this,da).values()]}find(t){const e={exact:!0,...t};return this.getAll().find(r=>LC(e,r))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(r=>LC(t,r)):e}notify(t){Ci.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Ci.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ci.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},da=new WeakMap,XN),fa,wi,vh,pa,wc,YN,HB=(YN=class extends D6{constructor(t){super();k(this,pa);k(this,fa);k(this,wi);k(this,vh);this.mutationId=t.mutationId,C(this,wi,t.mutationCache),C(this,fa,[]),this.state=t.state||$B(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){u(this,fa).includes(t)||(u(this,fa).push(t),this.clearGcTimeout(),u(this,wi).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){C(this,fa,u(this,fa).filter(e=>e!==t)),this.scheduleGc(),u(this,wi).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){u(this,fa).length||(this.state.status==="pending"?this.scheduleGc():u(this,wi).remove(this))}continue(){var t;return((t=u(this,vh))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,o,a,l,c,h,d,g,f,w,v,x,y,b,_,N,L,O,I,D;const e=()=>{F(this,pa,wc).call(this,{type:"continue"})};C(this,vh,O6({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(V,Q)=>{F(this,pa,wc).call(this,{type:"failed",failureCount:V,error:Q})},onPause:()=>{F(this,pa,wc).call(this,{type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>u(this,wi).canRun(this)}));const r=this.state.status==="pending",i=!u(this,vh).canStart();try{if(r)e();else{F(this,pa,wc).call(this,{type:"pending",variables:t,isPaused:i}),await((o=(s=u(this,wi).config).onMutate)==null?void 0:o.call(s,t,this));const Q=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,t));Q!==this.state.context&&F(this,pa,wc).call(this,{type:"pending",context:Q,variables:t,isPaused:i})}const V=await u(this,vh).start();return await((h=(c=u(this,wi).config).onSuccess)==null?void 0:h.call(c,V,t,this.state.context,this)),await((g=(d=this.options).onSuccess)==null?void 0:g.call(d,V,t,this.state.context)),await((w=(f=u(this,wi).config).onSettled)==null?void 0:w.call(f,V,null,this.state.variables,this.state.context,this)),await((x=(v=this.options).onSettled)==null?void 0:x.call(v,V,null,t,this.state.context)),F(this,pa,wc).call(this,{type:"success",data:V}),V}catch(V){try{throw await((b=(y=u(this,wi).config).onError)==null?void 0:b.call(y,V,t,this.state.context,this)),await((N=(_=this.options).onError)==null?void 0:N.call(_,V,t,this.state.context)),await((O=(L=u(this,wi).config).onSettled)==null?void 0:O.call(L,void 0,V,this.state.variables,this.state.context,this)),await((D=(I=this.options).onSettled)==null?void 0:D.call(I,void 0,V,t,this.state.context)),V}finally{F(this,pa,wc).call(this,{type:"error",error:V})}}finally{u(this,wi).runNext(this)}}},fa=new WeakMap,wi=new WeakMap,vh=new WeakMap,pa=new WeakSet,wc=function(t){const e=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Ci.batch(()=>{u(this,fa).forEach(r=>{r.onMutationUpdate(t)}),u(this,wi).notify({mutation:this,type:"updated",action:t})})},YN);function $B(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ul,_o,z0,KN,VB=(KN=class extends Ow{constructor(t={}){super();k(this,ul);k(this,_o);k(this,z0);this.config=t,C(this,ul,new Set),C(this,_o,new Map),C(this,z0,0)}build(t,e,r){const i=new HB({mutationCache:this,mutationId:++Sr(this,z0)._,options:t.defaultMutationOptions(e),state:r});return this.add(i),i}add(t){u(this,ul).add(t);const e=$v(t);if(typeof e=="string"){const r=u(this,_o).get(e);r?r.push(t):u(this,_o).set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(u(this,ul).delete(t)){const e=$v(t);if(typeof e=="string"){const r=u(this,_o).get(e);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&u(this,_o).delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=$v(t);if(typeof e=="string"){const r=u(this,_o).get(e),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===t}else return!0}runNext(t){var r;const e=$v(t);if(typeof e=="string"){const i=(r=u(this,_o).get(e))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ci.batch(()=>{u(this,ul).forEach(t=>{this.notify({type:"removed",mutation:t})}),u(this,ul).clear(),u(this,_o).clear()})}getAll(){return Array.from(u(this,ul))}find(t){const e={exact:!0,...t};return this.getAll().find(r=>PC(e,r))}findAll(t={}){return this.getAll().filter(e=>PC(t,e))}notify(t){Ci.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Ci.batch(()=>Promise.all(t.map(e=>e.continue().catch(xo))))}},ul=new WeakMap,_o=new WeakMap,z0=new WeakMap,KN);function $v(n){var t;return(t=n.options.scope)==null?void 0:t.id}function RC(n){return{onFetch:(t,e)=>{var h,d,g,f,w;const r=t.options,i=(g=(d=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:d.fetchMore)==null?void 0:g.direction,s=((f=t.state.data)==null?void 0:f.pages)||[],o=((w=t.state.data)==null?void 0:w.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let v=!1;const x=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},y=R6(t.options,t.fetchOptions),b=async(_,N,L)=>{if(v)return Promise.reject();if(N==null&&_.pages.length)return Promise.resolve(_);const I=(()=>{const P={client:t.client,queryKey:t.queryKey,pageParam:N,direction:L?"backward":"forward",meta:t.options.meta};return x(P),P})(),D=await y(I),{maxPages:V}=t.options,Q=L?RB:TB;return{pages:Q(_.pages,D,V),pageParams:Q(_.pageParams,N,V)}};if(i&&s.length){const _=i==="backward",N=_?WB:IC,L={pages:s,pageParams:o},O=N(r,L);a=await b(L,O,_)}else{const _=n??s.length;do{const N=l===0?o[0]??r.initialPageParam:IC(r,a);if(l>0&&N==null)break;a=await b(a,N),l++}while(l<_)}return a};t.options.persister?t.fetchFn=()=>{var v,x;return(x=(v=t.options).persister)==null?void 0:x.call(v,c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},e)}:t.fetchFn=c}}}function IC(n,{pages:t,pageParams:e}){const r=t.length-1;return t.length>0?n.getNextPageParam(t[r],t,e[r],e):void 0}function WB(n,{pages:t,pageParams:e}){var r;return t.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,t[0],t,e[0],e):void 0}var On,Lc,Pc,dp,fp,kc,pp,gp,QN,GB=(QN=class{constructor(n={}){k(this,On);k(this,Lc);k(this,Pc);k(this,dp);k(this,fp);k(this,kc);k(this,pp);k(this,gp);C(this,On,n.queryCache||new qB),C(this,Lc,n.mutationCache||new VB),C(this,Pc,n.defaultOptions||{}),C(this,dp,new Map),C(this,fp,new Map),C(this,kc,0)}mount(){Sr(this,kc)._++,u(this,kc)===1&&(C(this,pp,I6.subscribe(async n=>{n&&(await this.resumePausedMutations(),u(this,On).onFocus())})),C(this,gp,T5.subscribe(async n=>{n&&(await this.resumePausedMutations(),u(this,On).onOnline())})))}unmount(){var n,t;Sr(this,kc)._--,u(this,kc)===0&&((n=u(this,pp))==null||n.call(this),C(this,pp,void 0),(t=u(this,gp))==null||t.call(this),C(this,gp,void 0))}isFetching(n){return u(this,On).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return u(this,Lc).findAll({...n,status:"pending"}).length}getQueryData(n){var e;const t=this.defaultQueryOptions({queryKey:n});return(e=u(this,On).get(t.queryHash))==null?void 0:e.state.data}ensureQueryData(n){const t=this.defaultQueryOptions(n),e=u(this,On).build(this,t),r=e.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&e.isStaleByTime(GA(t.staleTime,e))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(n){return u(this,On).findAll(n).map(({queryKey:t,state:e})=>{const r=e.data;return[t,r]})}setQueryData(n,t,e){const r=this.defaultQueryOptions({queryKey:n}),i=u(this,On).get(r.queryHash),s=i==null?void 0:i.state.data,o=EB(t,s);if(o!==void 0)return u(this,On).build(this,r).setData(o,{...e,manual:!0})}setQueriesData(n,t,e){return Ci.batch(()=>u(this,On).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,t,e)]))}getQueryState(n){var e;const t=this.defaultQueryOptions({queryKey:n});return(e=u(this,On).get(t.queryHash))==null?void 0:e.state}removeQueries(n){const t=u(this,On);Ci.batch(()=>{t.findAll(n).forEach(e=>{t.remove(e)})})}resetQueries(n,t){const e=u(this,On);return Ci.batch(()=>(e.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},t)))}cancelQueries(n,t={}){const e={revert:!0,...t},r=Ci.batch(()=>u(this,On).findAll(n).map(i=>i.cancel(e)));return Promise.all(r).then(xo).catch(xo)}invalidateQueries(n,t={}){return Ci.batch(()=>(u(this,On).findAll(n).forEach(e=>{e.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},t)))}refetchQueries(n,t={}){const e={...t,cancelRefetch:t.cancelRefetch??!0},r=Ci.batch(()=>u(this,On).findAll(n).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,e);return e.throwOnError||(s=s.catch(xo)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(xo)}fetchQuery(n){const t=this.defaultQueryOptions(n);t.retry===void 0&&(t.retry=!1);const e=u(this,On).build(this,t);return e.isStaleByTime(GA(t.staleTime,e))?e.fetch(t):Promise.resolve(e.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(xo).catch(xo)}fetchInfiniteQuery(n){return n.behavior=RC(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(xo).catch(xo)}ensureInfiniteQueryData(n){return n.behavior=RC(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return T5.isOnline()?u(this,Lc).resumePausedMutations():Promise.resolve()}getQueryCache(){return u(this,On)}getMutationCache(){return u(this,Lc)}getDefaultOptions(){return u(this,Pc)}setDefaultOptions(n){C(this,Pc,n)}setQueryDefaults(n,t){u(this,dp).set(R0(n),{queryKey:n,defaultOptions:t})}getQueryDefaults(n){const t=[...u(this,dp).values()],e={};return t.forEach(r=>{I0(n,r.queryKey)&&Object.assign(e,r.defaultOptions)}),e}setMutationDefaults(n,t){u(this,fp).set(R0(n),{mutationKey:n,defaultOptions:t})}getMutationDefaults(n){const t=[...u(this,fp).values()],e={};return t.forEach(r=>{I0(n,r.mutationKey)&&Object.assign(e,r.defaultOptions)}),e}defaultQueryOptions(n){if(n._defaulted)return n;const t={...u(this,Pc).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return t.queryHash||(t.queryHash=V_(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===W_&&(t.enabled=!1),t}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...u(this,Pc).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){u(this,On).clear(),u(this,Lc).clear()}},On=new WeakMap,Lc=new WeakMap,Pc=new WeakMap,dp=new WeakMap,fp=new WeakMap,kc=new WeakMap,pp=new WeakMap,gp=new WeakMap,QN),XB=Z.createContext(void 0),YB=({client:n,children:t})=>(Z.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),it.jsx(XB.Provider,{value:n,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function R5(){return R5=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},R5.apply(this,arguments)}var mu;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(mu||(mu={}));const MC="popstate";function KB(n){n===void 0&&(n={});function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return YA("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function e(r,i){return typeof i=="string"?i:B6(i)}return JB(t,e,null,n)}function Qi(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function j6(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function QB(){return Math.random().toString(36).substr(2,8)}function FC(n,t){return{usr:n.state,key:n.key,idx:t}}function YA(n,t,e,r){return e===void 0&&(e=null),R5({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof t=="string"?jw(t):t,{state:e,key:t&&t.key||r||QB()})}function B6(n){let{pathname:t="/",search:e="",hash:r=""}=n;return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function jw(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substr(e),n=n.substr(0,e));let r=n.indexOf("?");r>=0&&(t.search=n.substr(r),n=n.substr(0,r)),n&&(t.pathname=n)}return t}function JB(n,t,e,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=mu.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(R5({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function d(){a=mu.Pop;let x=h(),y=x==null?null:x-c;c=x,l&&l({action:a,location:v.location,delta:y})}function g(x,y){a=mu.Push;let b=YA(v.location,x,y);c=h()+1;let _=FC(b,c),N=v.createHref(b);try{o.pushState(_,"",N)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(N)}s&&l&&l({action:a,location:v.location,delta:1})}function f(x,y){a=mu.Replace;let b=YA(v.location,x,y);c=h();let _=FC(b,c),N=v.createHref(b);o.replaceState(_,"",N),s&&l&&l({action:a,location:v.location,delta:0})}function w(x){let y=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof x=="string"?x:B6(x);return b=b.replace(/ $/,"%20"),Qi(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let v={get action(){return a},get location(){return n(i,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(MC,d),l=x,()=>{i.removeEventListener(MC,d),l=null}},createHref(x){return t(i,x)},createURL:w,encodeLocation(x){let y=w(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:g,replace:f,go(x){return o.go(x)}};return v}var OC;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(OC||(OC={}));function ZB(n,t,e){return e===void 0&&(e="/"),t9(n,t,e)}function t9(n,t,e,r){let i=typeof t=="string"?jw(t):t,s=q6(i.pathname||"/",e);if(s==null)return null;let o=z6(n);e9(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=f9(s);a=u9(o[l],c)}return a}function z6(n,t,e,r){t===void 0&&(t=[]),e===void 0&&(e=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Qi(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ep([r,l.relativePath]),h=e.concat(l);s.children&&s.children.length>0&&(Qi(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),z6(s.children,t,h,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:l9(c,s.index),routesMeta:h})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of U6(s.path))i(s,o,l)}),t}function U6(n){let t=n.split("/");if(t.length===0)return[];let[e,...r]=t,i=e.endsWith("?"),s=e.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=U6(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function e9(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:c9(t.routesMeta.map(r=>r.childrenIndex),e.routesMeta.map(r=>r.childrenIndex)))}const n9=/^:[\w-]+$/,r9=3,i9=2,s9=1,o9=10,a9=-2,DC=n=>n==="*";function l9(n,t){let e=n.split("/"),r=e.length;return e.some(DC)&&(r+=a9),t&&(r+=i9),e.filter(i=>!DC(i)).reduce((i,s)=>i+(n9.test(s)?r9:s===""?s9:o9),r)}function c9(n,t){return n.length===t.length&&n.slice(0,-1).every((r,i)=>r===t[i])?n[n.length-1]-t[t.length-1]:0}function u9(n,t,e){let{routesMeta:r}=n,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,h=s==="/"?t:t.slice(s.length)||"/",d=h9({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),g=l.route;if(!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:ep([s,d.pathname]),pathnameBase:p9(ep([s,d.pathnameBase])),route:g}),d.pathnameBase!=="/"&&(s=ep([s,d.pathnameBase]))}return o}function h9(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,r]=d9(n.path,n.caseSensitive,n.end),i=t.match(e);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,h,d)=>{let{paramName:g,isOptional:f}=h;if(g==="*"){let v=a[d]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const w=a[d];return f&&!w?c[g]=void 0:c[g]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:n}}function d9(n,t,e){t===void 0&&(t=!1),e===void 0&&(e=!0),j6(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function f9(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return j6(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),n}}function q6(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,r=n.charAt(e);return r&&r!=="/"?null:n.slice(e)||"/"}const ep=n=>n.join("/").replace(/\/\/+/g,"/"),p9=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/");function g9(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const H6=["post","put","patch","delete"];new Set(H6);const m9=["get",...H6];new Set(m9);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function I5(){return I5=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},I5.apply(this,arguments)}const v9=Z.createContext(null),y9=Z.createContext(null),$6=Z.createContext(null),Bw=Z.createContext(null),zw=Z.createContext({outlet:null,matches:[],isDataRoute:!1}),V6=Z.createContext(null);function G_(){return Z.useContext(Bw)!=null}function W6(){return G_()||Qi(!1),Z.useContext(Bw).location}function w9(n,t){return b9(n,t)}function b9(n,t,e,r){G_()||Qi(!1);let{navigator:i}=Z.useContext($6),{matches:s}=Z.useContext(zw),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=W6(),h;if(t){var d;let x=typeof t=="string"?jw(t):t;l==="/"||(d=x.pathname)!=null&&d.startsWith(l)||Qi(!1),h=x}else h=c;let g=h.pathname||"/",f=g;if(l!=="/"){let x=l.replace(/^\//,"").split("/");f="/"+g.replace(/^\//,"").split("/").slice(x.length).join("/")}let w=ZB(n,{pathname:f}),v=E9(w&&w.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:ep([l,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:ep([l,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,e,r);return t&&v?Z.createElement(Bw.Provider,{value:{location:I5({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:mu.Pop}},v):v}function x9(){let n=P9(),t=g9(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},t),e?Z.createElement("pre",{style:i},e):null,null)}const A9=Z.createElement(x9,null);class S9 extends Z.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?Z.createElement(zw.Provider,{value:this.props.routeContext},Z.createElement(V6.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _9(n){let{routeContext:t,match:e,children:r}=n,i=Z.useContext(v9);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),Z.createElement(zw.Provider,{value:t},r)}function E9(n,t,e,r){var i;if(t===void 0&&(t=[]),e===void 0&&(e=null),r===void 0&&(r=null),n==null){var s;if(!e)return null;if(e.errors)n=e.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let o=n,a=(i=e)==null?void 0:i.errors;if(a!=null){let h=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);h>=0||Qi(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,c=-1;if(e&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let d=o[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:g,errors:f}=e,w=d.route.loader&&g[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||w){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,d,g)=>{let f,w=!1,v=null,x=null;e&&(f=a&&d.route.id?a[d.route.id]:void 0,v=d.route.errorElement||A9,l&&(c<0&&g===0?(k9("route-fallback"),w=!0,x=null):c===g&&(w=!0,x=d.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,g+1)),b=()=>{let _;return f?_=v:w?_=x:d.route.Component?_=Z.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=h,Z.createElement(_9,{match:d,routeContext:{outlet:h,matches:y,isDataRoute:e!=null},children:_})};return e&&(d.route.ErrorBoundary||d.route.errorElement||g===0)?Z.createElement(S9,{location:e.location,revalidation:e.revalidation,component:v,error:f,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var G6=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(G6||{});function C9(n){let t=Z.useContext(y9);return t||Qi(!1),t}function N9(n){let t=Z.useContext(zw);return t||Qi(!1),t}function L9(n){let t=N9(),e=t.matches[t.matches.length-1];return e.route.id||Qi(!1),e.route.id}function P9(){var n;let t=Z.useContext(V6),e=C9(G6.UseRouteError),r=L9();return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}const jC={};function k9(n,t,e){jC[n]||(jC[n]=!0)}function T9(n,t){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function KA(n){Qi(!1)}function R9(n){let{basename:t="/",children:e=null,location:r,navigationType:i=mu.Pop,navigator:s,static:o=!1,future:a}=n;G_()&&Qi(!1);let l=t.replace(/^\/*/,"/"),c=Z.useMemo(()=>({basename:l,navigator:s,static:o,future:I5({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=jw(r));let{pathname:h="/",search:d="",hash:g="",state:f=null,key:w="default"}=r,v=Z.useMemo(()=>{let x=q6(h,l);return x==null?null:{location:{pathname:x,search:d,hash:g,state:f,key:w},navigationType:i}},[l,h,d,g,f,w,i]);return v==null?null:Z.createElement($6.Provider,{value:c},Z.createElement(Bw.Provider,{children:e,value:v}))}function I9(n){let{children:t,location:e}=n;return w9(QA(t),e)}new Promise(()=>{});function QA(n,t){t===void 0&&(t=[]);let e=[];return Z.Children.forEach(n,(r,i)=>{if(!Z.isValidElement(r))return;let s=[...t,i];if(r.type===Z.Fragment){e.push.apply(e,QA(r.props.children,s));return}r.type!==KA&&Qi(!1),!r.props.index||!r.props.children||Qi(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=QA(r.props.children,s)),e.push(o)}),e}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const M9="6";try{window.__reactRouterVersion=M9}catch{}const F9="startTransition",BC=uL[F9];function O9(n){let{basename:t,children:e,future:r,window:i}=n,s=Z.useRef();s.current==null&&(s.current=KB({window:i,v5Compat:!0}));let o=s.current,[a,l]=Z.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},h=Z.useCallback(d=>{c&&BC?BC(()=>l(d)):l(d)},[l,c]);return Z.useLayoutEffect(()=>o.listen(h),[o,h]),Z.useEffect(()=>T9(r),[r]),Z.createElement(R9,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:o,future:r})}var zC;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(zC||(zC={}));var UC;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(UC||(UC={}));function X6(n,t){return function(){return n.apply(t,arguments)}}const{toString:D9}=Object.prototype,{getPrototypeOf:X_}=Object,{iterator:Uw,toStringTag:Y6}=Symbol,qw=(n=>t=>{const e=D9.call(t);return n[e]||(n[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),Yo=n=>(n=n.toLowerCase(),t=>qw(t)===n),Hw=n=>t=>typeof t===n,{isArray:Dg}=Array,M0=Hw("undefined");function A2(n){return n!==null&&!M0(n)&&n.constructor!==null&&!M0(n.constructor)&&Yi(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const K6=Yo("ArrayBuffer");function j9(n){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(n):t=n&&n.buffer&&K6(n.buffer),t}const B9=Hw("string"),Yi=Hw("function"),Q6=Hw("number"),S2=n=>n!==null&&typeof n=="object",z9=n=>n===!0||n===!1,yy=n=>{if(qw(n)!=="object")return!1;const t=X_(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Y6 in n)&&!(Uw in n)},U9=n=>{if(!S2(n)||A2(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},q9=Yo("Date"),H9=Yo("File"),$9=Yo("Blob"),V9=Yo("FileList"),W9=n=>S2(n)&&Yi(n.pipe),G9=n=>{let t;return n&&(typeof FormData=="function"&&n instanceof FormData||Yi(n.append)&&((t=qw(n))==="formdata"||t==="object"&&Yi(n.toString)&&n.toString()==="[object FormData]"))},X9=Yo("URLSearchParams"),[Y9,K9,Q9,J9]=["ReadableStream","Request","Response","Headers"].map(Yo),Z9=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function _2(n,t,{allOwnKeys:e=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),Dg(n))for(r=0,i=n.length;r<i;r++)t.call(null,n[r],r,n);else{if(A2(n))return;const s=e?Object.getOwnPropertyNames(n):Object.keys(n),o=s.length;let a;for(r=0;r<o;r++)a=s[r],t.call(null,n[a],a,n)}}function J6(n,t){if(A2(n))return null;t=t.toLowerCase();const e=Object.keys(n);let r=e.length,i;for(;r-- >0;)if(i=e[r],t===i.toLowerCase())return i;return null}const hh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Z6=n=>!M0(n)&&n!==hh;function JA(){const{caseless:n}=Z6(this)&&this||{},t={},e=(r,i)=>{const s=n&&J6(t,i)||i;yy(t[s])&&yy(r)?t[s]=JA(t[s],r):yy(r)?t[s]=JA({},r):Dg(r)?t[s]=r.slice():t[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&_2(arguments[r],e);return t}const tz=(n,t,e,{allOwnKeys:r}={})=>(_2(t,(i,s)=>{e&&Yi(i)?n[s]=X6(i,e):n[s]=i},{allOwnKeys:r}),n),ez=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),nz=(n,t,e,r)=>{n.prototype=Object.create(t.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:t.prototype}),e&&Object.assign(n.prototype,e)},rz=(n,t,e,r)=>{let i,s,o;const a={};if(t=t||{},n==null)return t;do{for(i=Object.getOwnPropertyNames(n),s=i.length;s-- >0;)o=i[s],(!r||r(o,n,t))&&!a[o]&&(t[o]=n[o],a[o]=!0);n=e!==!1&&X_(n)}while(n&&(!e||e(n,t))&&n!==Object.prototype);return t},iz=(n,t,e)=>{n=String(n),(e===void 0||e>n.length)&&(e=n.length),e-=t.length;const r=n.indexOf(t,e);return r!==-1&&r===e},sz=n=>{if(!n)return null;if(Dg(n))return n;let t=n.length;if(!Q6(t))return null;const e=new Array(t);for(;t-- >0;)e[t]=n[t];return e},oz=(n=>t=>n&&t instanceof n)(typeof Uint8Array<"u"&&X_(Uint8Array)),az=(n,t)=>{const r=(n&&n[Uw]).call(n);let i;for(;(i=r.next())&&!i.done;){const s=i.value;t.call(n,s[0],s[1])}},lz=(n,t)=>{let e;const r=[];for(;(e=n.exec(t))!==null;)r.push(e);return r},cz=Yo("HTMLFormElement"),uz=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,r,i){return r.toUpperCase()+i}),qC=(({hasOwnProperty:n})=>(t,e)=>n.call(t,e))(Object.prototype),hz=Yo("RegExp"),tT=(n,t)=>{const e=Object.getOwnPropertyDescriptors(n),r={};_2(e,(i,s)=>{let o;(o=t(i,s,n))!==!1&&(r[s]=o||i)}),Object.defineProperties(n,r)},dz=n=>{tT(n,(t,e)=>{if(Yi(n)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const r=n[e];if(Yi(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},fz=(n,t)=>{const e={},r=i=>{i.forEach(s=>{e[s]=!0})};return Dg(n)?r(n):r(String(n).split(t)),e},pz=()=>{},gz=(n,t)=>n!=null&&Number.isFinite(n=+n)?n:t;function mz(n){return!!(n&&Yi(n.append)&&n[Y6]==="FormData"&&n[Uw])}const vz=n=>{const t=new Array(10),e=(r,i)=>{if(S2(r)){if(t.indexOf(r)>=0)return;if(A2(r))return r;if(!("toJSON"in r)){t[i]=r;const s=Dg(r)?[]:{};return _2(r,(o,a)=>{const l=e(o,i+1);!M0(l)&&(s[a]=l)}),t[i]=void 0,s}}return r};return e(n,0)},yz=Yo("AsyncFunction"),wz=n=>n&&(S2(n)||Yi(n))&&Yi(n.then)&&Yi(n.catch),eT=((n,t)=>n?setImmediate:t?((e,r)=>(hh.addEventListener("message",({source:i,data:s})=>{i===hh&&s===e&&r.length&&r.shift()()},!1),i=>{r.push(i),hh.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))(typeof setImmediate=="function",Yi(hh.postMessage)),bz=typeof queueMicrotask<"u"?queueMicrotask.bind(hh):typeof process<"u"&&process.nextTick||eT,xz=n=>n!=null&&Yi(n[Uw]),wt={isArray:Dg,isArrayBuffer:K6,isBuffer:A2,isFormData:G9,isArrayBufferView:j9,isString:B9,isNumber:Q6,isBoolean:z9,isObject:S2,isPlainObject:yy,isEmptyObject:U9,isReadableStream:Y9,isRequest:K9,isResponse:Q9,isHeaders:J9,isUndefined:M0,isDate:q9,isFile:H9,isBlob:$9,isRegExp:hz,isFunction:Yi,isStream:W9,isURLSearchParams:X9,isTypedArray:oz,isFileList:V9,forEach:_2,merge:JA,extend:tz,trim:Z9,stripBOM:ez,inherits:nz,toFlatObject:rz,kindOf:qw,kindOfTest:Yo,endsWith:iz,toArray:sz,forEachEntry:az,matchAll:lz,isHTMLForm:cz,hasOwnProperty:qC,hasOwnProp:qC,reduceDescriptors:tT,freezeMethods:dz,toObjectSet:fz,toCamelCase:uz,noop:pz,toFiniteNumber:gz,findKey:J6,global:hh,isContextDefined:Z6,isSpecCompliantForm:mz,toJSONObject:vz,isAsyncFn:yz,isThenable:wz,setImmediate:eT,asap:bz,isIterable:xz};function _e(n,t,e,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",t&&(this.code=t),e&&(this.config=e),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}wt.inherits(_e,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:wt.toJSONObject(this.config),code:this.code,status:this.status}}});const nT=_e.prototype,rT={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{rT[n]={value:n}});Object.defineProperties(_e,rT);Object.defineProperty(nT,"isAxiosError",{value:!0});_e.from=(n,t,e,r,i,s)=>{const o=Object.create(nT);return wt.toFlatObject(n,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),_e.call(o,n.message,t,e,r,i),o.cause=n,o.name=n.name,s&&Object.assign(o,s),o};const Az=null;function ZA(n){return wt.isPlainObject(n)||wt.isArray(n)}function iT(n){return wt.endsWith(n,"[]")?n.slice(0,-2):n}function HC(n,t,e){return n?n.concat(t).map(function(i,s){return i=iT(i),!e&&s?"["+i+"]":i}).join(e?".":""):t}function Sz(n){return wt.isArray(n)&&!n.some(ZA)}const _z=wt.toFlatObject(wt,{},null,function(t){return/^is[A-Z]/.test(t)});function $w(n,t,e){if(!wt.isObject(n))throw new TypeError("target must be an object");t=t||new FormData,e=wt.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,x){return!wt.isUndefined(x[v])});const r=e.metaTokens,i=e.visitor||h,s=e.dots,o=e.indexes,l=(e.Blob||typeof Blob<"u"&&Blob)&&wt.isSpecCompliantForm(t);if(!wt.isFunction(i))throw new TypeError("visitor must be a function");function c(w){if(w===null)return"";if(wt.isDate(w))return w.toISOString();if(wt.isBoolean(w))return w.toString();if(!l&&wt.isBlob(w))throw new _e("Blob is not supported. Use a Buffer instead.");return wt.isArrayBuffer(w)||wt.isTypedArray(w)?l&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function h(w,v,x){let y=w;if(w&&!x&&typeof w=="object"){if(wt.endsWith(v,"{}"))v=r?v:v.slice(0,-2),w=JSON.stringify(w);else if(wt.isArray(w)&&Sz(w)||(wt.isFileList(w)||wt.endsWith(v,"[]"))&&(y=wt.toArray(w)))return v=iT(v),y.forEach(function(_,N){!(wt.isUndefined(_)||_===null)&&t.append(o===!0?HC([v],N,s):o===null?v:v+"[]",c(_))}),!1}return ZA(w)?!0:(t.append(HC(x,v,s),c(w)),!1)}const d=[],g=Object.assign(_z,{defaultVisitor:h,convertValue:c,isVisitable:ZA});function f(w,v){if(!wt.isUndefined(w)){if(d.indexOf(w)!==-1)throw Error("Circular reference detected in "+v.join("."));d.push(w),wt.forEach(w,function(y,b){(!(wt.isUndefined(y)||y===null)&&i.call(t,y,wt.isString(b)?b.trim():b,v,g))===!0&&f(y,v?v.concat(b):[b])}),d.pop()}}if(!wt.isObject(n))throw new TypeError("data must be an object");return f(n),t}function $C(n){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Y_(n,t){this._pairs=[],n&&$w(n,this,t)}const sT=Y_.prototype;sT.append=function(t,e){this._pairs.push([t,e])};sT.toString=function(t){const e=t?function(r){return t.call(this,r,$C)}:$C;return this._pairs.map(function(i){return e(i[0])+"="+e(i[1])},"").join("&")};function Ez(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function oT(n,t,e){if(!t)return n;const r=e&&e.encode||Ez;wt.isFunction(e)&&(e={serialize:e});const i=e&&e.serialize;let s;if(i?s=i(t,e):s=wt.isURLSearchParams(t)?t.toString():new Y_(t,e).toString(r),s){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class VC{constructor(){this.handlers=[]}use(t,e,r){return this.handlers.push({fulfilled:t,rejected:e,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){wt.forEach(this.handlers,function(r){r!==null&&t(r)})}}const aT={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Cz=typeof URLSearchParams<"u"?URLSearchParams:Y_,Nz=typeof FormData<"u"?FormData:null,Lz=typeof Blob<"u"?Blob:null,Pz={isBrowser:!0,classes:{URLSearchParams:Cz,FormData:Nz,Blob:Lz},protocols:["http","https","file","blob","url","data"]},K_=typeof window<"u"&&typeof document<"u",tS=typeof navigator=="object"&&navigator||void 0,kz=K_&&(!tS||["ReactNative","NativeScript","NS"].indexOf(tS.product)<0),Tz=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Rz=K_&&window.location.href||"http://localhost",Iz=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:K_,hasStandardBrowserEnv:kz,hasStandardBrowserWebWorkerEnv:Tz,navigator:tS,origin:Rz},Symbol.toStringTag,{value:"Module"})),ui={...Iz,...Pz};function Mz(n,t){return $w(n,new ui.classes.URLSearchParams,{visitor:function(e,r,i,s){return ui.isNode&&wt.isBuffer(e)?(this.append(r,e.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function Fz(n){return wt.matchAll(/\w+|\[(\w*)]/g,n).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Oz(n){const t={},e=Object.keys(n);let r;const i=e.length;let s;for(r=0;r<i;r++)s=e[r],t[s]=n[s];return t}function lT(n){function t(e,r,i,s){let o=e[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=e.length;return o=!o&&wt.isArray(i)?i.length:o,l?(wt.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!wt.isObject(i[o]))&&(i[o]=[]),t(e,r,i[o],s)&&wt.isArray(i[o])&&(i[o]=Oz(i[o])),!a)}if(wt.isFormData(n)&&wt.isFunction(n.entries)){const e={};return wt.forEachEntry(n,(r,i)=>{t(Fz(r),i,e,0)}),e}return null}function Dz(n,t,e){if(wt.isString(n))try{return(t||JSON.parse)(n),wt.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(e||JSON.stringify)(n)}const E2={transitional:aT,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const r=e.getContentType()||"",i=r.indexOf("application/json")>-1,s=wt.isObject(t);if(s&&wt.isHTMLForm(t)&&(t=new FormData(t)),wt.isFormData(t))return i?JSON.stringify(lT(t)):t;if(wt.isArrayBuffer(t)||wt.isBuffer(t)||wt.isStream(t)||wt.isFile(t)||wt.isBlob(t)||wt.isReadableStream(t))return t;if(wt.isArrayBufferView(t))return t.buffer;if(wt.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Mz(t,this.formSerializer).toString();if((a=wt.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return $w(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return s||i?(e.setContentType("application/json",!1),Dz(t)):t}],transformResponse:[function(t){const e=this.transitional||E2.transitional,r=e&&e.forcedJSONParsing,i=this.responseType==="json";if(wt.isResponse(t)||wt.isReadableStream(t))return t;if(t&&wt.isString(t)&&(r&&!this.responseType||i)){const o=!(e&&e.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?_e.from(a,_e.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ui.classes.FormData,Blob:ui.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};wt.forEach(["delete","get","head","post","put","patch"],n=>{E2.headers[n]={}});const jz=wt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Bz=n=>{const t={};let e,r,i;return n&&n.split(`
`).forEach(function(o){i=o.indexOf(":"),e=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!e||t[e]&&jz[e])&&(e==="set-cookie"?t[e]?t[e].push(r):t[e]=[r]:t[e]=t[e]?t[e]+", "+r:r)}),t},WC=Symbol("internals");function Em(n){return n&&String(n).trim().toLowerCase()}function wy(n){return n===!1||n==null?n:wt.isArray(n)?n.map(wy):String(n)}function zz(n){const t=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=e.exec(n);)t[r[1]]=r[2];return t}const Uz=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function _x(n,t,e,r,i){if(wt.isFunction(r))return r.call(this,t,e);if(i&&(t=e),!!wt.isString(t)){if(wt.isString(r))return t.indexOf(r)!==-1;if(wt.isRegExp(r))return r.test(t)}}function qz(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,r)=>e.toUpperCase()+r)}function Hz(n,t){const e=wt.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+e,{value:function(i,s,o){return this[r].call(this,t,i,s,o)},configurable:!0})})}let Ki=class{constructor(t){t&&this.set(t)}set(t,e,r){const i=this;function s(a,l,c){const h=Em(l);if(!h)throw new Error("header name must be a non-empty string");const d=wt.findKey(i,h);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=wy(a))}const o=(a,l)=>wt.forEach(a,(c,h)=>s(c,h,l));if(wt.isPlainObject(t)||t instanceof this.constructor)o(t,e);else if(wt.isString(t)&&(t=t.trim())&&!Uz(t))o(Bz(t),e);else if(wt.isObject(t)&&wt.isIterable(t)){let a={},l,c;for(const h of t){if(!wt.isArray(h))throw TypeError("Object iterator must return a key-value pair");a[c=h[0]]=(l=a[c])?wt.isArray(l)?[...l,h[1]]:[l,h[1]]:h[1]}o(a,e)}else t!=null&&s(e,t,r);return this}get(t,e){if(t=Em(t),t){const r=wt.findKey(this,t);if(r){const i=this[r];if(!e)return i;if(e===!0)return zz(i);if(wt.isFunction(e))return e.call(this,i,r);if(wt.isRegExp(e))return e.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=Em(t),t){const r=wt.findKey(this,t);return!!(r&&this[r]!==void 0&&(!e||_x(this,this[r],r,e)))}return!1}delete(t,e){const r=this;let i=!1;function s(o){if(o=Em(o),o){const a=wt.findKey(r,o);a&&(!e||_x(r,r[a],a,e))&&(delete r[a],i=!0)}}return wt.isArray(t)?t.forEach(s):s(t),i}clear(t){const e=Object.keys(this);let r=e.length,i=!1;for(;r--;){const s=e[r];(!t||_x(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const e=this,r={};return wt.forEach(this,(i,s)=>{const o=wt.findKey(r,s);if(o){e[o]=wy(i),delete e[s];return}const a=t?qz(s):String(s).trim();a!==s&&delete e[s],e[a]=wy(i),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return wt.forEach(this,(r,i)=>{r!=null&&r!==!1&&(e[i]=t&&wt.isArray(r)?r.join(", "):r)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const r=new this(t);return e.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[WC]=this[WC]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Em(o);r[a]||(Hz(i,o),r[a]=!0)}return wt.isArray(t)?t.forEach(s):s(t),this}};Ki.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);wt.reduceDescriptors(Ki.prototype,({value:n},t)=>{let e=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(r){this[e]=r}}});wt.freezeMethods(Ki);function Ex(n,t){const e=this||E2,r=t||e,i=Ki.from(r.headers);let s=r.data;return wt.forEach(n,function(a){s=a.call(e,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function cT(n){return!!(n&&n.__CANCEL__)}function jg(n,t,e){_e.call(this,n??"canceled",_e.ERR_CANCELED,t,e),this.name="CanceledError"}wt.inherits(jg,_e,{__CANCEL__:!0});function uT(n,t,e){const r=e.config.validateStatus;!e.status||!r||r(e.status)?n(e):t(new _e("Request failed with status code "+e.status,[_e.ERR_BAD_REQUEST,_e.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}function $z(n){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return t&&t[1]||""}function Vz(n,t){n=n||10;const e=new Array(n),r=new Array(n);let i=0,s=0,o;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),h=r[s];o||(o=c),e[i]=l,r[i]=c;let d=s,g=0;for(;d!==i;)g+=e[d++],d=d%n;if(i=(i+1)%n,i===s&&(s=(s+1)%n),c-o<t)return;const f=h&&c-h;return f?Math.round(g*1e3/f):void 0}}function Wz(n,t){let e=0,r=1e3/t,i,s;const o=(c,h=Date.now())=>{e=h,i=null,s&&(clearTimeout(s),s=null),n(...c)};return[(...c)=>{const h=Date.now(),d=h-e;d>=r?o(c,h):(i=c,s||(s=setTimeout(()=>{s=null,o(i)},r-d)))},()=>i&&o(i)]}const M5=(n,t,e=3)=>{let r=0;const i=Vz(50,250);return Wz(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,c=i(l),h=o<=a;r=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&h?(a-o)/c:void 0,event:s,lengthComputable:a!=null,[t?"download":"upload"]:!0};n(d)},e)},GC=(n,t)=>{const e=n!=null;return[r=>t[0]({lengthComputable:e,total:n,loaded:r}),t[1]]},XC=n=>(...t)=>wt.asap(()=>n(...t)),Gz=ui.hasStandardBrowserEnv?((n,t)=>e=>(e=new URL(e,ui.origin),n.protocol===e.protocol&&n.host===e.host&&(t||n.port===e.port)))(new URL(ui.origin),ui.navigator&&/(msie|trident)/i.test(ui.navigator.userAgent)):()=>!0,Xz=ui.hasStandardBrowserEnv?{write(n,t,e,r,i,s){const o=[n+"="+encodeURIComponent(t)];wt.isNumber(e)&&o.push("expires="+new Date(e).toGMTString()),wt.isString(r)&&o.push("path="+r),wt.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(n){const t=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Yz(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function Kz(n,t){return t?n.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):n}function hT(n,t,e){let r=!Yz(t);return n&&(r||e==!1)?Kz(n,t):t}const YC=n=>n instanceof Ki?{...n}:n;function Md(n,t){t=t||{};const e={};function r(c,h,d,g){return wt.isPlainObject(c)&&wt.isPlainObject(h)?wt.merge.call({caseless:g},c,h):wt.isPlainObject(h)?wt.merge({},h):wt.isArray(h)?h.slice():h}function i(c,h,d,g){if(wt.isUndefined(h)){if(!wt.isUndefined(c))return r(void 0,c,d,g)}else return r(c,h,d,g)}function s(c,h){if(!wt.isUndefined(h))return r(void 0,h)}function o(c,h){if(wt.isUndefined(h)){if(!wt.isUndefined(c))return r(void 0,c)}else return r(void 0,h)}function a(c,h,d){if(d in t)return r(c,h);if(d in n)return r(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,h,d)=>i(YC(c),YC(h),d,!0)};return wt.forEach(Object.keys({...n,...t}),function(h){const d=l[h]||i,g=d(n[h],t[h],h);wt.isUndefined(g)&&d!==a||(e[h]=g)}),e}const dT=n=>{const t=Md({},n);let{data:e,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=t;t.headers=o=Ki.from(o),t.url=oT(hT(t.baseURL,t.url,t.allowAbsoluteUrls),n.params,n.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(wt.isFormData(e)){if(ui.hasStandardBrowserEnv||ui.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...h]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...h].join("; "))}}if(ui.hasStandardBrowserEnv&&(r&&wt.isFunction(r)&&(r=r(t)),r||r!==!1&&Gz(t.url))){const c=i&&s&&Xz.read(s);c&&o.set(i,c)}return t},Qz=typeof XMLHttpRequest<"u",Jz=Qz&&function(n){return new Promise(function(e,r){const i=dT(n);let s=i.data;const o=Ki.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,h,d,g,f,w;function v(){f&&f(),w&&w(),i.cancelToken&&i.cancelToken.unsubscribe(h),i.signal&&i.signal.removeEventListener("abort",h)}let x=new XMLHttpRequest;x.open(i.method.toUpperCase(),i.url,!0),x.timeout=i.timeout;function y(){if(!x)return;const _=Ki.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),L={data:!a||a==="text"||a==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:_,config:n,request:x};uT(function(I){e(I),v()},function(I){r(I),v()},L),x=null}"onloadend"in x?x.onloadend=y:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(y)},x.onabort=function(){x&&(r(new _e("Request aborted",_e.ECONNABORTED,n,x)),x=null)},x.onerror=function(){r(new _e("Network Error",_e.ERR_NETWORK,n,x)),x=null},x.ontimeout=function(){let N=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const L=i.transitional||aT;i.timeoutErrorMessage&&(N=i.timeoutErrorMessage),r(new _e(N,L.clarifyTimeoutError?_e.ETIMEDOUT:_e.ECONNABORTED,n,x)),x=null},s===void 0&&o.setContentType(null),"setRequestHeader"in x&&wt.forEach(o.toJSON(),function(N,L){x.setRequestHeader(L,N)}),wt.isUndefined(i.withCredentials)||(x.withCredentials=!!i.withCredentials),a&&a!=="json"&&(x.responseType=i.responseType),c&&([g,w]=M5(c,!0),x.addEventListener("progress",g)),l&&x.upload&&([d,f]=M5(l),x.upload.addEventListener("progress",d),x.upload.addEventListener("loadend",f)),(i.cancelToken||i.signal)&&(h=_=>{x&&(r(!_||_.type?new jg(null,n,x):_),x.abort(),x=null)},i.cancelToken&&i.cancelToken.subscribe(h),i.signal&&(i.signal.aborted?h():i.signal.addEventListener("abort",h)));const b=$z(i.url);if(b&&ui.protocols.indexOf(b)===-1){r(new _e("Unsupported protocol "+b+":",_e.ERR_BAD_REQUEST,n));return}x.send(s||null)})},Zz=(n,t)=>{const{length:e}=n=n?n.filter(Boolean):[];if(t||e){let r=new AbortController,i;const s=function(c){if(!i){i=!0,a();const h=c instanceof Error?c:this.reason;r.abort(h instanceof _e?h:new jg(h instanceof Error?h.message:h))}};let o=t&&setTimeout(()=>{o=null,s(new _e(`timeout ${t} of ms exceeded`,_e.ETIMEDOUT))},t);const a=()=>{n&&(o&&clearTimeout(o),o=null,n.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),n=null)};n.forEach(c=>c.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>wt.asap(a),l}},tU=function*(n,t){let e=n.byteLength;if(e<t){yield n;return}let r=0,i;for(;r<e;)i=r+t,yield n.slice(r,i),r=i},eU=async function*(n,t){for await(const e of nU(n))yield*tU(e,t)},nU=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const t=n.getReader();try{for(;;){const{done:e,value:r}=await t.read();if(e)break;yield r}}finally{await t.cancel()}},KC=(n,t,e,r)=>{const i=eU(n,t);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:h}=await i.next();if(c){a(),l.close();return}let d=h.byteLength;if(e){let g=s+=d;e(g)}l.enqueue(new Uint8Array(h))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},Vw=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",fT=Vw&&typeof ReadableStream=="function",rU=Vw&&(typeof TextEncoder=="function"?(n=>t=>n.encode(t))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),pT=(n,...t)=>{try{return!!n(...t)}catch{return!1}},iU=fT&&pT(()=>{let n=!1;const t=new Request(ui.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!t}),QC=64*1024,eS=fT&&pT(()=>wt.isReadableStream(new Response("").body)),F5={stream:eS&&(n=>n.body)};Vw&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!F5[t]&&(F5[t]=wt.isFunction(n[t])?e=>e[t]():(e,r)=>{throw new _e(`Response type '${t}' is not supported`,_e.ERR_NOT_SUPPORT,r)})})})(new Response);const sU=async n=>{if(n==null)return 0;if(wt.isBlob(n))return n.size;if(wt.isSpecCompliantForm(n))return(await new Request(ui.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(wt.isArrayBufferView(n)||wt.isArrayBuffer(n))return n.byteLength;if(wt.isURLSearchParams(n)&&(n=n+""),wt.isString(n))return(await rU(n)).byteLength},oU=async(n,t)=>{const e=wt.toFiniteNumber(n.getContentLength());return e??sU(t)},aU=Vw&&(async n=>{let{url:t,method:e,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:h,withCredentials:d="same-origin",fetchOptions:g}=dT(n);c=c?(c+"").toLowerCase():"text";let f=Zz([i,s&&s.toAbortSignal()],o),w;const v=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let x;try{if(l&&iU&&e!=="get"&&e!=="head"&&(x=await oU(h,r))!==0){let L=new Request(t,{method:"POST",body:r,duplex:"half"}),O;if(wt.isFormData(r)&&(O=L.headers.get("content-type"))&&h.setContentType(O),L.body){const[I,D]=GC(x,M5(XC(l)));r=KC(L.body,QC,I,D)}}wt.isString(d)||(d=d?"include":"omit");const y="credentials"in Request.prototype;w=new Request(t,{...g,signal:f,method:e.toUpperCase(),headers:h.normalize().toJSON(),body:r,duplex:"half",credentials:y?d:void 0});let b=await fetch(w,g);const _=eS&&(c==="stream"||c==="response");if(eS&&(a||_&&v)){const L={};["status","statusText","headers"].forEach(V=>{L[V]=b[V]});const O=wt.toFiniteNumber(b.headers.get("content-length")),[I,D]=a&&GC(O,M5(XC(a),!0))||[];b=new Response(KC(b.body,QC,I,()=>{D&&D(),v&&v()}),L)}c=c||"text";let N=await F5[wt.findKey(F5,c)||"text"](b,n);return!_&&v&&v(),await new Promise((L,O)=>{uT(L,O,{data:N,headers:Ki.from(b.headers),status:b.status,statusText:b.statusText,config:n,request:w})})}catch(y){throw v&&v(),y&&y.name==="TypeError"&&/Load failed|fetch/i.test(y.message)?Object.assign(new _e("Network Error",_e.ERR_NETWORK,n,w),{cause:y.cause||y}):_e.from(y,y&&y.code,n,w)}}),nS={http:Az,xhr:Jz,fetch:aU};wt.forEach(nS,(n,t)=>{if(n){try{Object.defineProperty(n,"name",{value:t})}catch{}Object.defineProperty(n,"adapterName",{value:t})}});const JC=n=>`- ${n}`,lU=n=>wt.isFunction(n)||n===null||n===!1,gT={getAdapter:n=>{n=wt.isArray(n)?n:[n];const{length:t}=n;let e,r;const i={};for(let s=0;s<t;s++){e=n[s];let o;if(r=e,!lU(e)&&(r=nS[(o=String(e)).toLowerCase()],r===void 0))throw new _e(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?s.length>1?`since :
`+s.map(JC).join(`
`):" "+JC(s[0]):"as no adapter specified";throw new _e("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:nS};function Cx(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new jg(null,n)}function ZC(n){return Cx(n),n.headers=Ki.from(n.headers),n.data=Ex.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),gT.getAdapter(n.adapter||E2.adapter)(n).then(function(r){return Cx(n),r.data=Ex.call(n,n.transformResponse,r),r.headers=Ki.from(r.headers),r},function(r){return cT(r)||(Cx(n),r&&r.response&&(r.response.data=Ex.call(n,n.transformResponse,r.response),r.response.headers=Ki.from(r.response.headers))),Promise.reject(r)})}const mT="1.11.0",Ww={};["object","boolean","number","function","string","symbol"].forEach((n,t)=>{Ww[n]=function(r){return typeof r===n||"a"+(t<1?"n ":" ")+n}});const tN={};Ww.transitional=function(t,e,r){function i(s,o){return"[Axios v"+mT+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(t===!1)throw new _e(i(o," has been removed"+(e?" in "+e:"")),_e.ERR_DEPRECATED);return e&&!tN[o]&&(tN[o]=!0,console.warn(i(o," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(s,o,a):!0}};Ww.spelling=function(t){return(e,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function cU(n,t,e){if(typeof n!="object")throw new _e("options must be an object",_e.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const s=r[i],o=t[s];if(o){const a=n[s],l=a===void 0||o(a,s,n);if(l!==!0)throw new _e("option "+s+" must be "+l,_e.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new _e("Unknown option "+s,_e.ERR_BAD_OPTION)}}const by={assertOptions:cU,validators:Ww},oa=by.validators;let Cd=class{constructor(t){this.defaults=t||{},this.interceptors={request:new VC,response:new VC}}async request(t,e){try{return await this._request(t,e)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=Md(this.defaults,e);const{transitional:r,paramsSerializer:i,headers:s}=e;r!==void 0&&by.assertOptions(r,{silentJSONParsing:oa.transitional(oa.boolean),forcedJSONParsing:oa.transitional(oa.boolean),clarifyTimeoutError:oa.transitional(oa.boolean)},!1),i!=null&&(wt.isFunction(i)?e.paramsSerializer={serialize:i}:by.assertOptions(i,{encode:oa.function,serialize:oa.function},!0)),e.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?e.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:e.allowAbsoluteUrls=!0),by.assertOptions(e,{baseUrl:oa.spelling("baseURL"),withXsrfToken:oa.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let o=s&&wt.merge(s.common,s[e.method]);s&&wt.forEach(["delete","get","head","post","put","patch","common"],w=>{delete s[w]}),e.headers=Ki.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(e)===!1||(l=l&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const c=[];this.interceptors.response.forEach(function(v){c.push(v.fulfilled,v.rejected)});let h,d=0,g;if(!l){const w=[ZC.bind(this),void 0];for(w.unshift(...a),w.push(...c),g=w.length,h=Promise.resolve(e);d<g;)h=h.then(w[d++],w[d++]);return h}g=a.length;let f=e;for(d=0;d<g;){const w=a[d++],v=a[d++];try{f=w(f)}catch(x){v.call(this,x);break}}try{h=ZC.call(this,f)}catch(w){return Promise.reject(w)}for(d=0,g=c.length;d<g;)h=h.then(c[d++],c[d++]);return h}getUri(t){t=Md(this.defaults,t);const e=hT(t.baseURL,t.url,t.allowAbsoluteUrls);return oT(e,t.params,t.paramsSerializer)}};wt.forEach(["delete","get","head","options"],function(t){Cd.prototype[t]=function(e,r){return this.request(Md(r||{},{method:t,url:e,data:(r||{}).data}))}});wt.forEach(["post","put","patch"],function(t){function e(r){return function(s,o,a){return this.request(Md(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Cd.prototype[t]=e(),Cd.prototype[t+"Form"]=e(!0)});let uU=class vT{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(s){e=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},t(function(s,o,a){r.reason||(r.reason=new jg(s,o,a),e(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);e!==-1&&this._listeners.splice(e,1)}toAbortSignal(){const t=new AbortController,e=r=>{t.abort(r)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;return{token:new vT(function(i){t=i}),cancel:t}}};function hU(n){return function(e){return n.apply(null,e)}}function dU(n){return wt.isObject(n)&&n.isAxiosError===!0}const rS={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(rS).forEach(([n,t])=>{rS[t]=n});function yT(n){const t=new Cd(n),e=X6(Cd.prototype.request,t);return wt.extend(e,Cd.prototype,t,{allOwnKeys:!0}),wt.extend(e,t,null,{allOwnKeys:!0}),e.create=function(i){return yT(Md(n,i))},e}const Pn=yT(E2);Pn.Axios=Cd;Pn.CanceledError=jg;Pn.CancelToken=uU;Pn.isCancel=cT;Pn.VERSION=mT;Pn.toFormData=$w;Pn.AxiosError=_e;Pn.Cancel=Pn.CanceledError;Pn.all=function(t){return Promise.all(t)};Pn.spread=hU;Pn.isAxiosError=dU;Pn.mergeConfig=Md;Pn.AxiosHeaders=Ki;Pn.formToJSON=n=>lT(wt.isHTMLForm(n)?new FormData(n):n);Pn.getAdapter=gT.getAdapter;Pn.HttpStatusCode=rS;Pn.default=Pn;const{Axios:k$,AxiosError:T$,CanceledError:R$,isCancel:I$,CancelToken:M$,VERSION:F$,all:O$,Cancel:D$,isAxiosError:j$,spread:B$,toFormData:z$,AxiosHeaders:U$,HttpStatusCode:q$,formToJSON:H$,getAdapter:$$,mergeConfig:V$}=Pn,fU="modulepreload",pU=function(n){return"/"+n},eN={},iS=function(t,e,r){let i=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(e.map(l=>{if(l=pU(l),l in eN)return;eN[l]=!0;const c=l.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":fU,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((g,f)=>{d.addEventListener("load",g),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})};function Je(n){"@babel/helpers - typeof";return Je=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Je(n)}var hi=Uint8Array,Cs=Uint16Array,Q_=Int32Array,Gw=new hi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Xw=new hi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),sS=new hi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),wT=function(n,t){for(var e=new Cs(31),r=0;r<31;++r)e[r]=t+=1<<n[r-1];for(var i=new Q_(e[30]),r=1;r<30;++r)for(var s=e[r];s<e[r+1];++s)i[s]=s-e[r]<<5|r;return{b:e,r:i}},bT=wT(Gw,2),xT=bT.b,oS=bT.r;xT[28]=258,oS[258]=28;var AT=wT(Xw,0),gU=AT.b,nN=AT.r,aS=new Cs(32768);for(var vn=0;vn<32768;++vn){var vc=(vn&43690)>>1|(vn&21845)<<1;vc=(vc&52428)>>2|(vc&13107)<<2,vc=(vc&61680)>>4|(vc&3855)<<4,aS[vn]=((vc&65280)>>8|(vc&255)<<8)>>1}var ja=function(n,t,e){for(var r=n.length,i=0,s=new Cs(t);i<r;++i)n[i]&&++s[n[i]-1];var o=new Cs(t);for(i=1;i<t;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(e){a=new Cs(1<<t);var l=15-t;for(i=0;i<r;++i)if(n[i])for(var c=i<<4|n[i],h=t-n[i],d=o[n[i]-1]++<<h,g=d|(1<<h)-1;d<=g;++d)a[aS[d]>>l]=c}else for(a=new Cs(r),i=0;i<r;++i)n[i]&&(a[i]=aS[o[n[i]-1]++]>>15-n[i]);return a},Ru=new hi(288);for(var vn=0;vn<144;++vn)Ru[vn]=8;for(var vn=144;vn<256;++vn)Ru[vn]=9;for(var vn=256;vn<280;++vn)Ru[vn]=7;for(var vn=280;vn<288;++vn)Ru[vn]=8;var F0=new hi(32);for(var vn=0;vn<32;++vn)F0[vn]=5;var mU=ja(Ru,9,0),vU=ja(Ru,9,1),yU=ja(F0,5,0),wU=ja(F0,5,1),Nx=function(n){for(var t=n[0],e=1;e<n.length;++e)n[e]>t&&(t=n[e]);return t},vo=function(n,t,e){var r=t/8|0;return(n[r]|n[r+1]<<8)>>(t&7)&e},Lx=function(n,t){var e=t/8|0;return(n[e]|n[e+1]<<8|n[e+2]<<16)>>(t&7)},J_=function(n){return(n+7)/8|0},ST=function(n,t,e){return(e==null||e>n.length)&&(e=n.length),new hi(n.subarray(t,e))},bU=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ao=function(n,t,e){var r=new Error(t||bU[n]);if(r.code=n,Error.captureStackTrace&&Error.captureStackTrace(r,Ao),!e)throw r;return r},xU=function(n,t,e,r){var i=n.length,s=0;if(!i||t.f&&!t.l)return e||new hi(0);var o=!e,a=o||t.i!=2,l=t.i;o&&(e=new hi(i*3));var c=function(Lt){var Ft=e.length;if(Lt>Ft){var Mt=new hi(Math.max(Ft*2,Lt));Mt.set(e),e=Mt}},h=t.f||0,d=t.p||0,g=t.b||0,f=t.l,w=t.d,v=t.m,x=t.n,y=i*8;do{if(!f){h=vo(n,d,1);var b=vo(n,d+1,3);if(d+=3,b)if(b==1)f=vU,w=wU,v=9,x=5;else if(b==2){var O=vo(n,d,31)+257,I=vo(n,d+10,15)+4,D=O+vo(n,d+5,31)+1;d+=14;for(var V=new hi(D),Q=new hi(19),P=0;P<I;++P)Q[sS[P]]=vo(n,d+P*3,7);d+=I*3;for(var j=Nx(Q),Y=(1<<j)-1,H=ja(Q,j,1),P=0;P<D;){var dt=H[vo(n,d,Y)];d+=dt&15;var _=dt>>4;if(_<16)V[P++]=_;else{var J=0,rt=0;for(_==16?(rt=3+vo(n,d,3),d+=2,J=V[P-1]):_==17?(rt=3+vo(n,d,7),d+=3):_==18&&(rt=11+vo(n,d,127),d+=7);rt--;)V[P++]=J}}var W=V.subarray(0,O),tt=V.subarray(O);v=Nx(W),x=Nx(tt),f=ja(W,v,1),w=ja(tt,x,1)}else Ao(1);else{var _=J_(d)+4,N=n[_-4]|n[_-3]<<8,L=_+N;if(L>i){l&&Ao(0);break}a&&c(g+N),e.set(n.subarray(_,L),g),t.b=g+=N,t.p=d=L*8,t.f=h;continue}if(d>y){l&&Ao(0);break}}a&&c(g+131072);for(var ct=(1<<v)-1,St=(1<<x)-1,T=d;;T=d){var J=f[Lx(n,d)&ct],$=J>>4;if(d+=J&15,d>y){l&&Ao(0);break}if(J||Ao(2),$<256)e[g++]=$;else if($==256){T=d,f=null;break}else{var X=$-254;if($>264){var P=$-257,nt=Gw[P];X=vo(n,d,(1<<nt)-1)+xT[P],d+=nt}var ot=w[Lx(n,d)&St],at=ot>>4;ot||Ao(3),d+=ot&15;var tt=gU[at];if(at>3){var nt=Xw[at];tt+=Lx(n,d)&(1<<nt)-1,d+=nt}if(d>y){l&&Ao(0);break}a&&c(g+131072);var vt=g+X;if(g<tt){var yt=s-tt,Tt=Math.min(tt,vt);for(yt+g<0&&Ao(3);g<Tt;++g)e[g]=r[yt+g]}for(;g<vt;++g)e[g]=e[g-tt]}}t.l=f,t.p=T,t.b=g,t.f=h,f&&(h=1,t.m=v,t.d=w,t.n=x)}while(!h);return g!=e.length&&o?ST(e,0,g):e.subarray(0,g)},el=function(n,t,e){e<<=t&7;var r=t/8|0;n[r]|=e,n[r+1]|=e>>8},Cm=function(n,t,e){e<<=t&7;var r=t/8|0;n[r]|=e,n[r+1]|=e>>8,n[r+2]|=e>>16},Px=function(n,t){for(var e=[],r=0;r<n.length;++r)n[r]&&e.push({s:r,f:n[r]});var i=e.length,s=e.slice();if(!i)return{t:ET,l:0};if(i==1){var o=new hi(e[0].s+1);return o[e[0].s]=1,{t:o,l:1}}e.sort(function(L,O){return L.f-O.f}),e.push({s:-1,f:25001});var a=e[0],l=e[1],c=0,h=1,d=2;for(e[0]={s:-1,f:a.f+l.f,l:a,r:l};h!=i-1;)a=e[e[c].f<e[d].f?c++:d++],l=e[c!=h&&e[c].f<e[d].f?c++:d++],e[h++]={s:-1,f:a.f+l.f,l:a,r:l};for(var g=s[0].s,r=1;r<i;++r)s[r].s>g&&(g=s[r].s);var f=new Cs(g+1),w=lS(e[h-1],f,0);if(w>t){var r=0,v=0,x=w-t,y=1<<x;for(s.sort(function(O,I){return f[I.s]-f[O.s]||O.f-I.f});r<i;++r){var b=s[r].s;if(f[b]>t)v+=y-(1<<w-f[b]),f[b]=t;else break}for(v>>=x;v>0;){var _=s[r].s;f[_]<t?v-=1<<t-f[_]++-1:++r}for(;r>=0&&v;--r){var N=s[r].s;f[N]==t&&(--f[N],++v)}w=t}return{t:new hi(f),l:w}},lS=function(n,t,e){return n.s==-1?Math.max(lS(n.l,t,e+1),lS(n.r,t,e+1)):t[n.s]=e},rN=function(n){for(var t=n.length;t&&!n[--t];);for(var e=new Cs(++t),r=0,i=n[0],s=1,o=function(l){e[r++]=l},a=1;a<=t;++a)if(n[a]==i&&a!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=n[a]}return{c:e.subarray(0,r),n:t}},Nm=function(n,t){for(var e=0,r=0;r<t.length;++r)e+=n[r]*t[r];return e},_T=function(n,t,e){var r=e.length,i=J_(t+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var s=0;s<r;++s)n[i+s+4]=e[s];return(i+4+r)*8},iN=function(n,t,e,r,i,s,o,a,l,c,h){el(t,h++,e),++i[256];for(var d=Px(i,15),g=d.t,f=d.l,w=Px(s,15),v=w.t,x=w.l,y=rN(g),b=y.c,_=y.n,N=rN(v),L=N.c,O=N.n,I=new Cs(19),D=0;D<b.length;++D)++I[b[D]&31];for(var D=0;D<L.length;++D)++I[L[D]&31];for(var V=Px(I,7),Q=V.t,P=V.l,j=19;j>4&&!Q[sS[j-1]];--j);var Y=c+5<<3,H=Nm(i,Ru)+Nm(s,F0)+o,dt=Nm(i,g)+Nm(s,v)+o+14+3*j+Nm(I,Q)+2*I[16]+3*I[17]+7*I[18];if(l>=0&&Y<=H&&Y<=dt)return _T(t,h,n.subarray(l,l+c));var J,rt,W,tt;if(el(t,h,1+(dt<H)),h+=2,dt<H){J=ja(g,f,0),rt=g,W=ja(v,x,0),tt=v;var ct=ja(Q,P,0);el(t,h,_-257),el(t,h+5,O-1),el(t,h+10,j-4),h+=14;for(var D=0;D<j;++D)el(t,h+3*D,Q[sS[D]]);h+=3*j;for(var St=[b,L],T=0;T<2;++T)for(var $=St[T],D=0;D<$.length;++D){var X=$[D]&31;el(t,h,ct[X]),h+=Q[X],X>15&&(el(t,h,$[D]>>5&127),h+=$[D]>>12)}}else J=mU,rt=Ru,W=yU,tt=F0;for(var D=0;D<a;++D){var nt=r[D];if(nt>255){var X=nt>>18&31;Cm(t,h,J[X+257]),h+=rt[X+257],X>7&&(el(t,h,nt>>23&31),h+=Gw[X]);var ot=nt&31;Cm(t,h,W[ot]),h+=tt[ot],ot>3&&(Cm(t,h,nt>>5&8191),h+=Xw[ot])}else Cm(t,h,J[nt]),h+=rt[nt]}return Cm(t,h,J[256]),h+rt[256]},AU=new Q_([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ET=new hi(0),SU=function(n,t,e,r,i,s){var o=s.z||n.length,a=new hi(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),c=s.l,h=(s.r||0)&7;if(t){h&&(l[0]=s.r>>3);for(var d=AU[t-1],g=d>>13,f=d&8191,w=(1<<e)-1,v=s.p||new Cs(32768),x=s.h||new Cs(w+1),y=Math.ceil(e/3),b=2*y,_=function(ne){return(n[ne]^n[ne+1]<<y^n[ne+2]<<b)&w},N=new Q_(25e3),L=new Cs(288),O=new Cs(32),I=0,D=0,V=s.i||0,Q=0,P=s.w||0,j=0;V+2<o;++V){var Y=_(V),H=V&32767,dt=x[Y];if(v[H]=dt,x[Y]=H,P<=V){var J=o-V;if((I>7e3||Q>24576)&&(J>423||!c)){h=iN(n,l,0,N,L,O,D,Q,j,V-j,h),Q=I=D=0,j=V;for(var rt=0;rt<286;++rt)L[rt]=0;for(var rt=0;rt<30;++rt)O[rt]=0}var W=2,tt=0,ct=f,St=H-dt&32767;if(J>2&&Y==_(V-St))for(var T=Math.min(g,J)-1,$=Math.min(32767,V),X=Math.min(258,J);St<=$&&--ct&&H!=dt;){if(n[V+W]==n[V+W-St]){for(var nt=0;nt<X&&n[V+nt]==n[V+nt-St];++nt);if(nt>W){if(W=nt,tt=St,nt>T)break;for(var ot=Math.min(St,nt-2),at=0,rt=0;rt<ot;++rt){var vt=V-St+rt&32767,yt=v[vt],Tt=vt-yt&32767;Tt>at&&(at=Tt,dt=vt)}}}H=dt,dt=v[H],St+=H-dt&32767}if(tt){N[Q++]=268435456|oS[W]<<18|nN[tt];var Lt=oS[W]&31,Ft=nN[tt]&31;D+=Gw[Lt]+Xw[Ft],++L[257+Lt],++O[Ft],P=V+W,++I}else N[Q++]=n[V],++L[n[V]]}}for(V=Math.max(V,P);V<o;++V)N[Q++]=n[V],++L[n[V]];h=iN(n,l,c,N,L,O,D,Q,j,V-j,h),c||(s.r=h&7|l[h/8|0]<<3,h-=7,s.h=x,s.p=v,s.i=V,s.w=P)}else{for(var V=s.w||0;V<o+c;V+=65535){var Mt=V+65535;Mt>=o&&(l[h/8|0]=c,Mt=o),h=_T(l,h+1,n.subarray(V,Mt))}s.i=o}return ST(a,0,r+J_(h)+i)},CT=function(){var n=1,t=0;return{p:function(e){for(var r=n,i=t,s=e.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=e[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,t=i},d:function(){return n%=65521,t%=65521,(n&255)<<24|(n&65280)<<8|(t&255)<<8|t>>8}}},_U=function(n,t,e,r,i){if(!i&&(i={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new hi(s.length+n.length);o.set(s),o.set(n,s.length),n=o,i.w=s.length}return SU(n,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+t.mem,e,r,i)},NT=function(n,t,e){for(;e;++t)n[t]=e,e>>>=8},EU=function(n,t){var e=t.level,r=e==0?0:e<6?1:e==9?3:2;if(n[0]=120,n[1]=r<<6|(t.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,t.dictionary){var i=CT();i.p(t.dictionary),NT(n,2,i.d())}},CU=function(n,t){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&Ao(6,"invalid zlib data"),(n[1]>>5&1)==1&&Ao(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function cS(n,t){t||(t={});var e=CT();e.p(n);var r=_U(n,t,t.dictionary?6:2,4);return EU(r,t),NT(r,r.length-4,e.d()),r}function NU(n,t){return xU(n.subarray(CU(n),-4),{i:2},t,t)}var LU=typeof TextDecoder<"u"&&new TextDecoder,PU=0;try{LU.decode(ET,{stream:!0}),PU=1}catch{}var ue=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function kx(){ue.console&&typeof ue.console.log=="function"&&ue.console.log.apply(ue.console,arguments)}var an={log:kx,warn:function(n){ue.console&&(typeof ue.console.warn=="function"?ue.console.warn.apply(ue.console,arguments):kx.call(null,arguments))},error:function(n){ue.console&&(typeof ue.console.error=="function"?ue.console.error.apply(ue.console,arguments):kx(n))}};function Tx(n,t,e){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){eh(r.response,t,e)},r.onerror=function(){an.error("could not download file")},r.send()}function sN(n){var t=new XMLHttpRequest;t.open("HEAD",n,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Vv(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(t)}}var h0,uS,eh=ue.saveAs||((typeof window>"u"?"undefined":Je(window))!=="object"||window!==ue?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,t,e){var r=ue.URL||ue.webkitURL,i=document.createElement("a");t=t||n.name||"download",i.download=t,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?sN(i.href)?Tx(n,t,e):Vv(i,i.target="_blank"):Vv(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Vv(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,t,e){if(t=t||n.name||"download",typeof n=="string")if(sN(n))Tx(n,t,e);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){Vv(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Je(s)!=="object"&&(an.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(n,e),t)}:function(n,t,e,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return Tx(n,t,e);var i=n.type==="application/octet-stream",s=/constructor/i.test(ue.HTMLElement)||ue.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":Je(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var h=a.result;h=o?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=h:location=h,r=null},a.readAsDataURL(n)}else{var l=ue.URL||ue.webkitURL,c=l.createObjectURL(n);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function LT(n){var t;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<e.length;r++){var i=e[r].re,s=e[r].process,o=i.exec(n);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Rx(n,t){var e=n[0],r=n[1],i=n[2],s=n[3];e=Jr(e,r,i,s,t[0],7,-680876936),s=Jr(s,e,r,i,t[1],12,-389564586),i=Jr(i,s,e,r,t[2],17,606105819),r=Jr(r,i,s,e,t[3],22,-1044525330),e=Jr(e,r,i,s,t[4],7,-176418897),s=Jr(s,e,r,i,t[5],12,1200080426),i=Jr(i,s,e,r,t[6],17,-1473231341),r=Jr(r,i,s,e,t[7],22,-45705983),e=Jr(e,r,i,s,t[8],7,1770035416),s=Jr(s,e,r,i,t[9],12,-1958414417),i=Jr(i,s,e,r,t[10],17,-42063),r=Jr(r,i,s,e,t[11],22,-1990404162),e=Jr(e,r,i,s,t[12],7,1804603682),s=Jr(s,e,r,i,t[13],12,-40341101),i=Jr(i,s,e,r,t[14],17,-1502002290),e=Zr(e,r=Jr(r,i,s,e,t[15],22,1236535329),i,s,t[1],5,-165796510),s=Zr(s,e,r,i,t[6],9,-1069501632),i=Zr(i,s,e,r,t[11],14,643717713),r=Zr(r,i,s,e,t[0],20,-373897302),e=Zr(e,r,i,s,t[5],5,-701558691),s=Zr(s,e,r,i,t[10],9,38016083),i=Zr(i,s,e,r,t[15],14,-660478335),r=Zr(r,i,s,e,t[4],20,-405537848),e=Zr(e,r,i,s,t[9],5,568446438),s=Zr(s,e,r,i,t[14],9,-1019803690),i=Zr(i,s,e,r,t[3],14,-187363961),r=Zr(r,i,s,e,t[8],20,1163531501),e=Zr(e,r,i,s,t[13],5,-1444681467),s=Zr(s,e,r,i,t[2],9,-51403784),i=Zr(i,s,e,r,t[7],14,1735328473),e=ti(e,r=Zr(r,i,s,e,t[12],20,-1926607734),i,s,t[5],4,-378558),s=ti(s,e,r,i,t[8],11,-2022574463),i=ti(i,s,e,r,t[11],16,1839030562),r=ti(r,i,s,e,t[14],23,-35309556),e=ti(e,r,i,s,t[1],4,-1530992060),s=ti(s,e,r,i,t[4],11,1272893353),i=ti(i,s,e,r,t[7],16,-155497632),r=ti(r,i,s,e,t[10],23,-1094730640),e=ti(e,r,i,s,t[13],4,681279174),s=ti(s,e,r,i,t[0],11,-358537222),i=ti(i,s,e,r,t[3],16,-722521979),r=ti(r,i,s,e,t[6],23,76029189),e=ti(e,r,i,s,t[9],4,-640364487),s=ti(s,e,r,i,t[12],11,-421815835),i=ti(i,s,e,r,t[15],16,530742520),e=ei(e,r=ti(r,i,s,e,t[2],23,-995338651),i,s,t[0],6,-198630844),s=ei(s,e,r,i,t[7],10,1126891415),i=ei(i,s,e,r,t[14],15,-1416354905),r=ei(r,i,s,e,t[5],21,-57434055),e=ei(e,r,i,s,t[12],6,1700485571),s=ei(s,e,r,i,t[3],10,-1894986606),i=ei(i,s,e,r,t[10],15,-1051523),r=ei(r,i,s,e,t[1],21,-2054922799),e=ei(e,r,i,s,t[8],6,1873313359),s=ei(s,e,r,i,t[15],10,-30611744),i=ei(i,s,e,r,t[6],15,-1560198380),r=ei(r,i,s,e,t[13],21,1309151649),e=ei(e,r,i,s,t[4],6,-145523070),s=ei(s,e,r,i,t[11],10,-1120210379),i=ei(i,s,e,r,t[2],15,718787259),r=ei(r,i,s,e,t[9],21,-343485551),n[0]=vu(e,n[0]),n[1]=vu(r,n[1]),n[2]=vu(i,n[2]),n[3]=vu(s,n[3])}function Yw(n,t,e,r,i,s){return t=vu(vu(t,n),vu(r,s)),vu(t<<i|t>>>32-i,e)}function Jr(n,t,e,r,i,s,o){return Yw(t&e|~t&r,n,t,i,s,o)}function Zr(n,t,e,r,i,s,o){return Yw(t&r|e&~r,n,t,i,s,o)}function ti(n,t,e,r,i,s,o){return Yw(t^e^r,n,t,i,s,o)}function ei(n,t,e,r,i,s,o){return Yw(e^(t|~r),n,t,i,s,o)}function PT(n){var t,e=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=n.length;t+=64)Rx(r,kU(n.substring(t-64,t)));n=n.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<n.length;t++)i[t>>2]|=n.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(Rx(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*e,Rx(r,i),r}function kU(n){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=n.charCodeAt(t)+(n.charCodeAt(t+1)<<8)+(n.charCodeAt(t+2)<<16)+(n.charCodeAt(t+3)<<24);return e}h0=ue.atob.bind(ue),uS=ue.btoa.bind(ue);var oN="0123456789abcdef".split("");function TU(n){for(var t="",e=0;e<4;e++)t+=oN[n>>8*e+4&15]+oN[n>>8*e&15];return t}function RU(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function hS(n){return PT(n).map(RU).join("")}var IU=function(n){for(var t=0;t<n.length;t++)n[t]=TU(n[t]);return n.join("")}(PT("hello"))!="5d41402abc4b2a76b9719d911017c592";function vu(n,t){if(IU){var e=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(e>>16)<<16|65535&e}return n+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function dS(n,t){var e,r,i,s;if(n!==e){for(var o=(i=n,s=1+(256/n.length>>0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var h=a[l];c=(c+h+o.charCodeAt(l))%256,a[l]=a[c],a[c]=h}e=n,r=a}else a=r;var d=t.length,g=0,f=0,w="";for(l=0;l<d;l++)f=(f+(h=a[g=(g+1)%256]))%256,a[g]=a[f],a[f]=h,o=a[(a[g]+a[f])%256],w+=String.fromCharCode(t.charCodeAt(l)^o);return w}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var aN={print:4,modify:8,copy:16,"annot-forms":32};function Af(n,t,e,r){this.v=1,this.r=2;var i=192;n.forEach(function(a){if(aN.perm!==void 0)throw new Error("Invalid permission: "+a);i+=aN[a]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(t+this.padding).substr(0,32),o=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=hS(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=dS(this.encryptionKey,this.padding)}function Sf(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var t="",e=n.length,r=0;r<e;r++){var i=n.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?t+="#"+("0"+i.toString(16)).slice(-2):t+=n[r]}return t}function lN(n){if(Je(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,r,i){if(i=i||!1,typeof e!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var s=Math.random().toString(35);return t[e][s]=[r,!!i],s},this.unsubscribe=function(e){for(var r in t)if(t[r][e])return delete t[r][e],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in t[e]){var o=t[e][s];try{o[0].apply(n,r)}catch(a){ue.console&&an.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function O5(n){if(!(this instanceof O5))return new O5(n);var t="opacity,stroke-opacity".split(",");for(var e in n)n.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=n[e]);this.id="",this.objectNumber=-1}function kT(n,t){this.gState=n,this.matrix=t,this.id="",this.objectNumber=-1}function sh(n,t,e,r,i){if(!(this instanceof sh))return new sh(n,t,e,r,i);this.type=n==="axial"?2:3,this.coords=t,this.colors=e,kT.call(this,r,i)}function Hf(n,t,e,r,i){if(!(this instanceof Hf))return new Hf(n,t,e,r,i);this.boundingBox=n,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,kT.call(this,r,i)}function le(n){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,c="S",h=null;Je(n=n||{})==="object"&&(e=n.orientation,r=n.unit||r,i=n.format||i,s=n.compress||n.compressPdf||s,(h=n.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),a=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(t=n.precision),n.floatPrecision!==void 0&&(l=n.floatPrecision),c=n.defaultPathOperation||"S"),o=n.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",e=(""+(e||"P")).toLowerCase();var d=n.putOnlyUsedFonts||!1,g={},f={internal:{},__private__:{}};f.__private__.PubSub=lN;var w="1.3",v=f.__private__.getPdfVersion=function(){return w};f.__private__.setPdfVersion=function(A){w=A};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return x};var y=f.__private__.getPageFormat=function(A){return x[A]};i=i||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},_=b.COMPAT;function N(){this.saveGraphicsState(),et(new te(Ht,0,0,-Ht,0,nc()*Ht).toString()+" cm"),this.setFontSize(this.getFontSize()/Ht),c="n",_=b.ADVANCED}function L(){this.restoreGraphicsState(),c="S",_=b.COMPAT}var O=f.__private__.combineFontStyleAndFontWeight=function(A,M){if(A=="bold"&&M=="normal"||A=="bold"&&M==400||A=="normal"&&M=="italic"||A=="bold"&&M=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return M&&(A=M==400||M==="normal"?A==="italic"?"italic":"normal":M!=700&&M!=="bold"||A!=="normal"?(M==700?"bold":M)+""+A:"bold"),A};f.advancedAPI=function(A){var M=_===b.COMPAT;return M&&N.call(this),typeof A!="function"||(A(this),M&&L.call(this)),this},f.compatAPI=function(A){var M=_===b.ADVANCED;return M&&L.call(this),typeof A!="function"||(A(this),M&&N.call(this)),this},f.isAdvancedAPI=function(){return _===b.ADVANCED};var I,D=function(A){if(_!==b.ADVANCED)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},V=f.roundToPrecision=f.__private__.roundToPrecision=function(A,M){var K=t||M;if(isNaN(A)||isNaN(K))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(K).replace(/0+$/,"")};I=f.hpf=f.__private__.hpf=typeof l=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return V(A,l)}:l==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return V(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return V(A,16)};var Q=f.f2=f.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return V(A,2)},P=f.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return V(A,3)},j=f.scale=f.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return _===b.COMPAT?A*Ht:_===b.ADVANCED?A:void 0},Y=function(A){return _===b.COMPAT?nc()-A:_===b.ADVANCED?A:void 0},H=function(A){return j(Y(A))};f.__private__.setPrecision=f.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(t=parseInt(A,10))};var dt,J="00000000000000000000000000000000",rt=f.__private__.getFileId=function(){return J},W=f.__private__.setFileId=function(A){return J=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():J.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(Xr=new Af(h.userPermissions,h.userPassword,h.ownerPassword,J)),J};f.setFileId=function(A){return W(A),this},f.getFileId=function(){return rt()};var tt=f.__private__.convertDateToPDFDate=function(A){var M=A.getTimezoneOffset(),K=M<0?"+":"-",st=Math.floor(Math.abs(M/60)),pt=Math.abs(M%60),At=[K,X(st),"'",X(pt),"'"].join("");return["D:",A.getFullYear(),X(A.getMonth()+1),X(A.getDate()),X(A.getHours()),X(A.getMinutes()),X(A.getSeconds()),At].join("")},ct=f.__private__.convertPDFDateToDate=function(A){var M=parseInt(A.substr(2,4),10),K=parseInt(A.substr(6,2),10)-1,st=parseInt(A.substr(8,2),10),pt=parseInt(A.substr(10,2),10),At=parseInt(A.substr(12,2),10),Pt=parseInt(A.substr(14,2),10);return new Date(M,K,st,pt,At,Pt,0)},St=f.__private__.setCreationDate=function(A){var M;if(A===void 0&&(A=new Date),A instanceof Date)M=tt(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");M=A}return dt=M},T=f.__private__.getCreationDate=function(A){var M=dt;return A==="jsDate"&&(M=ct(dt)),M};f.setCreationDate=function(A){return St(A),this},f.getCreationDate=function(A){return T(A)};var $,X=f.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},nt=f.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},ot=0,at=[],vt=[],yt=0,Tt=[],Lt=[],Ft=!1,Mt=vt,ne=function(){ot=0,yt=0,vt=[],at=[],Tt=[],$a=Kn(),oo=Kn()};f.__private__.setCustomOutputDestination=function(A){Ft=!0,Mt=A};var xt=function(A){Ft||(Mt=A)};f.__private__.resetCustomOutputDestination=function(){Ft=!1,Mt=vt};var et=f.__private__.out=function(A){return A=A.toString(),yt+=A.length+1,Mt.push(A),Mt},he=f.__private__.write=function(A){return et(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},Yt=f.__private__.getArrayBuffer=function(A){for(var M=A.length,K=new ArrayBuffer(M),st=new Uint8Array(K);M--;)st[M]=A.charCodeAt(M);return K},kt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return kt};var Dt=n.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(A){return Dt=_===b.ADVANCED?A/Ht:A,this};var Bt,zt=f.__private__.getFontSize=f.getFontSize=function(){return _===b.COMPAT?Dt:Dt*Ht},Zt=n.R2L||!1;f.__private__.setR2L=f.setR2L=function(A){return Zt=A,this},f.__private__.getR2L=f.getR2L=function(){return Zt};var de,we=f.__private__.setZoomMode=function(A){var M=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))Bt=A;else if(isNaN(A)){if(M.indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');Bt=A}else Bt=parseInt(A,10)};f.__private__.getZoomMode=function(){return Bt};var oe,Ne=f.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');de=A};f.__private__.getPageMode=function(){return de};var We=f.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');oe=A};f.__private__.getLayoutMode=function(){return oe},f.__private__.setDisplayMode=f.setDisplayMode=function(A,M,K){return we(A),We(M),Ne(K),this};var ce={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(A){if(Object.keys(ce).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ce[A]},f.__private__.getDocumentProperties=function(){return ce},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(A){for(var M in ce)ce.hasOwnProperty(M)&&A[M]&&(ce[M]=A[M]);return this},f.__private__.setDocumentProperty=function(A,M){if(Object.keys(ce).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ce[A]=M};var xe,Ht,or,Te,wr,Ge={},qe={},Is=[],Ue={},Jo={},fn={},Zi={},ts=null,He=0,fe=[],$t=new lN(f),Re=n.hotfixes||[],Ae={},Tn={},Rn=[],te=function A(M,K,st,pt,At,Pt){if(!(this instanceof A))return new A(M,K,st,pt,At,Pt);isNaN(M)&&(M=1),isNaN(K)&&(K=0),isNaN(st)&&(st=0),isNaN(pt)&&(pt=1),isNaN(At)&&(At=0),isNaN(Pt)&&(Pt=0),this._matrix=[M,K,st,pt,At,Pt]};Object.defineProperty(te.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(te.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(te.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(te.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(te.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(te.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(te.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(te.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(te.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(te.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(te.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(te.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(te.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(te.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(te.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(te.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),te.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(I).join(A)},te.prototype.multiply=function(A){var M=A.sx*this.sx+A.shy*this.shx,K=A.sx*this.shy+A.shy*this.sy,st=A.shx*this.sx+A.sy*this.shx,pt=A.shx*this.shy+A.sy*this.sy,At=A.tx*this.sx+A.ty*this.shx+this.tx,Pt=A.tx*this.shy+A.ty*this.sy+this.ty;return new te(M,K,st,pt,At,Pt)},te.prototype.decompose=function(){var A=this.sx,M=this.shy,K=this.shx,st=this.sy,pt=this.tx,At=this.ty,Pt=Math.sqrt(A*A+M*M),Vt=(A/=Pt)*K+(M/=Pt)*st;K-=A*Vt,st-=M*Vt;var ie=Math.sqrt(K*K+st*st);return Vt/=ie,A*(st/=ie)<M*(K/=ie)&&(A=-A,M=-M,Vt=-Vt,Pt=-Pt),{scale:new te(Pt,0,0,ie,0,0),translate:new te(1,0,0,1,pt,At),rotate:new te(A,M,-M,A,0,0),skew:new te(1,0,Vt,1,0,0)}},te.prototype.toString=function(A){return this.join(" ")},te.prototype.inversed=function(){var A=this.sx,M=this.shy,K=this.shx,st=this.sy,pt=this.tx,At=this.ty,Pt=1/(A*st-M*K),Vt=st*Pt,ie=-M*Pt,be=-K*Pt,ge=A*Pt;return new te(Vt,ie,be,ge,-Vt*pt-be*At,-ie*pt-ge*At)},te.prototype.applyToPoint=function(A){var M=A.x*this.sx+A.y*this.shx+this.tx,K=A.x*this.shy+A.y*this.sy+this.ty;return new nf(M,K)},te.prototype.applyToRectangle=function(A){var M=this.applyToPoint(A),K=this.applyToPoint(new nf(A.x+A.w,A.y+A.h));return new Yg(M.x,M.y,K.x-M.x,K.y-M.y)},te.prototype.clone=function(){var A=this.sx,M=this.shy,K=this.shx,st=this.sy,pt=this.tx,At=this.ty;return new te(A,M,K,st,pt,At)},f.Matrix=te;var ar=f.matrixMult=function(A,M){return M.multiply(A)},In=new te(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=In;var Sn=function(A,M){if(!Jo[A]){var K=(M instanceof sh?"Sh":"P")+(Object.keys(Ue).length+1).toString(10);M.id=K,Jo[A]=K,Ue[K]=M,$t.publish("addPattern",M)}};f.ShadingPattern=sh,f.TilingPattern=Hf,f.addShadingPattern=function(A,M){return D("addShadingPattern()"),Sn(A,M),this},f.beginTilingPattern=function(A){D("beginTilingPattern()"),Q2(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},f.endTilingPattern=function(A,M){D("endTilingPattern()"),M.stream=Lt[$].join(`
`),Sn(A,M),$t.publish("endTilingPattern",M),Rn.pop().restore()};var lr=f.__private__.newObject=function(){var A=Kn();return es(A,!0),A},Kn=f.__private__.newObjectDeferred=function(){return ot++,at[ot]=function(){return yt},ot},es=function(A,M){return M=typeof M=="boolean"&&M,at[A]=yt,M&&et(A+" 0 obj"),A},Hd=f.__private__.newAdditionalObject=function(){var A={objId:Kn(),content:""};return Tt.push(A),A},$a=Kn(),oo=Kn(),ao=f.__private__.decodeColorString=function(A){var M=A.split(" ");if(M.length!==2||M[1]!=="g"&&M[1]!=="G")M.length===5&&(M[4]==="k"||M[4]==="K")&&(M=[(1-M[0])*(1-M[3]),(1-M[1])*(1-M[3]),(1-M[2])*(1-M[3]),"r"]);else{var K=parseFloat(M[0]);M=[K,K,K,"r"]}for(var st="#",pt=0;pt<3;pt++)st+=("0"+Math.floor(255*parseFloat(M[pt])).toString(16)).slice(-2);return st},lo=f.__private__.encodeColorString=function(A){var M;typeof A=="string"&&(A={ch1:A});var K=A.ch1,st=A.ch2,pt=A.ch3,At=A.ch4,Pt=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof K=="string"&&K.charAt(0)!=="#"){var Vt=new LT(K);if(Vt.ok)K=Vt.toHex();else if(!/^\d*\.?\d*$/.test(K))throw new Error('Invalid color "'+K+'" passed to jsPDF.encodeColorString.')}if(typeof K=="string"&&/^#[0-9A-Fa-f]{3}$/.test(K)&&(K="#"+K[1]+K[1]+K[2]+K[2]+K[3]+K[3]),typeof K=="string"&&/^#[0-9A-Fa-f]{6}$/.test(K)){var ie=parseInt(K.substr(1),16);K=ie>>16&255,st=ie>>8&255,pt=255&ie}if(st===void 0||At===void 0&&K===st&&st===pt)if(typeof K=="string")M=K+" "+Pt[0];else switch(A.precision){case 2:M=Q(K/255)+" "+Pt[0];break;case 3:default:M=P(K/255)+" "+Pt[0]}else if(At===void 0||Je(At)==="object"){if(At&&!isNaN(At.a)&&At.a===0)return M=["1.","1.","1.",Pt[1]].join(" ");if(typeof K=="string")M=[K,st,pt,Pt[1]].join(" ");else switch(A.precision){case 2:M=[Q(K/255),Q(st/255),Q(pt/255),Pt[1]].join(" ");break;default:case 3:M=[P(K/255),P(st/255),P(pt/255),Pt[1]].join(" ")}}else if(typeof K=="string")M=[K,st,pt,At,Pt[2]].join(" ");else switch(A.precision){case 2:M=[Q(K),Q(st),Q(pt),Q(At),Pt[2]].join(" ");break;case 3:default:M=[P(K),P(st),P(pt),P(At),Pt[2]].join(" ")}return M},Zo=f.__private__.getFilters=function(){return o},Ms=f.__private__.putStream=function(A){var M=(A=A||{}).data||"",K=A.filters||Zo(),st=A.alreadyAppliedFilters||[],pt=A.addLength1||!1,At=M.length,Pt=A.objectId,Vt=function(Yr){return Yr};if(h!==null&&Pt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Vt=Xr.encryptor(Pt,0));var ie={};K===!0&&(K=["FlateEncode"]);var be=A.additionalKeyValues||[],ge=(ie=le.API.processDataByFilters!==void 0?le.API.processDataByFilters(M,K):{data:M,reverseChain:[]}).reverseChain+(Array.isArray(st)?st.join(" "):st.toString());if(ie.data.length!==0&&(be.push({key:"Length",value:ie.data.length}),pt===!0&&be.push({key:"Length1",value:At})),ge.length!=0)if(ge.split("/").length-1==1)be.push({key:"Filter",value:ge});else{be.push({key:"Filter",value:"["+ge+"]"});for(var Oe=0;Oe<be.length;Oe+=1)if(be[Oe].key==="DecodeParms"){for(var _n=[],Mn=0;Mn<ie.reverseChain.split("/").length-1;Mn+=1)_n.push("null");_n.push(be[Oe].value),be[Oe].value="["+_n.join(" ")+"]"}}et("<<");for(var Qn=0;Qn<be.length;Qn++)et("/"+be[Qn].key+" "+be[Qn].value);et(">>"),ie.data.length!==0&&(et("stream"),et(Vt(ie.data)),et("endstream"))},ta=f.__private__.putPage=function(A){var M=A.number,K=A.data,st=A.objId,pt=A.contentsObjId;es(st,!0),et("<</Type /Page"),et("/Parent "+A.rootDictionaryObjId+" 0 R"),et("/Resources "+A.resourceDictionaryObjId+" 0 R"),et("/MediaBox ["+parseFloat(I(A.mediaBox.bottomLeftX))+" "+parseFloat(I(A.mediaBox.bottomLeftY))+" "+I(A.mediaBox.topRightX)+" "+I(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&et("/CropBox ["+I(A.cropBox.bottomLeftX)+" "+I(A.cropBox.bottomLeftY)+" "+I(A.cropBox.topRightX)+" "+I(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&et("/BleedBox ["+I(A.bleedBox.bottomLeftX)+" "+I(A.bleedBox.bottomLeftY)+" "+I(A.bleedBox.topRightX)+" "+I(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&et("/TrimBox ["+I(A.trimBox.bottomLeftX)+" "+I(A.trimBox.bottomLeftY)+" "+I(A.trimBox.topRightX)+" "+I(A.trimBox.topRightY)+"]"),A.artBox!==null&&et("/ArtBox ["+I(A.artBox.bottomLeftX)+" "+I(A.artBox.bottomLeftY)+" "+I(A.artBox.topRightX)+" "+I(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&et("/UserUnit "+A.userUnit),$t.publish("putPage",{objId:st,pageContext:fe[M],pageNumber:M,page:K}),et("/Contents "+pt+" 0 R"),et(">>"),et("endobj");var At=K.join(`
`);return _===b.ADVANCED&&(At+=`
Q`),es(pt,!0),Ms({data:At,filters:Zo(),objectId:pt}),et("endobj"),st},qu=f.__private__.putPages=function(){var A,M,K=[];for(A=1;A<=He;A++)fe[A].objId=Kn(),fe[A].contentsObjId=Kn();for(A=1;A<=He;A++)K.push(ta({number:A,data:Lt[A],objId:fe[A].objId,contentsObjId:fe[A].contentsObjId,mediaBox:fe[A].mediaBox,cropBox:fe[A].cropBox,bleedBox:fe[A].bleedBox,trimBox:fe[A].trimBox,artBox:fe[A].artBox,userUnit:fe[A].userUnit,rootDictionaryObjId:$a,resourceDictionaryObjId:oo}));es($a,!0),et("<</Type /Pages");var st="/Kids [";for(M=0;M<He;M++)st+=K[M]+" 0 R ";et(st+"]"),et("/Count "+He),et(">>"),et("endobj"),$t.publish("postPutPages")},$d=function(A){$t.publish("putFont",{font:A,out:et,newObject:lr,putStream:Ms}),A.isAlreadyPutted!==!0&&(A.objectNumber=lr(),et("<<"),et("/Type /Font"),et("/BaseFont /"+Sf(A.postScriptName)),et("/Subtype /Type1"),typeof A.encoding=="string"&&et("/Encoding /"+A.encoding),et("/FirstChar 32"),et("/LastChar 255"),et(">>"),et("endobj"))},Vd=function(){for(var A in Ge)Ge.hasOwnProperty(A)&&(d===!1||d===!0&&g.hasOwnProperty(A))&&$d(Ge[A])},Wd=function(A){A.objectNumber=lr();var M=[];M.push({key:"Type",value:"/XObject"}),M.push({key:"Subtype",value:"/Form"}),M.push({key:"BBox",value:"["+[I(A.x),I(A.y),I(A.x+A.width),I(A.y+A.height)].join(" ")+"]"}),M.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var K=A.pages[1].join(`
`);Ms({data:K,additionalKeyValues:M,objectId:A.objectNumber}),et("endobj")},Gd=function(){for(var A in Ae)Ae.hasOwnProperty(A)&&Wd(Ae[A])},I2=function(A,M){var K,st=[],pt=1/(M-1);for(K=0;K<1;K+=pt)st.push(K);if(st.push(1),A[0].offset!=0){var At={offset:0,color:A[0].color};A.unshift(At)}if(A[A.length-1].offset!=1){var Pt={offset:1,color:A[A.length-1].color};A.push(Pt)}for(var Vt="",ie=0,be=0;be<st.length;be++){for(K=st[be];K>A[ie+1].offset;)ie++;var ge=A[ie].offset,Oe=(K-ge)/(A[ie+1].offset-ge),_n=A[ie].color,Mn=A[ie+1].color;Vt+=nt(Math.round((1-Oe)*_n[0]+Oe*Mn[0]).toString(16))+nt(Math.round((1-Oe)*_n[1]+Oe*Mn[1]).toString(16))+nt(Math.round((1-Oe)*_n[2]+Oe*Mn[2]).toString(16))}return Vt.trim()},nb=function(A,M){M||(M=21);var K=lr(),st=I2(A.colors,M),pt=[];pt.push({key:"FunctionType",value:"0"}),pt.push({key:"Domain",value:"[0.0 1.0]"}),pt.push({key:"Size",value:"["+M+"]"}),pt.push({key:"BitsPerSample",value:"8"}),pt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),pt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ms({data:st,additionalKeyValues:pt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:K}),et("endobj"),A.objectNumber=lr(),et("<< /ShadingType "+A.type),et("/ColorSpace /DeviceRGB");var At="/Coords ["+I(parseFloat(A.coords[0]))+" "+I(parseFloat(A.coords[1]))+" ";A.type===2?At+=I(parseFloat(A.coords[2]))+" "+I(parseFloat(A.coords[3])):At+=I(parseFloat(A.coords[2]))+" "+I(parseFloat(A.coords[3]))+" "+I(parseFloat(A.coords[4]))+" "+I(parseFloat(A.coords[5])),et(At+="]"),A.matrix&&et("/Matrix ["+A.matrix.toString()+"]"),et("/Function "+K+" 0 R"),et("/Extend [true true]"),et(">>"),et("endobj")},rb=function(A,M){var K=Kn(),st=lr();M.push({resourcesOid:K,objectOid:st}),A.objectNumber=st;var pt=[];pt.push({key:"Type",value:"/Pattern"}),pt.push({key:"PatternType",value:"1"}),pt.push({key:"PaintType",value:"1"}),pt.push({key:"TilingType",value:"1"}),pt.push({key:"BBox",value:"["+A.boundingBox.map(I).join(" ")+"]"}),pt.push({key:"XStep",value:I(A.xStep)}),pt.push({key:"YStep",value:I(A.yStep)}),pt.push({key:"Resources",value:K+" 0 R"}),A.matrix&&pt.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),Ms({data:A.stream,additionalKeyValues:pt,objectId:A.objectNumber}),et("endobj")},Xd=function(A){var M;for(M in Ue)Ue.hasOwnProperty(M)&&(Ue[M]instanceof sh?nb(Ue[M]):Ue[M]instanceof Hf&&rb(Ue[M],A))},M2=function(A){for(var M in A.objectNumber=lr(),et("<<"),A)switch(M){case"opacity":et("/ca "+Q(A[M]));break;case"stroke-opacity":et("/CA "+Q(A[M]))}et(">>"),et("endobj")},ib=function(){var A;for(A in fn)fn.hasOwnProperty(A)&&M2(fn[A])},Bg=function(){for(var A in et("/XObject <<"),Ae)Ae.hasOwnProperty(A)&&Ae[A].objectNumber>=0&&et("/"+A+" "+Ae[A].objectNumber+" 0 R");$t.publish("putXobjectDict"),et(">>")},sb=function(){Xr.oid=lr(),et("<<"),et("/Filter /Standard"),et("/V "+Xr.v),et("/R "+Xr.r),et("/U <"+Xr.toHexString(Xr.U)+">"),et("/O <"+Xr.toHexString(Xr.O)+">"),et("/P "+Xr.P),et(">>"),et("endobj")},F2=function(){for(var A in et("/Font <<"),Ge)Ge.hasOwnProperty(A)&&(d===!1||d===!0&&g.hasOwnProperty(A))&&et("/"+A+" "+Ge[A].objectNumber+" 0 R");et(">>")},ob=function(){if(Object.keys(Ue).length>0){for(var A in et("/Shading <<"),Ue)Ue.hasOwnProperty(A)&&Ue[A]instanceof sh&&Ue[A].objectNumber>=0&&et("/"+A+" "+Ue[A].objectNumber+" 0 R");$t.publish("putShadingPatternDict"),et(">>")}},Yd=function(A){if(Object.keys(Ue).length>0){for(var M in et("/Pattern <<"),Ue)Ue.hasOwnProperty(M)&&Ue[M]instanceof f.TilingPattern&&Ue[M].objectNumber>=0&&Ue[M].objectNumber<A&&et("/"+M+" "+Ue[M].objectNumber+" 0 R");$t.publish("putTilingPatternDict"),et(">>")}},ab=function(){if(Object.keys(fn).length>0){var A;for(A in et("/ExtGState <<"),fn)fn.hasOwnProperty(A)&&fn[A].objectNumber>=0&&et("/"+A+" "+fn[A].objectNumber+" 0 R");$t.publish("putGStateDict"),et(">>")}},zn=function(A){es(A.resourcesOid,!0),et("<<"),et("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),F2(),ob(),Yd(A.objectOid),ab(),Bg(),et(">>"),et("endobj")},O2=function(){var A=[];Vd(),ib(),Gd(),Xd(A),$t.publish("putResources"),A.forEach(zn),zn({resourcesOid:oo,objectOid:Number.MAX_SAFE_INTEGER}),$t.publish("postPutResources")},D2=function(){$t.publish("putAdditionalObjects");for(var A=0;A<Tt.length;A++){var M=Tt[A];es(M.objId,!0),et(M.content),et("endobj")}$t.publish("postPutAdditionalObjects")},j2=function(A){qe[A.fontName]=qe[A.fontName]||{},qe[A.fontName][A.fontStyle]=A.id},zg=function(A,M,K,st,pt){var At={id:"F"+(Object.keys(Ge).length+1).toString(10),postScriptName:A,fontName:M,fontStyle:K,encoding:st,isStandardFont:pt||!1,metadata:{}};return $t.publish("addFont",{font:At,instance:this}),Ge[At.id]=At,j2(At),At.id},lb=function(A){for(var M=0,K=kt.length;M<K;M++){var st=zg.call(this,A[M][0],A[M][1],A[M][2],kt[M][3],!0);d===!1&&(g[st]=!0);var pt=A[M][0].split("-");j2({id:st,fontName:pt[0],fontStyle:pt[1]||""})}$t.publish("addFonts",{fonts:Ge,dictionary:qe})},co=function(A){return A.foo=function(){try{return A.apply(this,arguments)}catch(st){var M=st.stack||"";~M.indexOf(" at ")&&(M=M.split(" at ")[1]);var K="Error in function "+M.split(`
`)[0].split("<")[0]+": "+st.message;if(!ue.console)throw new Error(K);ue.console.error(K,st),ue.alert&&alert(K)}},A.foo.bar=A,A.foo},Kd=function(A,M){var K,st,pt,At,Pt,Vt,ie,be,ge;if(pt=(M=M||{}).sourceEncoding||"Unicode",Pt=M.outputEncoding,(M.autoencode||Pt)&&Ge[xe].metadata&&Ge[xe].metadata[pt]&&Ge[xe].metadata[pt].encoding&&(At=Ge[xe].metadata[pt].encoding,!Pt&&Ge[xe].encoding&&(Pt=Ge[xe].encoding),!Pt&&At.codePages&&(Pt=At.codePages[0]),typeof Pt=="string"&&(Pt=At[Pt]),Pt)){for(ie=!1,Vt=[],K=0,st=A.length;K<st;K++)(be=Pt[A.charCodeAt(K)])?Vt.push(String.fromCharCode(be)):Vt.push(A[K]),Vt[K].charCodeAt(0)>>8&&(ie=!0);A=Vt.join("")}for(K=A.length;ie===void 0&&K!==0;)A.charCodeAt(K-1)>>8&&(ie=!0),K--;if(!ie)return A;for(Vt=M.noBOM?[]:[254,255],K=0,st=A.length;K<st;K++){if((ge=(be=A.charCodeAt(K))>>8)>>8)throw new Error("Character at position "+K+" of string '"+A+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Vt.push(ge),Vt.push(be-(ge<<8))}return String.fromCharCode.apply(void 0,Vt)},Ri=f.__private__.pdfEscape=f.pdfEscape=function(A,M){return Kd(A,M).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ug=f.__private__.beginPage=function(A){Lt[++He]=[],fe[He]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},z2(He),xt(Lt[$])},B2=function(A,M){var K,st,pt;switch(e=M||e,typeof A=="string"&&(K=y(A.toLowerCase()),Array.isArray(K)&&(st=K[0],pt=K[1])),Array.isArray(A)&&(st=A[0]*Ht,pt=A[1]*Ht),isNaN(st)&&(st=i[0],pt=i[1]),(st>14400||pt>14400)&&(an.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),st=Math.min(14400,st),pt=Math.min(14400,pt)),i=[st,pt],e.substr(0,1)){case"l":pt>st&&(i=[pt,st]);break;case"p":st>pt&&(i=[pt,st])}Ug(i),W2(Vg),et(uo),Gg!==0&&et(Gg+" J"),Xg!==0&&et(Xg+" j"),$t.publish("addPage",{pageNumber:He})},cb=function(A){A>0&&A<=He&&(Lt.splice(A,1),fe.splice(A,1),He--,$>He&&($=He),this.setPage($))},z2=function(A){A>0&&A<=He&&($=A)},ub=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return Lt.length-1},U2=function(A,M,K){var st,pt=void 0;return K=K||{},A=A!==void 0?A:Ge[xe].fontName,M=M!==void 0?M:Ge[xe].fontStyle,st=A.toLowerCase(),qe[st]!==void 0&&qe[st][M]!==void 0?pt=qe[st][M]:qe[A]!==void 0&&qe[A][M]!==void 0?pt=qe[A][M]:K.disableWarning===!1&&an.warn("Unable to look up font label for font '"+A+"', '"+M+"'. Refer to getFontList() for available fonts."),pt||K.noFallback||(pt=qe.times[M])==null&&(pt=qe.times.normal),pt},hb=f.__private__.putInfo=function(){var A=lr(),M=function(st){return st};for(var K in h!==null&&(M=Xr.encryptor(A,0)),et("<<"),et("/Producer ("+Ri(M("jsPDF "+le.version))+")"),ce)ce.hasOwnProperty(K)&&ce[K]&&et("/"+K.substr(0,1).toUpperCase()+K.substr(1)+" ("+Ri(M(ce[K]))+")");et("/CreationDate ("+Ri(M(dt))+")"),et(">>"),et("endobj")},qg=f.__private__.putCatalog=function(A){var M=(A=A||{}).rootDictionaryObjId||$a;switch(lr(),et("<<"),et("/Type /Catalog"),et("/Pages "+M+" 0 R"),Bt||(Bt="fullwidth"),Bt){case"fullwidth":et("/OpenAction [3 0 R /FitH null]");break;case"fullheight":et("/OpenAction [3 0 R /FitV null]");break;case"fullpage":et("/OpenAction [3 0 R /Fit]");break;case"original":et("/OpenAction [3 0 R /XYZ null null 1]");break;default:var K=""+Bt;K.substr(K.length-1)==="%"&&(Bt=parseInt(Bt)/100),typeof Bt=="number"&&et("/OpenAction [3 0 R /XYZ null null "+Q(Bt)+"]")}switch(oe||(oe="continuous"),oe){case"continuous":et("/PageLayout /OneColumn");break;case"single":et("/PageLayout /SinglePage");break;case"two":case"twoleft":et("/PageLayout /TwoColumnLeft");break;case"tworight":et("/PageLayout /TwoColumnRight")}de&&et("/PageMode /"+de),$t.publish("putCatalog"),et(">>"),et("endobj")},db=f.__private__.putTrailer=function(){et("trailer"),et("<<"),et("/Size "+(ot+1)),et("/Root "+ot+" 0 R"),et("/Info "+(ot-1)+" 0 R"),h!==null&&et("/Encrypt "+Xr.oid+" 0 R"),et("/ID [ <"+J+"> <"+J+"> ]"),et(">>")},fb=f.__private__.putHeader=function(){et("%PDF-"+w),et("%ºß¬à")},pb=f.__private__.putXRef=function(){var A="0000000000";et("xref"),et("0 "+(ot+1)),et("0000000000 65535 f ");for(var M=1;M<=ot;M++)typeof at[M]=="function"?et((A+at[M]()).slice(-10)+" 00000 n "):at[M]!==void 0?et((A+at[M]).slice(-10)+" 00000 n "):et("0000000000 00000 n ")},Va=f.__private__.buildDocument=function(){ne(),xt(vt),$t.publish("buildDocument"),fb(),qu(),D2(),O2(),h!==null&&sb(),hb(),qg();var A=yt;return pb(),db(),et("startxref"),et(""+A),et("%%EOF"),xt(Lt[$]),vt.join(`
`)},Qd=f.__private__.getBlob=function(A){return new Blob([Yt(A)],{type:"application/pdf"})},Jd=f.output=f.__private__.output=co(function(A,M){switch(typeof(M=M||{})=="string"?M={filename:M}:M.filename=M.filename||"generated.pdf",A){case void 0:return Va();case"save":f.save(M.filename);break;case"arraybuffer":return Yt(Va());case"blob":return Qd(Va());case"bloburi":case"bloburl":if(ue.URL!==void 0&&typeof ue.URL.createObjectURL=="function")return ue.URL&&ue.URL.createObjectURL(Qd(Va()))||void 0;an.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var K="",st=Va();try{K=uS(st)}catch{K=uS(unescape(encodeURIComponent(st)))}return"data:application/pdf;filename="+M.filename+";base64,"+K;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ue)==="[object Window]"){var pt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",At=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';M.pdfObjectUrl&&(pt=M.pdfObjectUrl,At="");var Pt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+pt+'"'+At+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(M)+");<\/script></body></html>",Vt=ue.open();return Vt!==null&&Vt.document.write(Pt),Vt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ue)==="[object Window]"){var ie='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(M.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+M.filename+'" width="500px" height="400px" /></body></html>',be=ue.open();if(be!==null){be.document.write(ie);var ge=this;be.document.documentElement.querySelector("#pdfViewer").onload=function(){be.document.title=M.filename,be.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ge.output("bloburl"))}}return be}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ue)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Oe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",M)+'"></iframe></body></html>',_n=ue.open();if(_n!==null&&(_n.document.write(Oe),_n.document.title=M.filename),_n||typeof safari>"u")return _n;break;case"datauri":case"dataurl":return ue.document.location.href=this.output("datauristring",M);default:return null}}),q2=function(A){return Array.isArray(Re)===!0&&Re.indexOf(A)>-1};switch(r){case"pt":Ht=1;break;case"mm":Ht=72/25.4;break;case"cm":Ht=72/2.54;break;case"in":Ht=72;break;case"px":Ht=q2("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ht=12;break;case"ex":Ht=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Ht=r}var Xr=null;St(),W();var gb=function(A){return h!==null?Xr.encryptor(A,0):function(M){return M}},H2=f.__private__.getPageInfo=f.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:fe[A].objId,pageNumber:A,pageContext:fe[A]}},pe=f.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var M in fe)if(fe[M].objId===A)break;return H2(M)},mb=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:fe[$].objId,pageNumber:$,pageContext:fe[$]}};f.addPage=function(){return B2.apply(this,arguments),this},f.setPage=function(){return z2.apply(this,arguments),xt.call(this,Lt[$]),this},f.insertPage=function(A){return this.addPage(),this.movePage($,A),this},f.movePage=function(A,M){var K,st;if(A>M){K=Lt[A],st=fe[A];for(var pt=A;pt>M;pt--)Lt[pt]=Lt[pt-1],fe[pt]=fe[pt-1];Lt[M]=K,fe[M]=st,this.setPage(M)}else if(A<M){K=Lt[A],st=fe[A];for(var At=A;At<M;At++)Lt[At]=Lt[At+1],fe[At]=fe[At+1];Lt[M]=K,fe[M]=st,this.setPage(M)}return this},f.deletePage=function(){return cb.apply(this,arguments),this},f.__private__.text=f.text=function(A,M,K,st,pt){var At,Pt,Vt,ie,be,ge,Oe,_n,Mn,Qn=(st=st||{}).scope||this;if(typeof A=="number"&&typeof M=="number"&&(typeof K=="string"||Array.isArray(K))){var Yr=K;K=M,M=A,A=Yr}if(arguments[3]instanceof te?(D("The transform parameter of text() with a Matrix value"),Mn=pt):(Vt=arguments[4],ie=arguments[5],Je(Oe=arguments[3])==="object"&&Oe!==null||(typeof Vt=="string"&&(ie=Vt,Vt=null),typeof Oe=="string"&&(ie=Oe,Oe=null),typeof Oe=="number"&&(Vt=Oe,Oe=null),st={flags:Oe,angle:Vt,align:ie})),isNaN(M)||isNaN(K)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return Qn;var br="",ho=!1,ns=typeof st.lineHeightFactor=="number"?st.lineHeightFactor:$u,ra=Qn.internal.scaleFactor;function J2(ln){return ln=ln.split("	").join(Array(st.TabLen||9).join(" ")),Ri(ln,Oe)}function Zg(ln){for(var cn,qn=ln.concat(),cr=[],Ka=qn.length;Ka--;)typeof(cn=qn.shift())=="string"?cr.push(cn):Array.isArray(ln)&&(cn.length===1||cn[1]===void 0&&cn[2]===void 0)?cr.push(cn[0]):cr.push([cn[0],cn[1],cn[2]]);return cr}function tm(ln,cn){var qn;if(typeof ln=="string")qn=cn(ln)[0];else if(Array.isArray(ln)){for(var cr,Ka,lm=ln.concat(),pf=[],rv=lm.length;rv--;)typeof(cr=lm.shift())=="string"?pf.push(cn(cr)[0]):Array.isArray(cr)&&typeof cr[0]=="string"&&(Ka=cn(cr[0],cr[1],cr[2]),pf.push([Ka[0],Ka[1],Ka[2]]));qn=pf}return qn}var sf=!1,em=!0;if(typeof A=="string")sf=!0;else if(Array.isArray(A)){var nm=A.concat();Pt=[];for(var of,Mr=nm.length;Mr--;)(typeof(of=nm.shift())!="string"||Array.isArray(of)&&typeof of[0]!="string")&&(em=!1);sf=em}if(sf===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var af=Dt/Qn.internal.scaleFactor,lf=af*(ns-1);switch(st.baseline){case"bottom":K-=lf;break;case"top":K+=af-lf;break;case"hanging":K+=af-2*lf;break;case"middle":K+=af/2-lf}if((ge=st.maxWidth||0)>0&&(typeof A=="string"?A=Qn.splitTextToSize(A,ge):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(ln,cn){return ln.concat(Qn.splitTextToSize(cn,ge))},[]))),At={text:A,x:M,y:K,options:st,mutex:{pdfEscape:Ri,activeFontKey:xe,fonts:Ge,activeFontSize:Dt}},$t.publish("preProcessText",At),A=At.text,Vt=(st=At.options).angle,!(Mn instanceof te)&&Vt&&typeof Vt=="number"){Vt*=Math.PI/180,st.rotationDirection===0&&(Vt=-Vt),_===b.ADVANCED&&(Vt=-Vt);var cf=Math.cos(Vt),rm=Math.sin(Vt);Mn=new te(cf,rm,-rm,cf,0,0)}else Vt&&Vt instanceof te&&(Mn=Vt);_!==b.ADVANCED||Mn||(Mn=In),(be=st.charSpace||ef)!==void 0&&(br+=I(j(be))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(_n=st.horizontalScale)!==void 0&&(br+=I(100*_n)+` Tz
`),st.lang;var Ii=-1,Cb=st.renderingMode!==void 0?st.renderingMode:st.stroke,im=Qn.internal.getCurrentPageInfo().pageContext;switch(Cb){case 0:case!1:case"fill":Ii=0;break;case 1:case!0:case"stroke":Ii=1;break;case 2:case"fillThenStroke":Ii=2;break;case 3:case"invisible":Ii=3;break;case 4:case"fillAndAddForClipping":Ii=4;break;case 5:case"strokeAndAddPathForClipping":Ii=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ii=6;break;case 7:case"addToPathForClipping":Ii=7}var Z2=im.usedRenderingMode!==void 0?im.usedRenderingMode:-1;Ii!==-1?br+=Ii+` Tr
`:Z2!==-1&&(br+=`0 Tr
`),Ii!==-1&&(im.usedRenderingMode=Ii),ie=st.align||"left";var Fs,uf=Dt*ns,tv=Qn.internal.pageSize.getWidth(),ev=Ge[xe];be=st.charSpace||ef,ge=st.maxWidth||0,Oe=Object.assign({autoencode:!0,noBOM:!0},st.flags);var rc=[],Gu=function(ln){return Qn.getStringUnitWidth(ln,{font:ev,charSpace:be,fontSize:Dt,doKerning:!1})*Dt/ra};if(Object.prototype.toString.call(A)==="[object Array]"){var Mi;Pt=Zg(A),ie!=="left"&&(Fs=Pt.map(Gu));var pi,ic=0;if(ie==="right"){M-=Fs[0],A=[],Mr=Pt.length;for(var Ga=0;Ga<Mr;Ga++)Ga===0?(pi=na(M),Mi=Wa(K)):(pi=j(ic-Fs[Ga]),Mi=-uf),A.push([Pt[Ga],pi,Mi]),ic=Fs[Ga]}else if(ie==="center"){M-=Fs[0]/2,A=[],Mr=Pt.length;for(var Xa=0;Xa<Mr;Xa++)Xa===0?(pi=na(M),Mi=Wa(K)):(pi=j((ic-Fs[Xa])/2),Mi=-uf),A.push([Pt[Xa],pi,Mi]),ic=Fs[Xa]}else if(ie==="left"){A=[],Mr=Pt.length;for(var hf=0;hf<Mr;hf++)A.push(Pt[hf])}else if(ie==="justify"&&ev.encoding==="Identity-H"){A=[],Mr=Pt.length,ge=ge!==0?ge:tv;for(var Ya=0,Un=0;Un<Mr;Un++)if(Mi=Un===0?Wa(K):-uf,pi=Un===0?na(M):Ya,Un<Mr-1){var sm=j((ge-Fs[Un])/(Pt[Un].split(" ").length-1)),gi=Pt[Un].split(" ");A.push([gi[0]+" ",pi,Mi]),Ya=0;for(var Os=1;Os<gi.length;Os++){var df=(Gu(gi[Os-1]+" "+gi[Os])-Gu(gi[Os]))*ra+sm;Os==gi.length-1?A.push([gi[Os],df,0]):A.push([gi[Os]+" ",df,0]),Ya-=df}}else A.push([Pt[Un],pi,Mi]);A.push(["",Ya,0])}else{if(ie!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(A=[],Mr=Pt.length,ge=ge!==0?ge:tv,Un=0;Un<Mr;Un++)Mi=Un===0?Wa(K):-uf,pi=Un===0?na(M):0,Un<Mr-1?rc.push(I(j((ge-Fs[Un])/(Pt[Un].split(" ").length-1)))):rc.push(0),A.push([Pt[Un],pi,Mi])}}var nv=typeof st.R2L=="boolean"?st.R2L:Zt;nv===!0&&(A=tm(A,function(ln,cn,qn){return[ln.split("").reverse().join(""),cn,qn]})),At={text:A,x:M,y:K,options:st,mutex:{pdfEscape:Ri,activeFontKey:xe,fonts:Ge,activeFontSize:Dt}},$t.publish("postProcessText",At),A=At.text,ho=At.mutex.isHex||!1;var om=Ge[xe].encoding;om!=="WinAnsiEncoding"&&om!=="StandardEncoding"||(A=tm(A,function(ln,cn,qn){return[J2(ln),cn,qn]})),Pt=Zg(A),A=[];for(var Xu,Yu,sc,Ku=0,ff=1,Qu=Array.isArray(Pt[0])?ff:Ku,oc="",am=function(ln,cn,qn){var cr="";return qn instanceof te?(qn=typeof st.angle=="number"?ar(qn,new te(1,0,0,1,ln,cn)):ar(new te(1,0,0,1,ln,cn),qn),_===b.ADVANCED&&(qn=ar(new te(1,0,0,-1,0,0),qn)),cr=qn.join(" ")+` Tm
`):cr=I(ln)+" "+I(cn)+` Td
`,cr},Ds=0;Ds<Pt.length;Ds++){switch(oc="",Qu){case ff:sc=(ho?"<":"(")+Pt[Ds][0]+(ho?">":")"),Xu=parseFloat(Pt[Ds][1]),Yu=parseFloat(Pt[Ds][2]);break;case Ku:sc=(ho?"<":"(")+Pt[Ds]+(ho?">":")"),Xu=na(M),Yu=Wa(K)}rc!==void 0&&rc[Ds]!==void 0&&(oc=rc[Ds]+` Tw
`),Ds===0?A.push(oc+am(Xu,Yu,Mn)+sc):Qu===Ku?A.push(oc+sc):Qu===ff&&A.push(oc+am(Xu,Yu,Mn)+sc)}A=Qu===Ku?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var js=`BT
/`;return js+=xe+" "+Dt+` Tf
`,js+=I(Dt*ns)+` TL
`,js+=Vu+`
`,js+=br,js+=A,et(js+="ET"),g[xe]=!0,Qn};var vb=f.__private__.clip=f.clip=function(A){return et(A==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return vb("evenodd")},f.__private__.discardPath=f.discardPath=function(){return et("n"),this};var ea=f.__private__.isValidStyle=function(A){var M=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(M=!0),M};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(A){return ea(A)&&(c=A),this};var $2=f.__private__.getStyle=f.getStyle=function(A){var M=c;switch(A){case"D":case"S":M="S";break;case"F":M="f";break;case"FD":case"DF":M="B";break;case"f":case"f*":case"B":case"B*":M=A}return M},V2=f.close=function(){return et("h"),this};f.stroke=function(){return et("S"),this},f.fill=function(A){return Zd("f",A),this},f.fillEvenOdd=function(A){return Zd("f*",A),this},f.fillStroke=function(A){return Zd("B",A),this},f.fillStrokeEvenOdd=function(A){return Zd("B*",A),this};var Zd=function(A,M){Je(M)==="object"?wb(M,A):et(A)},Hg=function(A){A===null||_===b.ADVANCED&&A===void 0||(A=$2(A),et(A))};function yb(A,M,K,st,pt){var At=new Hf(M||this.boundingBox,K||this.xStep,st||this.yStep,this.gState,pt||this.matrix);At.stream=this.stream;var Pt=A+"$$"+this.cloneIndex+++"$$";return Sn(Pt,At),At}var wb=function(A,M){var K=Jo[A.key],st=Ue[K];if(st instanceof sh)et("q"),et(bb(M)),st.gState&&f.setGState(st.gState),et(A.matrix.toString()+" cm"),et("/"+K+" sh"),et("Q");else if(st instanceof Hf){var pt=new te(1,0,0,-1,0,nc());A.matrix&&(pt=pt.multiply(A.matrix||In),K=yb.call(st,A.key,A.boundingBox,A.xStep,A.yStep,pt).id),et("q"),et("/Pattern cs"),et("/"+K+" scn"),st.gState&&f.setGState(st.gState),et(M),et("Q")}},bb=function(A){switch(A){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},$g=f.moveTo=function(A,M){return et(I(j(A))+" "+I(H(M))+" m"),this},Hu=f.lineTo=function(A,M){return et(I(j(A))+" "+I(H(M))+" l"),this},tc=f.curveTo=function(A,M,K,st,pt,At){return et([I(j(A)),I(H(M)),I(j(K)),I(H(st)),I(j(pt)),I(H(At)),"c"].join(" ")),this};f.__private__.line=f.line=function(A,M,K,st,pt){if(isNaN(A)||isNaN(M)||isNaN(K)||isNaN(st)||!ea(pt))throw new Error("Invalid arguments passed to jsPDF.line");return _===b.COMPAT?this.lines([[K-A,st-M]],A,M,[1,1],pt||"S"):this.lines([[K-A,st-M]],A,M,[1,1]).stroke()},f.__private__.lines=f.lines=function(A,M,K,st,pt,At){var Pt,Vt,ie,be,ge,Oe,_n,Mn,Qn,Yr,br,ho;if(typeof A=="number"&&(ho=K,K=M,M=A,A=ho),st=st||[1,1],At=At||!1,isNaN(M)||isNaN(K)||!Array.isArray(A)||!Array.isArray(st)||!ea(pt)||typeof At!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for($g(M,K),Pt=st[0],Vt=st[1],be=A.length,Yr=M,br=K,ie=0;ie<be;ie++)(ge=A[ie]).length===2?(Yr=ge[0]*Pt+Yr,br=ge[1]*Vt+br,Hu(Yr,br)):(Oe=ge[0]*Pt+Yr,_n=ge[1]*Vt+br,Mn=ge[2]*Pt+Yr,Qn=ge[3]*Vt+br,Yr=ge[4]*Pt+Yr,br=ge[5]*Vt+br,tc(Oe,_n,Mn,Qn,Yr,br));return At&&V2(),Hg(pt),this},f.path=function(A){for(var M=0;M<A.length;M++){var K=A[M],st=K.c;switch(K.op){case"m":$g(st[0],st[1]);break;case"l":Hu(st[0],st[1]);break;case"c":tc.apply(this,st);break;case"h":V2()}}return this},f.__private__.rect=f.rect=function(A,M,K,st,pt){if(isNaN(A)||isNaN(M)||isNaN(K)||isNaN(st)||!ea(pt))throw new Error("Invalid arguments passed to jsPDF.rect");return _===b.COMPAT&&(st=-st),et([I(j(A)),I(H(M)),I(j(K)),I(j(st)),"re"].join(" ")),Hg(pt),this},f.__private__.triangle=f.triangle=function(A,M,K,st,pt,At,Pt){if(isNaN(A)||isNaN(M)||isNaN(K)||isNaN(st)||isNaN(pt)||isNaN(At)||!ea(Pt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[K-A,st-M],[pt-K,At-st],[A-pt,M-At]],A,M,[1,1],Pt,!0),this},f.__private__.roundedRect=f.roundedRect=function(A,M,K,st,pt,At,Pt){if(isNaN(A)||isNaN(M)||isNaN(K)||isNaN(st)||isNaN(pt)||isNaN(At)||!ea(Pt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Vt=4/3*(Math.SQRT2-1);return pt=Math.min(pt,.5*K),At=Math.min(At,.5*st),this.lines([[K-2*pt,0],[pt*Vt,0,pt,At-At*Vt,pt,At],[0,st-2*At],[0,At*Vt,-pt*Vt,At,-pt,At],[2*pt-K,0],[-pt*Vt,0,-pt,-At*Vt,-pt,-At],[0,2*At-st],[0,-At*Vt,pt*Vt,-At,pt,-At]],A+pt,M,[1,1],Pt,!0),this},f.__private__.ellipse=f.ellipse=function(A,M,K,st,pt){if(isNaN(A)||isNaN(M)||isNaN(K)||isNaN(st)||!ea(pt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var At=4/3*(Math.SQRT2-1)*K,Pt=4/3*(Math.SQRT2-1)*st;return $g(A+K,M),tc(A+K,M-Pt,A+At,M-st,A,M-st),tc(A-At,M-st,A-K,M-Pt,A-K,M),tc(A-K,M+Pt,A-At,M+st,A,M+st),tc(A+At,M+st,A+K,M+Pt,A+K,M),Hg(pt),this},f.__private__.circle=f.circle=function(A,M,K,st){if(isNaN(A)||isNaN(M)||isNaN(K)||!ea(st))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,M,K,K,st)},f.setFont=function(A,M,K){return K&&(M=O(M,K)),xe=U2(A,M,{disableWarning:!1}),this};var xb=f.__private__.getFont=f.getFont=function(){return Ge[U2.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var A,M,K={};for(A in qe)if(qe.hasOwnProperty(A))for(M in K[A]=[],qe[A])qe[A].hasOwnProperty(M)&&K[A].push(M);return K},f.addFont=function(A,M,K,st,pt){var At=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&At.indexOf(arguments[3])!==-1?pt=arguments[3]:arguments[3]&&At.indexOf(arguments[3])==-1&&(K=O(K,st)),pt=pt||"Identity-H",zg.call(this,A,M,K,pt)};var $u,Vg=n.lineWidth||.200025,tf=f.__private__.getLineWidth=f.getLineWidth=function(){return Vg},W2=f.__private__.setLineWidth=f.setLineWidth=function(A){return Vg=A,et(I(j(A))+" w"),this};f.__private__.setLineDash=le.API.setLineDash=le.API.setLineDashPattern=function(A,M){if(A=A||[],M=M||0,isNaN(M)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map(function(K){return I(j(K))}).join(" "),M=I(j(M)),et("["+A+"] "+M+" d"),this};var G2=f.__private__.getLineHeight=f.getLineHeight=function(){return Dt*$u};f.__private__.getLineHeight=f.getLineHeight=function(){return Dt*$u};var X2=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&($u=A),this},Y2=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return $u};X2(n.lineHeight);var na=f.__private__.getHorizontalCoordinate=function(A){return j(A)},Wa=f.__private__.getVerticalCoordinate=function(A){return _===b.ADVANCED?A:fe[$].mediaBox.topRightY-fe[$].mediaBox.bottomLeftY-j(A)},Ab=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(A){return I(na(A))},ec=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(A){return I(Wa(A))},uo=n.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return ao(uo)},f.__private__.setStrokeColor=f.setDrawColor=function(A,M,K,st){return uo=lo({ch1:A,ch2:M,ch3:K,ch4:st,pdfColorType:"draw",precision:2}),et(uo),this};var Wg=n.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return ao(Wg)},f.__private__.setFillColor=f.setFillColor=function(A,M,K,st){return Wg=lo({ch1:A,ch2:M,ch3:K,ch4:st,pdfColorType:"fill",precision:2}),et(Wg),this};var Vu=n.textColor||"0 g",Sb=f.__private__.getTextColor=f.getTextColor=function(){return ao(Vu)};f.__private__.setTextColor=f.setTextColor=function(A,M,K,st){return Vu=lo({ch1:A,ch2:M,ch3:K,ch4:st,pdfColorType:"text",precision:3}),this};var ef=n.charSpace,_b=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(ef||0)};f.__private__.setCharSpace=f.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ef=A,this};var Gg=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(A){var M=f.CapJoinStyles[A];if(M===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Gg=M,et(M+" J"),this};var Xg=0;f.__private__.setLineJoin=f.setLineJoin=function(A){var M=f.CapJoinStyles[A];if(M===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xg=M,et(M+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return et(I(j(A))+" M"),this},f.GState=O5,f.setGState=function(A){(A=typeof A=="string"?fn[Zi[A]]:K2(null,A)).equals(ts)||(et("/"+A.id+" gs"),ts=A)};var K2=function(A,M){if(!A||!Zi[A]){var K=!1;for(var st in fn)if(fn.hasOwnProperty(st)&&fn[st].equals(M)){K=!0;break}if(K)M=fn[st];else{var pt="GS"+(Object.keys(fn).length+1).toString(10);fn[pt]=M,M.id=pt}return A&&(Zi[A]=M.id),$t.publish("addGState",M),M}};f.addGState=function(A,M){return K2(A,M),this},f.saveGraphicsState=function(){return et("q"),Is.push({key:xe,size:Dt,color:Vu}),this},f.restoreGraphicsState=function(){et("Q");var A=Is.pop();return xe=A.key,Dt=A.size,Vu=A.color,ts=null,this},f.setCurrentTransformationMatrix=function(A){return et(A.toString()+" cm"),this},f.comment=function(A){return et("#"+A),this};var nf=function(A,M){var K=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return K},set:function(At){isNaN(At)||(K=parseFloat(At))}});var st=M||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return st},set:function(At){isNaN(At)||(st=parseFloat(At))}});var pt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return pt},set:function(At){pt=At.toString()}}),this},Yg=function(A,M,K,st){nf.call(this,A,M),this.type="rect";var pt=K||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return pt},set:function(Pt){isNaN(Pt)||(pt=parseFloat(Pt))}});var At=st||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return At},set:function(Pt){isNaN(Pt)||(At=parseFloat(Pt))}}),this},Kg=function(){this.page=He,this.currentPage=$,this.pages=Lt.slice(0),this.pagesContext=fe.slice(0),this.x=or,this.y=Te,this.matrix=wr,this.width=Wu($),this.height=nc($),this.outputDestination=Mt,this.id="",this.objectNumber=-1};Kg.prototype.restore=function(){He=this.page,$=this.currentPage,fe=this.pagesContext,Lt=this.pages,or=this.x,Te=this.y,wr=this.matrix,Qg($,this.width),Jg($,this.height),Mt=this.outputDestination};var Q2=function(A,M,K,st,pt){Rn.push(new Kg),He=$=0,Lt=[],or=A,Te=M,wr=pt,Ug([K,st])},Eb=function(A){if(Tn[A])Rn.pop().restore();else{var M=new Kg,K="Xo"+(Object.keys(Ae).length+1).toString(10);M.id=K,Tn[A]=K,Ae[K]=M,$t.publish("addFormObject",M),Rn.pop().restore()}};for(var rf in f.beginFormObject=function(A,M,K,st,pt){return Q2(A,M,K,st,pt),this},f.endFormObject=function(A){return Eb(A),this},f.doFormObject=function(A,M){var K=Ae[Tn[A]];return et("q"),et(M.toString()+" cm"),et("/"+K.id+" Do"),et("Q"),this},f.getFormObject=function(A){var M=Ae[Tn[A]];return{x:M.x,y:M.y,width:M.width,height:M.height,matrix:M.matrix}},f.save=function(A,M){return A=A||"generated.pdf",(M=M||{}).returnPromise=M.returnPromise||!1,M.returnPromise===!1?(eh(Qd(Va()),A),typeof eh.unload=="function"&&ue.setTimeout&&setTimeout(eh.unload,911),this):new Promise(function(K,st){try{var pt=eh(Qd(Va()),A);typeof eh.unload=="function"&&ue.setTimeout&&setTimeout(eh.unload,911),K(pt)}catch(At){st(At.message)}})},le.API)le.API.hasOwnProperty(rf)&&(rf==="events"&&le.API.events.length?function(A,M){var K,st,pt;for(pt=M.length-1;pt!==-1;pt--)K=M[pt][0],st=M[pt][1],A.subscribe.apply(A,[K].concat(typeof st=="function"?[st]:st))}($t,le.API.events):f[rf]=le.API[rf]);var Wu=f.getPageWidth=function(A){return(fe[A=A||$].mediaBox.topRightX-fe[A].mediaBox.bottomLeftX)/Ht},Qg=f.setPageWidth=function(A,M){fe[A].mediaBox.topRightX=M*Ht+fe[A].mediaBox.bottomLeftX},nc=f.getPageHeight=function(A){return(fe[A=A||$].mediaBox.topRightY-fe[A].mediaBox.bottomLeftY)/Ht},Jg=f.setPageHeight=function(A,M){fe[A].mediaBox.topRightY=M*Ht+fe[A].mediaBox.bottomLeftY};return f.internal={pdfEscape:Ri,getStyle:$2,getFont:xb,getFontSize:zt,getCharSpace:_b,getTextColor:Sb,getLineHeight:G2,getLineHeightFactor:Y2,getLineWidth:tf,write:he,getHorizontalCoordinate:na,getVerticalCoordinate:Wa,getCoordinateString:Ab,getVerticalCoordinateString:ec,collections:{},newObject:lr,newAdditionalObject:Hd,newObjectDeferred:Kn,newObjectDeferredBegin:es,getFilters:Zo,putStream:Ms,events:$t,scaleFactor:Ht,pageSize:{getWidth:function(){return Wu($)},setWidth:function(A){Qg($,A)},getHeight:function(){return nc($)},setHeight:function(A){Jg($,A)}},encryptionOptions:h,encryption:Xr,getEncryptor:gb,output:Jd,getNumberOfPages:ub,pages:Lt,out:et,f2:Q,f3:P,getPageInfo:H2,getPageInfoByObjId:pe,getCurrentPageInfo:mb,getPDFVersion:v,Point:nf,Rectangle:Yg,Matrix:te,hasHotfix:q2},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Wu($)},set:function(A){Qg($,A)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return nc($)},set:function(A){Jg($,A)},enumerable:!0,configurable:!0}),lb.call(f,kt),xe="F1",B2(i,e),$t.publish("initialized"),f}Af.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},Af.prototype.toHexString=function(n){return n.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Af.prototype.hexToBytes=function(n){for(var t=[],e=0;e<n.length;e+=2)t.push(String.fromCharCode(parseInt(n.substr(e,2),16)));return t.join("")},Af.prototype.processOwnerPassword=function(n,t){return dS(hS(t).substr(0,5),n)},Af.prototype.encryptor=function(n,t){var e=hS(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return dS(e,r)}},O5.prototype.equals=function(n){var t,e="id,objectNumber,equals";if(!n||Je(n)!==Je(this))return!1;var r=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!n.hasOwnProperty(t)||this[t]!==n[t])return!1;r++}for(t in n)n.hasOwnProperty(t)&&e.indexOf(t)<0&&r--;return r===0},le.API={events:[]},le.version="3.0.1";var jn=le.API,Z_=1,zd=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},bf=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},me=function(n){return n.toFixed(2)},yc=function(n){return n.toFixed(5)};jn.__acroform__={};var Ji=function(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n},cN=function(n){return n*Z_},ca=function(n){var t=new RT,e=Jt.internal.getHeight(n)||0,r=Jt.internal.getWidth(n)||0;return t.BBox=[0,0,Number(me(r)),Number(me(e))],t},MU=jn.__acroform__.setBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<t},FU=jn.__acroform__.clearBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<t)},OU=jn.__acroform__.getBit=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<t?1:0},Wn=jn.__acroform__.getBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return OU(n,t-1)},Gn=jn.__acroform__.setBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return MU(n,t-1)},Xn=jn.__acroform__.clearBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return FU(n,t-1)},DU=jn.__acroform__.calculateCoordinates=function(n,t){var e=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=n[0],s=n[1],o=n[2],a=n[3],l={};return l.lowerLeft_X=e(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=e(i+o)||0,l.upperRight_Y=r(s)||0,[Number(me(l.lowerLeft_X)),Number(me(l.lowerLeft_Y)),Number(me(l.upperRight_X)),Number(me(l.upperRight_Y))]},jU=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var t=[],e=n._V||n.DV,r=fS(n,e),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(n.scope.__private__.encodeColorString(n.color)),t.push("/"+i+" "+me(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=ca(n);return s.scope=n.scope,s.stream=t.join(`
`),s}},fS=function(n,t){var e=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=n.multiline?i.map(function(P){return P.split(`
`)}):i.map(function(P){return[P]});var s=e,o=Jt.internal.getHeight(n)||0;o=o<0?-o:o;var a=Jt.internal.getWidth(n)||0;a=a<0?-a:a;var l=function(P,j,Y){if(P+1<i.length){var H=j+" "+i[P+1][0];return Wv(H,n,Y).width<=a-4}return!1};s++;t:for(;s>0;){t="",s--;var c,h,d=Wv("3",n,s).height,g=n.multiline?o-s:(o-d)/2,f=g+=2,w=0,v=0,x=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+Wv(t,n,s=12).width+", FieldWidth:"+a+`
`;break}for(var y="",b=0,_=0;_<i.length;_++)if(i.hasOwnProperty(_)){var N=!1;if(i[_].length!==1&&x!==i[_].length-1){if((d+2)*(b+2)+2>o)continue t;y+=i[_][x],N=!0,v=_,_--}else{y=(y+=i[_][x]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var L=parseInt(_),O=l(L,y,s),I=_>=i.length-1;if(O&&!I){y+=" ",x=0;continue}if(O||I){if(I)v=L;else if(n.multiline&&(d+2)*(b+2)+2>o)continue t}else{if(!n.multiline||(d+2)*(b+2)+2>o)continue t;v=L}}for(var D="",V=w;V<=v;V++){var Q=i[V];if(n.multiline){if(V===v){D+=Q[x]+" ",x=(x+1)%Q.length;continue}if(V===w){D+=Q[Q.length-1]+" ";continue}}D+=Q[0]+" "}switch(D=D.substr(D.length-1)==" "?D.substr(0,D.length-1):D,h=Wv(D,n,s).width,n.textAlign){case"right":c=a-h-2;break;case"center":c=(a-h)/2;break;case"left":default:c=2}t+=me(c)+" "+me(f)+` Td
`,t+="("+zd(D)+`) Tj
`,t+=-me(c)+` 0 Td
`,f=-(s+2),h=0,w=N?v:v+1,b++,y=""}break}return r.text=t,r.fontSize=s,r},Wv=function(n,t,e){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:i}},BU={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},zU=function(n,t){var e={type:"reference",object:n};t.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===e.type&&r.object===e.object})===void 0&&t.internal.getPageInfo(n.page).pageContext.annotations.push(e)},UU=function(n,t){for(var e in n)if(n.hasOwnProperty(e)){var r=e,i=n[e];t.internal.newObjectDeferredBegin(i.objId,!0),Je(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete n[r]}},qU=function(n,t){if(t.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(Ko.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(BU)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Z_=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new IT,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&zU(s,e)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(e){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=DU(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Jt.createDefaultAppearanceStream(a),Je(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var h=jU(a);l.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(a.appearanceStreamContent){var d="";for(var g in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(g)){var f=a.appearanceStreamContent[g];if(d+="/"+g+" ",d+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var w=f[o];typeof w=="function"&&(w=w.call(i,a)),d+="/"+o+" "+w+" ",i.internal.acroformPlugin.xForms.indexOf(w)>=0||i.internal.acroformPlugin.xForms.push(w)}}else typeof(w=f)=="function"&&(w=w.call(i,a)),d+="/"+o+" "+w,i.internal.acroformPlugin.xForms.indexOf(w)>=0||i.internal.acroformPlugin.xForms.push(w);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&UU(i.internal.acroformPlugin.xForms,i)})(e,n)}),n.internal.acroformPlugin.isInitialized=!0}},TT=jn.__acroform__.arrayToPdfArray=function(n,t,e){var r=function(o){return o};if(Array.isArray(n)){for(var i="[",s=0;s<n.length;s++)switch(s!==0&&(i+=" "),Je(n[s])){case"boolean":case"number":case"object":i+=n[s].toString();break;case"string":n[s].substr(0,1)!=="/"?(t!==void 0&&e&&(r=e.internal.getEncryptor(t)),i+="("+zd(r(n[s].toString()))+")"):i+=n[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Ix=function(n,t,e){var r=function(i){return i};return t!==void 0&&e&&(r=e.internal.getEncryptor(t)),(n=n||"").toString(),n="("+zd(r(n))+")"},Ma=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ma.prototype.toString=function(){return this.objId+" 0 R"},Ma.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Ma.prototype.getKeyValueListForStream=function(){var n=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var r=t[e],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:TT(i,this.objId,this.scope)}):i instanceof Ma?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var RT=function(){Ma.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){n=e.trim()},get:function(){return n||null}})};Ji(RT,Ma);var IT=function(){Ma.call(this);var n,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var e=function(r){return r};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+zd(e(n))+")"}},set:function(e){n=e}})};Ji(IT,Ma);var Ko=function n(){Ma.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');t=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Wn(t,3)},set:function(y){y?this.F=Gn(t,3):this.F=Xn(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');e=y}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(y){r=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(y){r[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(y){r[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(y){r[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(y){r[3]=y}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof D5)return;s="FieldObject"+n.FieldNum++}var y=function(b){return b};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+zd(y(s))+")"},set:function(y){s=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(y){s=y}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(y){a=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/Z_:c},set:function(y){c=y}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(y){h=y}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof D5||this instanceof Nd))return Ix(d,this.objId,this.scope)},set:function(y){y=y.toString(),d=y}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Tr?g:Ix(g,this.objId,this.scope)},set:function(y){y=y.toString(),g=this instanceof Tr?y:y.substr(0,1)==="("?bf(y.substr(1,y.length-2)):bf(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Tr?bf(g.substr(1,g.length-1)):g},set:function(y){y=y.toString(),g=this instanceof Tr?"/"+y:y}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Tr?f:Ix(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=this instanceof Tr?y:y.substr(0,1)==="("?bf(y.substr(1,y.length-2)):bf(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Tr?bf(f.substr(1,f.length-1)):f},set:function(y){y=y.toString(),f=this instanceof Tr?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var w,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(y){y=!!y,v=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(w)return w},set:function(y){w=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,1)},set:function(y){y?this.Ff=Gn(this.Ff,1):this.Ff=Xn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,2)},set:function(y){y?this.Ff=Gn(this.Ff,2):this.Ff=Xn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,3)},set:function(y){y?this.Ff=Gn(this.Ff,3):this.Ff=Xn(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');x=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(x){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:x=2;break;case"center":case 1:x=1;break;case"left":case 0:default:x=0}}})};Ji(Ko,Ma);var np=function(){Ko.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){n=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return TT(t,this.objId,this.scope)},set:function(e){var r,i;i=[],typeof(r=e)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,c=[];l=o.exec(s);)c.push(l[a]);return c}(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,r){for(r=r||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,18)},set:function(e){e?this.Ff=Gn(this.Ff,18):this.Ff=Xn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=Gn(this.Ff,19):this.Ff=Xn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,20)},set:function(e){e?(this.Ff=Gn(this.Ff,20),t.sort()):this.Ff=Xn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,22)},set:function(e){e?this.Ff=Gn(this.Ff,22):this.Ff=Xn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,23)},set:function(e){e?this.Ff=Gn(this.Ff,23):this.Ff=Xn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,27)},set:function(e){e?this.Ff=Gn(this.Ff,27):this.Ff=Xn(this.Ff,27)}}),this.hasAppearanceStream=!1};Ji(np,Ko);var rp=function(){np.call(this),this.fontName="helvetica",this.combo=!1};Ji(rp,np);var ip=function(){rp.call(this),this.combo=!0};Ji(ip,rp);var xy=function(){ip.call(this),this.edit=!0};Ji(xy,ip);var Tr=function(){Ko.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,15)},set:function(e){e?this.Ff=Gn(this.Ff,15):this.Ff=Xn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,16)},set:function(e){e?this.Ff=Gn(this.Ff,16):this.Ff=Xn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,17)},set:function(e){e?this.Ff=Gn(this.Ff,17):this.Ff=Xn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,26)},set:function(e){e?this.Ff=Gn(this.Ff,26):this.Ff=Xn(this.Ff,26)}});var n,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(s){return s};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+zd(e(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(e){Je(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}})};Ji(Tr,Ko);var Ay=function(){Tr.call(this),this.pushButton=!0};Ji(Ay,Tr);var sp=function(){Tr.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t!==void 0?t:[]}})};Ji(sp,Tr);var D5=function(){var n,t;Ko.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var e,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+zd(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Je(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(i){e="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Jt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ji(D5,Ko),sp.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=n.createAppearanceStream(e.optionName),e.caption=n.getCA()}},sp.prototype.createOption=function(n){var t=new D5;return t.Parent=this,t.optionName=n,this.Kids.push(t),HU.call(this.scope,t),t};var Sy=function(){Tr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Jt.CheckBox.createAppearanceStream()};Ji(Sy,Tr);var Nd=function(){Ko.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,13)},set:function(t){t?this.Ff=Gn(this.Ff,13):this.Ff=Xn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,21)},set:function(t){t?this.Ff=Gn(this.Ff,21):this.Ff=Xn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,23)},set:function(t){t?this.Ff=Gn(this.Ff,23):this.Ff=Xn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,24)},set:function(t){t?this.Ff=Gn(this.Ff,24):this.Ff=Xn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,25)},set:function(t){t?this.Ff=Gn(this.Ff,25):this.Ff=Xn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,26)},set:function(t){t?this.Ff=Gn(this.Ff,26):this.Ff=Xn(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){Number.isInteger(t)&&(n=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ji(Nd,Ko);var _y=function(){Nd.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,14)},set:function(n){n?this.Ff=Gn(this.Ff,14):this.Ff=Xn(this.Ff,14)}}),this.password=!0};Ji(_y,Nd);var Jt={CheckBox:{createAppearanceStream:function(){return{N:{On:Jt.CheckBox.YesNormal},D:{On:Jt.CheckBox.YesPushDown,Off:Jt.CheckBox.OffPushDown}}},YesPushDown:function(n){var t=ca(n);t.scope=n.scope;var e=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),s=fS(n,n.caption);return e.push("0.749023 g"),e.push("0 0 "+me(Jt.internal.getWidth(n))+" "+me(Jt.internal.getHeight(n))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+r+" "+me(s.fontSize)+" Tf "+i),e.push("BT"),e.push(s.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(n){var t=ca(n);t.scope=n.scope;var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],s=Jt.internal.getHeight(n),o=Jt.internal.getWidth(n),a=fS(n,n.caption);return i.push("1 g"),i.push("0 0 "+me(o)+" "+me(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+me(o-1)+" "+me(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+e+" "+me(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(n){var t=ca(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+me(Jt.internal.getWidth(n))+" "+me(Jt.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(n){var t={D:{Off:Jt.RadioButton.Circle.OffPushDown},N:{}};return t.N[n]=Jt.RadioButton.Circle.YesNormal,t.D[n]=Jt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(n){var t=ca(n);t.scope=n.scope;var e=[],r=Jt.internal.getWidth(n)<=Jt.internal.getHeight(n)?Jt.internal.getWidth(n)/4:Jt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Jt.internal.Bezier_C,s=Number((r*i).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+yc(Jt.internal.getWidth(n)/2)+" "+yc(Jt.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),e.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),e.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),e.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=ca(n);t.scope=n.scope;var e=[],r=Jt.internal.getWidth(n)<=Jt.internal.getHeight(n)?Jt.internal.getWidth(n)/4:Jt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Jt.internal.Bezier_C).toFixed(5)),o=Number((r*Jt.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+yc(Jt.internal.getWidth(n)/2)+" "+yc(Jt.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),e.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),e.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),e.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+yc(Jt.internal.getWidth(n)/2)+" "+yc(Jt.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),e.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),e.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),e.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(n){var t=ca(n);t.scope=n.scope;var e=[],r=Jt.internal.getWidth(n)<=Jt.internal.getHeight(n)?Jt.internal.getWidth(n)/4:Jt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Jt.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+yc(Jt.internal.getWidth(n)/2)+" "+yc(Jt.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),e.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),e.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),e.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(n){var t={D:{Off:Jt.RadioButton.Cross.OffPushDown},N:{}};return t.N[n]=Jt.RadioButton.Cross.YesNormal,t.D[n]=Jt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(n){var t=ca(n);t.scope=n.scope;var e=[],r=Jt.internal.calculateCross(n);return e.push("q"),e.push("1 1 "+me(Jt.internal.getWidth(n)-2)+" "+me(Jt.internal.getHeight(n)-2)+" re"),e.push("W"),e.push("n"),e.push(me(r.x1.x)+" "+me(r.x1.y)+" m"),e.push(me(r.x2.x)+" "+me(r.x2.y)+" l"),e.push(me(r.x4.x)+" "+me(r.x4.y)+" m"),e.push(me(r.x3.x)+" "+me(r.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=ca(n);t.scope=n.scope;var e=Jt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+me(Jt.internal.getWidth(n))+" "+me(Jt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+me(Jt.internal.getWidth(n)-2)+" "+me(Jt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(me(e.x1.x)+" "+me(e.x1.y)+" m"),r.push(me(e.x2.x)+" "+me(e.x2.y)+" l"),r.push(me(e.x4.x)+" "+me(e.x4.y)+" m"),r.push(me(e.x3.x)+" "+me(e.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(n){var t=ca(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+me(Jt.internal.getWidth(n))+" "+me(Jt.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(n){var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,e=n.scope.__private__.encodeColorString(n.color);return"/"+t+" "+n.fontSize+" Tf "+e}};Jt.internal={Bezier_C:.551915024494,calculateCross:function(n){var t=Jt.internal.getWidth(n),e=Jt.internal.getHeight(n),r=Math.min(t,e);return{x1:{x:(t-r)/2,y:(e-r)/2+r},x2:{x:(t-r)/2+r,y:(e-r)/2},x3:{x:(t-r)/2,y:(e-r)/2},x4:{x:(t-r)/2+r,y:(e-r)/2+r}}}},Jt.internal.getWidth=function(n){var t=0;return Je(n)==="object"&&(t=cN(n.Rect[2])),t},Jt.internal.getHeight=function(n){var t=0;return Je(n)==="object"&&(t=cN(n.Rect[3])),t};var HU=jn.addField=function(n){if(qU(this,n),!(n instanceof Ko))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=n).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};jn.AcroFormChoiceField=np,jn.AcroFormListBox=rp,jn.AcroFormComboBox=ip,jn.AcroFormEditBox=xy,jn.AcroFormButton=Tr,jn.AcroFormPushButton=Ay,jn.AcroFormRadioButton=sp,jn.AcroFormCheckBox=Sy,jn.AcroFormTextField=Nd,jn.AcroFormPasswordField=_y,jn.AcroFormAppearance=Jt,jn.AcroForm={ChoiceField:np,ListBox:rp,ComboBox:ip,EditBox:xy,Button:Tr,PushButton:Ay,RadioButton:sp,CheckBox:Sy,TextField:Nd,PasswordField:_y,Appearance:Jt},le.AcroForm={ChoiceField:np,ListBox:rp,ComboBox:ip,EditBox:xy,Button:Tr,PushButton:Ay,RadioButton:sp,CheckBox:Sy,TextField:Nd,PasswordField:_y,Appearance:Jt};le.AcroForm;function MT(n){return n.reduce(function(t,e,r){return t[e]=r,t},{})}(function(n){n.__addimage__={};var t="UNKNOWN",e={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(P,j){var Y,H,dt,J,rt,W=t;if((j=j||t)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(O(P))for(rt in e)for(dt=e[rt],Y=0;Y<dt.length;Y+=1){for(J=!0,H=0;H<dt[Y].length;H+=1)if(dt[Y][H]!==void 0&&dt[Y][H]!==P[H]){J=!1;break}if(J===!0){W=rt;break}}else for(rt in e)for(dt=e[rt],Y=0;Y<dt.length;Y+=1){for(J=!0,H=0;H<dt[Y].length;H+=1)if(dt[Y][H]!==void 0&&dt[Y][H]!==P.charCodeAt(H)){J=!1;break}if(J===!0){W=rt;break}}return W===t&&j!==t&&(W=j),W},i=function P(j){for(var Y=this.internal.write,H=this.internal.putStream,dt=(0,this.internal.getFilters)();dt.indexOf("FlateEncode")!==-1;)dt.splice(dt.indexOf("FlateEncode"),1);j.objectId=this.internal.newObject();var J=[];if(J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Image"}),J.push({key:"Width",value:j.width}),J.push({key:"Height",value:j.height}),j.colorSpace===x.INDEXED?J.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(j.palette.length/3-1)+" "+("sMask"in j&&j.sMask!==void 0?j.objectId+2:j.objectId+1)+" 0 R]"}):(J.push({key:"ColorSpace",value:"/"+j.colorSpace}),j.colorSpace===x.DEVICE_CMYK&&J.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),J.push({key:"BitsPerComponent",value:j.bitsPerComponent}),"decodeParameters"in j&&j.decodeParameters!==void 0&&J.push({key:"DecodeParms",value:"<<"+j.decodeParameters+">>"}),"transparency"in j&&Array.isArray(j.transparency)){for(var rt="",W=0,tt=j.transparency.length;W<tt;W++)rt+=j.transparency[W]+" "+j.transparency[W]+" ";J.push({key:"Mask",value:"["+rt+"]"})}j.sMask!==void 0&&J.push({key:"SMask",value:j.objectId+1+" 0 R"});var ct=j.filter!==void 0?["/"+j.filter]:void 0;if(H({data:j.data,additionalKeyValues:J,alreadyAppliedFilters:ct,objectId:j.objectId}),Y("endobj"),"sMask"in j&&j.sMask!==void 0){var St="/Predictor "+j.predictor+" /Colors 1 /BitsPerComponent "+j.bitsPerComponent+" /Columns "+j.width,T={width:j.width,height:j.height,colorSpace:"DeviceGray",bitsPerComponent:j.bitsPerComponent,decodeParameters:St,data:j.sMask};"filter"in j&&(T.filter=j.filter),P.call(this,T)}if(j.colorSpace===x.INDEXED){var $=this.internal.newObject();H({data:D(new Uint8Array(j.palette)),objectId:$}),Y("endobj")}},s=function(){var P=this.internal.collections.addImage_images;for(var j in P)i.call(this,P[j])},o=function(){var P,j=this.internal.collections.addImage_images,Y=this.internal.write;for(var H in j)Y("/I"+(P=j[H]).index,P.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var P=this.internal.collections.addImage_images;return a.call(this),P},c=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(P){return typeof n["process"+P.toUpperCase()]=="function"},d=function(P){return Je(P)==="object"&&P.nodeType===1},g=function(P,j){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var Y=""+P.getAttribute("src");if(Y.indexOf("data:image/")===0)return h0(unescape(Y).split("base64,").pop());var H=n.loadFile(Y,!0);if(H!==void 0)return H}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var dt;switch(j){case"PNG":dt="image/png";break;case"WEBP":dt="image/webp";break;case"JPEG":case"JPG":default:dt="image/jpeg"}return h0(P.toDataURL(dt,1).split("base64,").pop())}},f=function(P){var j=this.internal.collections.addImage_images;if(j){for(var Y in j)if(P===j[Y].alias)return j[Y]}},w=function(P,j,Y){return P||j||(P=-96,j=-96),P<0&&(P=-1*Y.width*72/P/this.internal.scaleFactor),j<0&&(j=-1*Y.height*72/j/this.internal.scaleFactor),P===0&&(P=j*Y.width/Y.height),j===0&&(j=P*Y.height/Y.width),[P,j]},v=function(P,j,Y,H,dt,J){var rt=w.call(this,Y,H,dt),W=this.internal.getCoordinateString,tt=this.internal.getVerticalCoordinateString,ct=l.call(this);if(Y=rt[0],H=rt[1],ct[dt.index]=dt,J){J*=Math.PI/180;var St=Math.cos(J),T=Math.sin(J),$=function(nt){return nt.toFixed(4)},X=[$(St),$(T),$(-1*T),$(St),0,0,"cm"]}this.internal.write("q"),J?(this.internal.write([1,"0","0",1,W(P),tt(j+H),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([W(Y),"0","0",W(H),"0","0","cm"].join(" "))):this.internal.write([W(Y),"0","0",W(H),W(P),tt(j+H),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+dt.index+" Do"),this.internal.write("Q")},x=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=n.__addimage__.sHashCode=function(P){var j,Y,H=0;if(typeof P=="string")for(Y=P.length,j=0;j<Y;j++)H=(H<<5)-H+P.charCodeAt(j),H|=0;else if(O(P))for(Y=P.byteLength/2,j=0;j<Y;j++)H=(H<<5)-H+P[j],H|=0;return H},_=n.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var j=!0;return P.length===0&&(j=!1),P.length%4!=0&&(j=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(j=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(j=!1),j},N=n.__addimage__.extractImageFromDataUrl=function(P){if(P==null||!(P=P.trim()).startsWith("data:"))return null;var j=P.indexOf(",");return j<0?null:P.substring(0,j).trim().endsWith("base64")?P.substring(j+1):null},L=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(P){return L()&&P instanceof ArrayBuffer};var O=n.__addimage__.isArrayBufferView=function(P){return L()&&typeof Uint32Array<"u"&&(P instanceof Int8Array||P instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array)},I=n.__addimage__.binaryStringToUint8Array=function(P){for(var j=P.length,Y=new Uint8Array(j),H=0;H<j;H++)Y[H]=P.charCodeAt(H);return Y},D=n.__addimage__.arrayBufferToBinaryString=function(P){for(var j="",Y=O(P)?P:new Uint8Array(P),H=0;H<Y.length;H+=8192)j+=String.fromCharCode.apply(null,Y.subarray(H,H+8192));return j};n.addImage=function(){var P,j,Y,H,dt,J,rt,W,tt;if(typeof arguments[1]=="number"?(j=t,Y=arguments[1],H=arguments[2],dt=arguments[3],J=arguments[4],rt=arguments[5],W=arguments[6],tt=arguments[7]):(j=arguments[1],Y=arguments[2],H=arguments[3],dt=arguments[4],J=arguments[5],rt=arguments[6],W=arguments[7],tt=arguments[8]),Je(P=arguments[0])==="object"&&!d(P)&&"imageData"in P){var ct=P;P=ct.imageData,j=ct.format||j||t,Y=ct.x||Y||0,H=ct.y||H||0,dt=ct.w||ct.width||dt,J=ct.h||ct.height||J,rt=ct.alias||rt,W=ct.compression||W,tt=ct.rotation||ct.angle||tt}var St=this.internal.getFilters();if(W===void 0&&St.indexOf("FlateEncode")!==-1&&(W="SLOW"),isNaN(Y)||isNaN(H))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var T=V.call(this,P,j,rt,W);return v.call(this,Y,H,dt,J,T,tt),this};var V=function(P,j,Y,H){var dt,J,rt;if(typeof P=="string"&&r(P)===t){P=unescape(P);var W=Q(P,!1);(W!==""||(W=n.loadFile(P,!0))!==void 0)&&(P=W)}if(d(P)&&(P=g(P,j)),j=r(P,j),!h(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(((rt=Y)==null||rt.length===0)&&(Y=function(tt){return typeof tt=="string"||O(tt)?b(tt):O(tt.data)?b(tt.data):null}(P)),(dt=f.call(this,Y))||(L()&&(P instanceof Uint8Array||j==="RGBA"||(J=P,P=I(P))),dt=this["process"+j.toUpperCase()](P,c.call(this),Y,function(tt){return tt&&typeof tt=="string"&&(tt=tt.toUpperCase()),tt in n.image_compression?tt:y.NONE}(H),J)),!dt)throw new Error("An unknown error occurred whilst processing the image.");return dt},Q=n.__addimage__.convertBase64ToBinaryString=function(P,j){j=typeof j!="boolean"||j;var Y,H="";if(typeof P=="string"){var dt;Y=(dt=N(P))!==null&&dt!==void 0?dt:P;try{H=h0(Y)}catch(J){if(j)throw _(Y)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+J.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return H};n.getImageProperties=function(P){var j,Y,H="";if(d(P)&&(P=g(P)),typeof P=="string"&&r(P)===t&&((H=Q(P,!1))===""&&(H=n.loadFile(P)||""),P=H),Y=r(P),!h(Y))throw new Error("addImage does not support files of type '"+Y+"', please ensure that a plugin for '"+Y+"' support is added.");if(!L()||P instanceof Uint8Array||(P=I(P)),!(j=this["process"+Y.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return j.fileType=Y,j}})(le.API),function(n){var t=function(e){if(e!==void 0&&e!="")return!0};le.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(e){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(e.objId),c=e.pageContext.annotations,h=!1,d=0;d<c.length&&!h;d++)switch((r=c[d]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var g=0;g<c.length;g++){r=c[g];var f=this.internal.pdfEscape,w=this.internal.getEncryptor(e.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(v.objId),b=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+f(y(r.contents))+")",s+=" /Popup "+x.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+f(y(b))+") >>",v.content=s;var _=v.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+_,r.open&&(s+=" /Open true"),s+=" >>",x.content=s,this.internal.write(v.objId,"0 R",x.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var N=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(w(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+N+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var L=this.annotations._nameMap[r.options.name];r.options.pageNumber=L.page,r.options.top=L.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(w(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var O=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+O+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(e){var r=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":r.pageContext.annotations.push(e)}},n.link=function(e,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(e),y:c(r),w:l(e+i),h:c(r+s)},options:o,type:"link"})},n.textWithLink=function(e,r,i,s){var o,a,l=this.getTextWidth(e),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var h=this.splitTextToSize(e,a).length;o=Math.ceil(c*h)}else a=l,o=c;return this.text(e,r,i,s),i+=.2*c,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-c,a,o,s),l},n.getTextWidth=function(e){var r=this.internal.getFontSize();return this.getStringUnitWidth(e)*r/this.internal.scaleFactor}}(le.API),function(n){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(v){return t[v.charCodeAt(0)]!==void 0},o=n.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},a=n.__arabicParser__.isArabicEndLetter=function(v){return o(v)&&s(v)&&t[v.charCodeAt(0)].length<=2},l=n.__arabicParser__.isArabicAlfLetter=function(v){return o(v)&&i.indexOf(v.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return o(v)&&s(v)&&t[v.charCodeAt(0)].length>=1};var c=n.__arabicParser__.arabicLetterHasFinalForm=function(v){return o(v)&&s(v)&&t[v.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(v){return o(v)&&s(v)&&t[v.charCodeAt(0)].length>=3};var h=n.__arabicParser__.arabicLetterHasMedialForm=function(v){return o(v)&&s(v)&&t[v.charCodeAt(0)].length==4},d=n.__arabicParser__.resolveLigatures=function(v){var x=0,y=e,b="",_=0;for(x=0;x<v.length;x+=1)y[v.charCodeAt(x)]!==void 0?(_++,typeof(y=y[v.charCodeAt(x)])=="number"&&(b+=String.fromCharCode(y),y=e,_=0),x===v.length-1&&(y=e,b+=v.charAt(x-(_-1)),x-=_-1,_=0)):(y=e,b+=v.charAt(x-_),x-=_,_=0);return b};n.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&r[v.charCodeAt(0)]!==void 0};var g=n.__arabicParser__.getCorrectForm=function(v,x,y){return o(v)?s(v)===!1?-1:!c(v)||!o(x)&&!o(y)||!o(y)&&a(x)||a(v)&&!o(x)||a(v)&&l(x)||a(v)&&a(x)?0:h(v)&&o(x)&&!a(x)&&o(y)&&c(y)?3:a(v)||!o(y)?1:2:-1},f=function(v){var x=0,y=0,b=0,_="",N="",L="",O=(v=v||"").split("\\s+"),I=[];for(x=0;x<O.length;x+=1){for(I.push(""),y=0;y<O[x].length;y+=1)_=O[x][y],N=O[x][y-1],L=O[x][y+1],o(_)?(b=g(_,N,L),I[x]+=b!==-1?String.fromCharCode(t[_.charCodeAt(0)][b]):_):I[x]+=_;I[x]=d(I[x])}return I.join(" ")},w=n.__arabicParser__.processArabic=n.processArabic=function(){var v,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(x)){var b=0;for(y=[],b=0;b<x.length;b+=1)Array.isArray(x[b])?y.push([f(x[b][0]),x[b][1],x[b][2]]):y.push([f(x[b])]);v=y}else v=f(x);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};n.events.push(["preProcessText",w])}(le.API),le.API.autoPrint=function(n){var t;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(n){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(a){e=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,r){var i;if((e=e||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(le.API),function(n){var t={left:0,top:0,bottom:0,right:0},e=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(v){l=v}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(v){c=v}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(v){h=v}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(v){d=v}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(v){g=v}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(v){f=v}});var w=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return w},set:function(v){w=v}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},n.getTextDimensions=function(l,c){r.call(this);var h=(c=c||{}).fontSize||this.getFontSize(),d=c.font||this.getFont(),g=c.scaleFactor||this.internal.scaleFactor,f=0,w=0,v=0,x=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=c.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(_,N){return _.concat(x.splitTextToSize(N,y))},[])):l=Array.isArray(l)?l:[l];for(var b=0;b<l.length;b++)f<(v=this.getStringUnitWidth(l[b],{font:d})*h)&&(f=v);return f!==0&&(w=l.length),{w:f/=g,h:Math.max((w*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/g,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=n.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,d=this.internal.__cell__.margins||t,g=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,f&&g&&(this.printHeaderRow(l.lineNumber,!0),l.y+=g[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,e===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-h,l.y+h,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+h,{align:"center",baseline:"top",maxWidth:l.width-h-h}):this.text(l.text,l.x+h,l.y+h,{align:"left",baseline:"top",maxWidth:l.width-h-h})),this.internal.__cell__.lastCell=l,this};n.table=function(l,c,h,d,g){if(r.call(this),!h)throw new Error("No data for PDF table.");var f,w,v,x,y=[],b=[],_=[],N={},L={},O=[],I=[],D=(g=g||{}).autoSize||!1,V=g.printHeaders!==!1,Q=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,P=g.margins||Object.assign({width:this.getPageWidth()},t),j=typeof g.padding=="number"?g.padding:3,Y=g.headerBackgroundColor||"#c8c8c8",H=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=V,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=Q,this.internal.__cell__.padding=j,this.internal.__cell__.headerBackgroundColor=Y,this.internal.__cell__.headerTextColor=H,this.setFontSize(Q),d==null)b=y=Object.keys(h[0]),_=y.map(function(){return"left"});else if(Array.isArray(d)&&Je(d[0])==="object")for(y=d.map(function(ct){return ct.name}),b=d.map(function(ct){return ct.prompt||ct.name||""}),_=d.map(function(ct){return ct.align||"left"}),f=0;f<d.length;f+=1)L[d[f].name]=d[f].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(b=y=d,_=y.map(function(){return"left"}));if(D||Array.isArray(d)&&typeof d[0]=="string")for(f=0;f<y.length;f+=1){for(N[x=y[f]]=h.map(function(ct){return ct[x]}),this.setFont(void 0,"bold"),O.push(this.getTextDimensions(b[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),w=N[x],this.setFont(void 0,"normal"),v=0;v<w.length;v+=1)O.push(this.getTextDimensions(w[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);L[x]=Math.max.apply(null,O)+j+j,O=[]}if(V){var dt={};for(f=0;f<y.length;f+=1)dt[y[f]]={},dt[y[f]].text=b[f],dt[y[f]].align=_[f];var J=a.call(this,dt,L);I=y.map(function(ct){return new s(l,c,L[ct],J,dt[ct].text,void 0,dt[ct].align)}),this.setTableHeaderRow(I),this.printHeaderRow(1,!1)}var rt=d.reduce(function(ct,St){return ct[St.name]=St.align,ct},{});for(f=0;f<h.length;f+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:f,data:h[f]},this);var W=a.call(this,h[f],L);for(v=0;v<y.length;v+=1){var tt=h[f][y[v]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:f,col:v,data:tt},this),o.call(this,new s(l,c,L[y[v]],W,tt,f+2,rt[y[v]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var h=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(l).map(function(f){var w=l[f];return this.splitTextToSize(w.hasOwnProperty("text")?w.text:w,c[f]-h-h)},this).map(function(f){return this.getLineHeightFactor()*f.length*d/g+h+h},this).reduce(function(f,w){return Math.max(f,w)},0)};n.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},n.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){h=this.internal.__cell__.tableHeaderRow[f].clone(),c&&(h.y=this.internal.__cell__.margins.top||0,g.push(h)),h.lineNumber=l;var w=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,h),this.setTextColor(w)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),e=!1}}(le.API);var FT={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},OT=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],pS=MT(OT),DT=[100,200,300,400,500,600,700,800,900],$U=MT(DT);function gS(n){var t=n.family.replace(/"|'/g,"").toLowerCase(),e=function(s){return FT[s=s||"normal"]?s:"normal"}(n.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(n.weight),i=function(s){return typeof pS[s=s||"normal"]=="number"?s:"normal"}(n.stretch);return{family:t,style:e,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:t,style:[i,e,r].join(" ")}}}function uN(n,t,e,r){var i;for(i=e;i>=0&&i<t.length;i+=r)if(n[t[i]])return n[t[i]];for(i=e;i>=0&&i<t.length;i-=r)if(n[t[i]])return n[t[i]]}var VU={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},hN={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function dN(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function WU(n,t,e){for(var r=(e=e||{}).defaultFontFamily||"times",i=Object.assign({},VU,e.genericFontFamilies||{}),s=null,o=null,a=0;a<t.length;++a)if(i[(s=gS(t[a])).family]&&(s.family=i[s.family]),n.hasOwnProperty(s.family)){o=n[s.family];break}if(!(o=o||n[r]))throw new Error("Could not find a font-family for the rule '"+dN(s)+"' and default family '"+r+"'.");if(o=function(l,c){if(c[l])return c[l];var h=pS[l],d=h<=pS.normal?-1:1,g=uN(c,OT,h,d);if(!g)throw new Error("Could not find a matching font-stretch value for "+l);return g}(s.stretch,o),o=function(l,c){if(c[l])return c[l];for(var h=FT[l],d=0;d<h.length;++d)if(c[h[d]])return c[h[d]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var h=$U[l],d=uN(c,DT,h,l<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+l);return d}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+dN(s)+"'.");return o}function fN(n){return n.trimLeft()}function GU(n,t){for(var e=0;e<n.length;){if(n.charAt(e)===t)return[n.substring(0,e),n.substring(e+1)];e+=1}return null}function XU(n){var t=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],n.substring(t[0].length)]}var Gv,pN,gN,Mx=["times"];(function(n){var t,e,r,i,s,o,a,l,c,h=function(T){return T=T||{},this.isStrokeTransparent=T.isStrokeTransparent||!1,this.strokeOpacity=T.strokeOpacity||1,this.strokeStyle=T.strokeStyle||"#000000",this.fillStyle=T.fillStyle||"#000000",this.isFillTransparent=T.isFillTransparent||!1,this.fillOpacity=T.fillOpacity||1,this.font=T.font||"10px sans-serif",this.textBaseline=T.textBaseline||"alphabetic",this.textAlign=T.textAlign||"left",this.lineWidth=T.lineWidth||1,this.lineJoin=T.lineJoin||"miter",this.lineCap=T.lineCap||"butt",this.path=T.path||[],this.transform=T.transform!==void 0?T.transform.clone():new l,this.globalCompositeOperation=T.globalCompositeOperation||"normal",this.globalAlpha=T.globalAlpha||1,this.clip_path=T.clip_path||[],this.currentPoint=T.currentPoint||new o,this.miterLimit=T.miterLimit||10,this.lastPoint=T.lastPoint||new o,this.lineDashOffset=T.lineDashOffset||0,this.lineDash=T.lineDash||[],this.margin=T.margin||[0,0,0,0],this.prevPageLastElemOffset=T.prevPageLastElemOffset||0,this.ignoreClearRect=typeof T.ignoreClearRect!="boolean"||T.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new d(this),t=this.internal.f2,e=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new h}]);var d=function(T){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var $=T;Object.defineProperty(this,"pdf",{get:function(){return $}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(xt){X=!!xt}});var nt=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return nt},set:function(xt){nt=!!xt}});var ot=0;Object.defineProperty(this,"posX",{get:function(){return ot},set:function(xt){isNaN(xt)||(ot=xt)}});var at=0;Object.defineProperty(this,"posY",{get:function(){return at},set:function(xt){isNaN(xt)||(at=xt)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(xt){var et;typeof xt=="number"?et=[xt,xt,xt,xt]:((et=new Array(4))[0]=xt[0],et[1]=xt.length>=2?xt[1]:et[0],et[2]=xt.length>=3?xt[2]:et[0],et[3]=xt.length>=4?xt[3]:et[1]),c.margin=et}});var vt=!1;Object.defineProperty(this,"autoPaging",{get:function(){return vt},set:function(xt){vt=xt}});var yt=0;Object.defineProperty(this,"lastBreak",{get:function(){return yt},set:function(xt){yt=xt}});var Tt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Tt},set:function(xt){Tt=xt}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(xt){xt instanceof h&&(c=xt)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(xt){c.path=xt}});var Lt=[];Object.defineProperty(this,"ctxStack",{get:function(){return Lt},set:function(xt){Lt=xt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(xt){var et;et=g(xt),this.ctx.fillStyle=et.style,this.ctx.isFillTransparent=et.a===0,this.ctx.fillOpacity=et.a,this.pdf.setFillColor(et.r,et.g,et.b,{a:et.a}),this.pdf.setTextColor(et.r,et.g,et.b,{a:et.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(xt){var et=g(xt);this.ctx.strokeStyle=et.style,this.ctx.isStrokeTransparent=et.a===0,this.ctx.strokeOpacity=et.a,et.a===0?this.pdf.setDrawColor(255,255,255):(et.a,this.pdf.setDrawColor(et.r,et.g,et.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(xt){["butt","round","square"].indexOf(xt)!==-1&&(this.ctx.lineCap=xt,this.pdf.setLineCap(xt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(xt){isNaN(xt)||(this.ctx.lineWidth=xt,this.pdf.setLineWidth(xt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(xt){["bevel","round","miter"].indexOf(xt)!==-1&&(this.ctx.lineJoin=xt,this.pdf.setLineJoin(xt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(xt){isNaN(xt)||(this.ctx.miterLimit=xt,this.pdf.setMiterLimit(xt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(xt){this.ctx.textBaseline=xt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(xt){["right","end","center","left","start"].indexOf(xt)!==-1&&(this.ctx.textAlign=xt)}});var Ft=null;function Mt(xt,et){if(Ft===null){var he=function(Yt){var kt=[];return Object.keys(Yt).forEach(function(Dt){Yt[Dt].forEach(function(Bt){var zt=null;switch(Bt){case"bold":zt={family:Dt,weight:"bold"};break;case"italic":zt={family:Dt,style:"italic"};break;case"bolditalic":zt={family:Dt,weight:"bold",style:"italic"};break;case"":case"normal":zt={family:Dt}}zt!==null&&(zt.ref={name:Dt,style:Bt},kt.push(zt))})}),kt}(xt.getFontList());Ft=function(Yt){for(var kt={},Dt=0;Dt<Yt.length;++Dt){var Bt=gS(Yt[Dt]),zt=Bt.family,Zt=Bt.stretch,de=Bt.style,we=Bt.weight;kt[zt]=kt[zt]||{},kt[zt][Zt]=kt[zt][Zt]||{},kt[zt][Zt][de]=kt[zt][Zt][de]||{},kt[zt][Zt][de][we]=Bt}return kt}(he.concat(et))}return Ft}var ne=null;Object.defineProperty(this,"fontFaces",{get:function(){return ne},set:function(xt){Ft=null,ne=xt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(xt){var et;if(this.ctx.font=xt,(et=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(xt))!==null){var he=et[1];et[2];var Yt=et[3],kt=et[4];et[5];var Dt=et[6],Bt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(kt)[2];kt=Math.floor(Bt==="px"?parseFloat(kt)*this.pdf.internal.scaleFactor:Bt==="em"?parseFloat(kt)*this.pdf.getFontSize():parseFloat(kt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(kt);var zt=function(ce){var xe,Ht,or=[],Te=ce.trim();if(Te==="")return Mx;if(Te in hN)return[hN[Te]];for(;Te!=="";){switch(Ht=null,xe=(Te=fN(Te)).charAt(0)){case'"':case"'":Ht=GU(Te.substring(1),xe);break;default:Ht=XU(Te)}if(Ht===null||(or.push(Ht[0]),(Te=fN(Ht[1]))!==""&&Te.charAt(0)!==","))return Mx;Te=Te.replace(/^,/,"")}return or}(Dt);if(this.fontFaces){var Zt=WU(Mt(this.pdf,this.fontFaces),zt.map(function(ce){return{family:ce,stretch:"normal",weight:Yt,style:he}}));this.pdf.setFont(Zt.ref.name,Zt.ref.style)}else{var de="";(Yt==="bold"||parseInt(Yt,10)>=700||he==="bold")&&(de="bold"),he==="italic"&&(de+="italic"),de.length===0&&(de="normal");for(var we="",oe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ne=0;Ne<zt.length;Ne++){if(this.pdf.internal.getFont(zt[Ne],de,{noFallback:!0,disableWarning:!0})!==void 0){we=zt[Ne];break}if(de==="bolditalic"&&this.pdf.internal.getFont(zt[Ne],"bold",{noFallback:!0,disableWarning:!0})!==void 0)we=zt[Ne],de="bold";else if(this.pdf.internal.getFont(zt[Ne],"normal",{noFallback:!0,disableWarning:!0})!==void 0){we=zt[Ne],de="normal";break}}if(we===""){for(var We=0;We<zt.length;We++)if(oe[zt[We]]){we=oe[zt[We]];break}}we=we===""?"Times":we,this.pdf.setFont(we,de)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(xt){this.ctx.globalCompositeOperation=xt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(xt){this.ctx.globalAlpha=xt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(xt){this.ctx.lineDashOffset=xt,St.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(xt){this.ctx.lineDash=xt,St.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(xt){this.ctx.ignoreClearRect=!!xt}})};d.prototype.setLineDash=function(T){this.lineDash=T},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){N.call(this,"fill",!1)},d.prototype.stroke=function(){N.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(T,$){if(isNaN(T)||isNaN($))throw an.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new o(T,$));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new o(T,$)},d.prototype.closePath=function(){var T=new o(0,0),$=0;for($=this.path.length-1;$!==-1;$--)if(this.path[$].type==="begin"&&Je(this.path[$+1])==="object"&&typeof this.path[$+1].x=="number"){T=new o(this.path[$+1].x,this.path[$+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(T.x,T.y)},d.prototype.lineTo=function(T,$){if(isNaN(T)||isNaN($))throw an.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new o(T,$));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new o(X.x,X.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),N.call(this,null,!0)},d.prototype.quadraticCurveTo=function(T,$,X,nt){if(isNaN(X)||isNaN(nt)||isNaN(T)||isNaN($))throw an.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ot=this.ctx.transform.applyToPoint(new o(X,nt)),at=this.ctx.transform.applyToPoint(new o(T,$));this.path.push({type:"qct",x1:at.x,y1:at.y,x:ot.x,y:ot.y}),this.ctx.lastPoint=new o(ot.x,ot.y)},d.prototype.bezierCurveTo=function(T,$,X,nt,ot,at){if(isNaN(ot)||isNaN(at)||isNaN(T)||isNaN($)||isNaN(X)||isNaN(nt))throw an.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var vt=this.ctx.transform.applyToPoint(new o(ot,at)),yt=this.ctx.transform.applyToPoint(new o(T,$)),Tt=this.ctx.transform.applyToPoint(new o(X,nt));this.path.push({type:"bct",x1:yt.x,y1:yt.y,x2:Tt.x,y2:Tt.y,x:vt.x,y:vt.y}),this.ctx.lastPoint=new o(vt.x,vt.y)},d.prototype.arc=function(T,$,X,nt,ot,at){if(isNaN(T)||isNaN($)||isNaN(X)||isNaN(nt)||isNaN(ot))throw an.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(at=!!at,!this.ctx.transform.isIdentity){var vt=this.ctx.transform.applyToPoint(new o(T,$));T=vt.x,$=vt.y;var yt=this.ctx.transform.applyToPoint(new o(0,X)),Tt=this.ctx.transform.applyToPoint(new o(0,0));X=Math.sqrt(Math.pow(yt.x-Tt.x,2)+Math.pow(yt.y-Tt.y,2))}Math.abs(ot-nt)>=2*Math.PI&&(nt=0,ot=2*Math.PI),this.path.push({type:"arc",x:T,y:$,radius:X,startAngle:nt,endAngle:ot,counterclockwise:at})},d.prototype.arcTo=function(T,$,X,nt,ot){throw new Error("arcTo not implemented.")},d.prototype.rect=function(T,$,X,nt){if(isNaN(T)||isNaN($)||isNaN(X)||isNaN(nt))throw an.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(T,$),this.lineTo(T+X,$),this.lineTo(T+X,$+nt),this.lineTo(T,$+nt),this.lineTo(T,$),this.lineTo(T+X,$),this.lineTo(T,$)},d.prototype.fillRect=function(T,$,X,nt){if(isNaN(T)||isNaN($)||isNaN(X)||isNaN(nt))throw an.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var ot={};this.lineCap!=="butt"&&(ot.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ot.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(T,$,X,nt),this.fill(),ot.hasOwnProperty("lineCap")&&(this.lineCap=ot.lineCap),ot.hasOwnProperty("lineJoin")&&(this.lineJoin=ot.lineJoin)}},d.prototype.strokeRect=function(T,$,X,nt){if(isNaN(T)||isNaN($)||isNaN(X)||isNaN(nt))throw an.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");w.call(this)||(this.beginPath(),this.rect(T,$,X,nt),this.stroke())},d.prototype.clearRect=function(T,$,X,nt){if(isNaN(T)||isNaN($)||isNaN(X)||isNaN(nt))throw an.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(T,$,X,nt))},d.prototype.save=function(T){T=typeof T!="boolean"||T;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage($),T){this.ctx.fontSize=this.pdf.internal.getFontSize();var nt=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=nt}},d.prototype.restore=function(T){T=typeof T!="boolean"||T;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage($),T&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(T){var $,X,nt,ot;if(T.isCanvasGradient===!0&&(T=T.getColor()),!T)return{r:0,g:0,b:0,a:0,style:T};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(T))$=0,X=0,nt=0,ot=0;else{var at=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(T);if(at!==null)$=parseInt(at[1]),X=parseInt(at[2]),nt=parseInt(at[3]),ot=1;else if((at=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(T))!==null)$=parseInt(at[1]),X=parseInt(at[2]),nt=parseInt(at[3]),ot=parseFloat(at[4]);else{if(ot=1,typeof T=="string"&&T.charAt(0)!=="#"){var vt=new LT(T);T=vt.ok?vt.toHex():"#000000"}T.length===4?($=T.substring(1,2),$+=$,X=T.substring(2,3),X+=X,nt=T.substring(3,4),nt+=nt):($=T.substring(1,3),X=T.substring(3,5),nt=T.substring(5,7)),$=parseInt($,16),X=parseInt(X,16),nt=parseInt(nt,16)}}return{r:$,g:X,b:nt,a:ot,style:T}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},w=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(T,$,X,nt){if(isNaN($)||isNaN(X)||typeof T!="string")throw an.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(nt=isNaN(nt)?void 0:nt,!f.call(this)){var ot=W(this.ctx.transform.rotation),at=this.ctx.transform.scaleX;j.call(this,{text:T,x:$,y:X,scale:at,angle:ot,align:this.textAlign,maxWidth:nt})}},d.prototype.strokeText=function(T,$,X,nt){if(isNaN($)||isNaN(X)||typeof T!="string")throw an.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!w.call(this)){nt=isNaN(nt)?void 0:nt;var ot=W(this.ctx.transform.rotation),at=this.ctx.transform.scaleX;j.call(this,{text:T,x:$,y:X,scale:at,renderingMode:"stroke",angle:ot,align:this.textAlign,maxWidth:nt})}},d.prototype.measureText=function(T){if(typeof T!="string")throw an.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var $=this.pdf,X=this.pdf.internal.scaleFactor,nt=$.internal.getFontSize(),ot=$.getStringUnitWidth(T)*nt/$.internal.scaleFactor,at=function(vt){var yt=(vt=vt||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return yt}}),this};return new at({width:ot*=Math.round(96*X/72*1e4)/1e4})},d.prototype.scale=function(T,$){if(isNaN(T)||isNaN($))throw an.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new l(T,0,0,$,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},d.prototype.rotate=function(T){if(isNaN(T))throw an.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var $=new l(Math.cos(T),Math.sin(T),-Math.sin(T),Math.cos(T),0,0);this.ctx.transform=this.ctx.transform.multiply($)},d.prototype.translate=function(T,$){if(isNaN(T)||isNaN($))throw an.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new l(1,0,0,1,T,$);this.ctx.transform=this.ctx.transform.multiply(X)},d.prototype.transform=function(T,$,X,nt,ot,at){if(isNaN(T)||isNaN($)||isNaN(X)||isNaN(nt)||isNaN(ot)||isNaN(at))throw an.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var vt=new l(T,$,X,nt,ot,at);this.ctx.transform=this.ctx.transform.multiply(vt)},d.prototype.setTransform=function(T,$,X,nt,ot,at){T=isNaN(T)?1:T,$=isNaN($)?0:$,X=isNaN(X)?0:X,nt=isNaN(nt)?1:nt,ot=isNaN(ot)?0:ot,at=isNaN(at)?0:at,this.ctx.transform=new l(T,$,X,nt,ot,at)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(T,$,X,nt,ot,at,vt,yt,Tt){var Lt=this.pdf.getImageProperties(T),Ft=1,Mt=1,ne=1,xt=1;nt!==void 0&&yt!==void 0&&(ne=yt/nt,xt=Tt/ot,Ft=Lt.width/nt*yt/nt,Mt=Lt.height/ot*Tt/ot),at===void 0&&(at=$,vt=X,$=0,X=0),nt!==void 0&&yt===void 0&&(yt=nt,Tt=ot),nt===void 0&&yt===void 0&&(yt=Lt.width,Tt=Lt.height);for(var et,he=this.ctx.transform.decompose(),Yt=W(he.rotate.shx),kt=new l,Dt=(kt=(kt=(kt=kt.multiply(he.translate)).multiply(he.skew)).multiply(he.scale)).applyToRectangle(new a(at-$*ne,vt-X*xt,nt*Ft,ot*Mt)),Bt=x.call(this,Dt),zt=[],Zt=0;Zt<Bt.length;Zt+=1)zt.indexOf(Bt[Zt])===-1&&zt.push(Bt[Zt]);if(_(zt),this.autoPaging)for(var de=zt[0],we=zt[zt.length-1],oe=de;oe<we+1;oe++){this.pdf.setPage(oe);var Ne=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],We=oe===1?this.posY+this.margin[0]:this.margin[0],ce=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],xe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ht=oe===1?0:ce+(oe-2)*xe;if(this.ctx.clip_path.length!==0){var or=this.path;et=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(et,this.posX+this.margin[3],-Ht+We+this.ctx.prevPageLastElemOffset),L.call(this,"fill",!0),this.path=or}var Te=JSON.parse(JSON.stringify(Dt));Te=b([Te],this.posX+this.margin[3],-Ht+We+this.ctx.prevPageLastElemOffset)[0];var wr=(oe>de||oe<we)&&v.call(this);wr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ne,xe,null).clip().discardPath()),this.pdf.addImage(T,"JPEG",Te.x,Te.y,Te.w,Te.h,null,null,Yt),wr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(T,"JPEG",Dt.x,Dt.y,Dt.w,Dt.h,null,null,Yt)};var x=function(T,$,X){var nt=[];$=$||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ot=this.posY+this.ctx.prevPageLastElemOffset;switch(T.type){default:case"mt":case"lt":nt.push(Math.floor((T.y+ot)/X)+1);break;case"arc":nt.push(Math.floor((T.y+ot-T.radius)/X)+1),nt.push(Math.floor((T.y+ot+T.radius)/X)+1);break;case"qct":var at=tt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x,T.y);nt.push(Math.floor((at.y+ot)/X)+1),nt.push(Math.floor((at.y+at.h+ot)/X)+1);break;case"bct":var vt=ct(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x2,T.y2,T.x,T.y);nt.push(Math.floor((vt.y+ot)/X)+1),nt.push(Math.floor((vt.y+vt.h+ot)/X)+1);break;case"rect":nt.push(Math.floor((T.y+ot)/X)+1),nt.push(Math.floor((T.y+T.h+ot)/X)+1)}for(var yt=0;yt<nt.length;yt+=1)for(;this.pdf.internal.getNumberOfPages()<nt[yt];)y.call(this);return nt},y=function(){var T=this.fillStyle,$=this.strokeStyle,X=this.font,nt=this.lineCap,ot=this.lineWidth,at=this.lineJoin;this.pdf.addPage(),this.fillStyle=T,this.strokeStyle=$,this.font=X,this.lineCap=nt,this.lineWidth=ot,this.lineJoin=at},b=function(T,$,X){for(var nt=0;nt<T.length;nt++)switch(T[nt].type){case"bct":T[nt].x2+=$,T[nt].y2+=X;case"qct":T[nt].x1+=$,T[nt].y1+=X;case"mt":case"lt":case"arc":default:T[nt].x+=$,T[nt].y+=X}return T},_=function(T){return T.sort(function($,X){return $-X})},N=function(T,$){for(var X,nt,ot=this.fillStyle,at=this.strokeStyle,vt=this.lineCap,yt=this.lineWidth,Tt=Math.abs(yt*this.ctx.transform.scaleX),Lt=this.lineJoin,Ft=JSON.parse(JSON.stringify(this.path)),Mt=JSON.parse(JSON.stringify(this.path)),ne=[],xt=0;xt<Mt.length;xt++)if(Mt[xt].x!==void 0)for(var et=x.call(this,Mt[xt]),he=0;he<et.length;he+=1)ne.indexOf(et[he])===-1&&ne.push(et[he]);for(var Yt=0;Yt<ne.length;Yt++)for(;this.pdf.internal.getNumberOfPages()<ne[Yt];)y.call(this);if(_(ne),this.autoPaging)for(var kt=ne[0],Dt=ne[ne.length-1],Bt=kt;Bt<Dt+1;Bt++){this.pdf.setPage(Bt),this.fillStyle=ot,this.strokeStyle=at,this.lineCap=vt,this.lineWidth=Tt,this.lineJoin=Lt;var zt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Zt=Bt===1?this.posY+this.margin[0]:this.margin[0],de=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],we=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],oe=Bt===1?0:de+(Bt-2)*we;if(this.ctx.clip_path.length!==0){var Ne=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(X,this.posX+this.margin[3],-oe+Zt+this.ctx.prevPageLastElemOffset),L.call(this,T,!0),this.path=Ne}if(nt=JSON.parse(JSON.stringify(Ft)),this.path=b(nt,this.posX+this.margin[3],-oe+Zt+this.ctx.prevPageLastElemOffset),$===!1||Bt===0){var We=(Bt>kt||Bt<Dt)&&v.call(this);We&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],zt,we,null).clip().discardPath()),L.call(this,T,$),We&&this.pdf.restoreGraphicsState()}this.lineWidth=yt}else this.lineWidth=Tt,L.call(this,T,$),this.lineWidth=yt;this.path=Ft},L=function(T,$){if((T!=="stroke"||$||!w.call(this))&&(T==="stroke"||$||!f.call(this))){for(var X,nt,ot=[],at=this.path,vt=0;vt<at.length;vt++){var yt=at[vt];switch(yt.type){case"begin":ot.push({begin:!0});break;case"close":ot.push({close:!0});break;case"mt":ot.push({start:yt,deltas:[],abs:[]});break;case"lt":var Tt=ot.length;if(at[vt-1]&&!isNaN(at[vt-1].x)&&(X=[yt.x-at[vt-1].x,yt.y-at[vt-1].y],Tt>0)){for(;Tt>=0;Tt--)if(ot[Tt-1].close!==!0&&ot[Tt-1].begin!==!0){ot[Tt-1].deltas.push(X),ot[Tt-1].abs.push(yt);break}}break;case"bct":X=[yt.x1-at[vt-1].x,yt.y1-at[vt-1].y,yt.x2-at[vt-1].x,yt.y2-at[vt-1].y,yt.x-at[vt-1].x,yt.y-at[vt-1].y],ot[ot.length-1].deltas.push(X);break;case"qct":var Lt=at[vt-1].x+2/3*(yt.x1-at[vt-1].x),Ft=at[vt-1].y+2/3*(yt.y1-at[vt-1].y),Mt=yt.x+2/3*(yt.x1-yt.x),ne=yt.y+2/3*(yt.y1-yt.y),xt=yt.x,et=yt.y;X=[Lt-at[vt-1].x,Ft-at[vt-1].y,Mt-at[vt-1].x,ne-at[vt-1].y,xt-at[vt-1].x,et-at[vt-1].y],ot[ot.length-1].deltas.push(X);break;case"arc":ot.push({deltas:[],abs:[],arc:!0}),Array.isArray(ot[ot.length-1].abs)&&ot[ot.length-1].abs.push(yt)}}nt=$?null:T==="stroke"?"stroke":"fill";for(var he=!1,Yt=0;Yt<ot.length;Yt++)if(ot[Yt].arc)for(var kt=ot[Yt].abs,Dt=0;Dt<kt.length;Dt++){var Bt=kt[Dt];Bt.type==="arc"?D.call(this,Bt.x,Bt.y,Bt.radius,Bt.startAngle,Bt.endAngle,Bt.counterclockwise,void 0,$,!he):Y.call(this,Bt.x,Bt.y),he=!0}else if(ot[Yt].close===!0)this.pdf.internal.out("h"),he=!1;else if(ot[Yt].begin!==!0){var zt=ot[Yt].start.x,Zt=ot[Yt].start.y;H.call(this,ot[Yt].deltas,zt,Zt),he=!0}nt&&V.call(this,nt),$&&Q.call(this)}},O=function(T){var $=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=$*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return T-X;case"top":return T+$-X;case"hanging":return T+$-2*X;case"middle":return T+$/2-X;case"ideographic":return T;case"alphabetic":default:return T}},I=function(T){return T+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var T=function(){};return T.colorStops=[],T.addColorStop=function($,X){this.colorStops.push([$,X])},T.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},T.isCanvasGradient=!0,T},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(T,$,X,nt,ot,at,vt,yt,Tt){for(var Lt=J.call(this,X,nt,ot,at),Ft=0;Ft<Lt.length;Ft++){var Mt=Lt[Ft];Ft===0&&(Tt?P.call(this,Mt.x1+T,Mt.y1+$):Y.call(this,Mt.x1+T,Mt.y1+$)),dt.call(this,T,$,Mt.x2,Mt.y2,Mt.x3,Mt.y3,Mt.x4,Mt.y4)}yt?Q.call(this):V.call(this,vt)},V=function(T){switch(T){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Q=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(T,$){this.pdf.internal.out(e(T)+" "+r($)+" m")},j=function(T){var $;switch(T.align){case"right":case"end":$="right";break;case"center":$="center";break;case"left":case"start":default:$="left"}var X=this.pdf.getTextDimensions(T.text),nt=O.call(this,T.y),ot=I.call(this,nt)-X.h,at=this.ctx.transform.applyToPoint(new o(T.x,nt)),vt=this.ctx.transform.decompose(),yt=new l;yt=(yt=(yt=yt.multiply(vt.translate)).multiply(vt.skew)).multiply(vt.scale);for(var Tt,Lt,Ft,Mt=this.ctx.transform.applyToRectangle(new a(T.x,nt,X.w,X.h)),ne=yt.applyToRectangle(new a(T.x,ot,X.w,X.h)),xt=x.call(this,ne),et=[],he=0;he<xt.length;he+=1)et.indexOf(xt[he])===-1&&et.push(xt[he]);if(_(et),this.autoPaging)for(var Yt=et[0],kt=et[et.length-1],Dt=Yt;Dt<kt+1;Dt++){this.pdf.setPage(Dt);var Bt=Dt===1?this.posY+this.margin[0]:this.margin[0],zt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Zt=this.pdf.internal.pageSize.height-this.margin[2],de=Zt-this.margin[0],we=this.pdf.internal.pageSize.width-this.margin[1],oe=we-this.margin[3],Ne=Dt===1?0:zt+(Dt-2)*de;if(this.ctx.clip_path.length!==0){var We=this.path;Tt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Tt,this.posX+this.margin[3],-1*Ne+Bt),L.call(this,"fill",!0),this.path=We}var ce=b([JSON.parse(JSON.stringify(ne))],this.posX+this.margin[3],-Ne+Bt+this.ctx.prevPageLastElemOffset)[0];T.scale>=.01&&(Lt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Lt*T.scale),Ft=this.lineWidth,this.lineWidth=Ft*T.scale);var xe=this.autoPaging!=="text";if(xe||ce.y+ce.h<=Zt){if(xe||ce.y>=Bt&&ce.x<=we){var Ht=xe?T.text:this.pdf.splitTextToSize(T.text,T.maxWidth||we-ce.x)[0],or=b([JSON.parse(JSON.stringify(Mt))],this.posX+this.margin[3],-Ne+Bt+this.ctx.prevPageLastElemOffset)[0],Te=xe&&(Dt>Yt||Dt<kt)&&v.call(this);Te&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],oe,de,null).clip().discardPath()),this.pdf.text(Ht,or.x,or.y,{angle:T.angle,align:$,renderingMode:T.renderingMode}),Te&&this.pdf.restoreGraphicsState()}}else ce.y<Zt&&(this.ctx.prevPageLastElemOffset+=Zt-ce.y);T.scale>=.01&&(this.pdf.setFontSize(Lt),this.lineWidth=Ft)}else T.scale>=.01&&(Lt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Lt*T.scale),Ft=this.lineWidth,this.lineWidth=Ft*T.scale),this.pdf.text(T.text,at.x+this.posX,at.y+this.posY,{angle:T.angle,align:$,renderingMode:T.renderingMode,maxWidth:T.maxWidth}),T.scale>=.01&&(this.pdf.setFontSize(Lt),this.lineWidth=Ft)},Y=function(T,$,X,nt){X=X||0,nt=nt||0,this.pdf.internal.out(e(T+X)+" "+r($+nt)+" l")},H=function(T,$,X){return this.pdf.lines(T,$,X,null,null)},dt=function(T,$,X,nt,ot,at,vt,yt){this.pdf.internal.out([t(i(X+T)),t(s(nt+$)),t(i(ot+T)),t(s(at+$)),t(i(vt+T)),t(s(yt+$)),"c"].join(" "))},J=function(T,$,X,nt){for(var ot=2*Math.PI,at=Math.PI/2;$>X;)$-=ot;var vt=Math.abs(X-$);vt<ot&&nt&&(vt=ot-vt);for(var yt=[],Tt=nt?-1:1,Lt=$;vt>1e-5;){var Ft=Lt+Tt*Math.min(vt,at);yt.push(rt.call(this,T,Lt,Ft)),vt-=Math.abs(Ft-Lt),Lt=Ft}return yt},rt=function(T,$,X){var nt=(X-$)/2,ot=T*Math.cos(nt),at=T*Math.sin(nt),vt=ot,yt=-at,Tt=vt*vt+yt*yt,Lt=Tt+vt*ot+yt*at,Ft=4/3*(Math.sqrt(2*Tt*Lt)-Lt)/(vt*at-yt*ot),Mt=vt-Ft*yt,ne=yt+Ft*vt,xt=Mt,et=-ne,he=nt+$,Yt=Math.cos(he),kt=Math.sin(he);return{x1:T*Math.cos($),y1:T*Math.sin($),x2:Mt*Yt-ne*kt,y2:Mt*kt+ne*Yt,x3:xt*Yt-et*kt,y3:xt*kt+et*Yt,x4:T*Math.cos(X),y4:T*Math.sin(X)}},W=function(T){return 180*T/Math.PI},tt=function(T,$,X,nt,ot,at){var vt=T+.5*(X-T),yt=$+.5*(nt-$),Tt=ot+.5*(X-ot),Lt=at+.5*(nt-at),Ft=Math.min(T,ot,vt,Tt),Mt=Math.max(T,ot,vt,Tt),ne=Math.min($,at,yt,Lt),xt=Math.max($,at,yt,Lt);return new a(Ft,ne,Mt-Ft,xt-ne)},ct=function(T,$,X,nt,ot,at,vt,yt){var Tt,Lt,Ft,Mt,ne,xt,et,he,Yt,kt,Dt,Bt,zt,Zt,de=X-T,we=nt-$,oe=ot-X,Ne=at-nt,We=vt-ot,ce=yt-at;for(Lt=0;Lt<41;Lt++)Yt=(et=(Ft=T+(Tt=Lt/40)*de)+Tt*((ne=X+Tt*oe)-Ft))+Tt*(ne+Tt*(ot+Tt*We-ne)-et),kt=(he=(Mt=$+Tt*we)+Tt*((xt=nt+Tt*Ne)-Mt))+Tt*(xt+Tt*(at+Tt*ce-xt)-he),Lt==0?(Dt=Yt,Bt=kt,zt=Yt,Zt=kt):(Dt=Math.min(Dt,Yt),Bt=Math.min(Bt,kt),zt=Math.max(zt,Yt),Zt=Math.max(Zt,kt));return new a(Math.round(Dt),Math.round(Bt),Math.round(zt-Dt),Math.round(Zt-Bt))},St=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var T,$,X=(T=this.ctx.lineDash,$=this.ctx.lineDashOffset,JSON.stringify({lineDash:T,lineDashOffset:$}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(le.API),function(n){var t=function(s){var o,a,l,c,h,d,g,f,w,v;for(a=[],l=0,c=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;c>l;l+=4)(h=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(d=(h=((h=((h=((h=(h-(v=h%85))/85)-(w=h%85))/85)-(f=h%85))/85)-(g=h%85))/85)%85,a.push(d+33,g+33,f+33,w+33,v+33)):a.push(122);return function(x,y){for(var b=y;b>0;b--)x.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},e=function(s){var o,a,l,c,h,d=String,g="length",f=255,w="charCodeAt",v="slice",x="replace";for(s[v](-2),s=s[v](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),l=[],c=0,h=(s+=o="uuuuu"[v](s[g]%5||5))[g];h>c;c+=5)a=52200625*(s[w](c)-33)+614125*(s[w](c+1)-33)+7225*(s[w](c+2)-33)+85*(s[w](c+3)-33)+(s[w](c+4)-33),l.push(f&a>>24,f&a>>16,f&a>>8,f&a);return function(y,b){for(var _=b;_>0;_--)y.pop()}(l,o[g]),d.fromCharCode.apply(d,l)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=cS(o)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};n.processDataByFilters=function(s,o){var a=0,l=s||"",c=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=e(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(le.API),function(n){n.loadFile=function(t,e,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,c,h){var d=new XMLHttpRequest,g=0,f=function(w){var v=w.length,x=[],y=String.fromCharCode;for(g=0;g<v;g+=1)x.push(y(255&w.charCodeAt(g)));return x.join("")};if(d.open("GET",l,!c),d.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(d.onload=function(){d.status===200?h(f(this.responseText)):h(void 0)}),d.send(null),c&&d.status===200)return f(d.responseText)}(i,s,o)}catch{}return a}(t,e,r)},n.loadImageFile=n.loadFile}(le.API),function(n){function t(){return(ue.html2canvas?Promise.resolve(ue.html2canvas):iS(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function e(){return(ue.DOMPurify?Promise.resolve(ue.DOMPurify):iS(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=Je(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var l=document.createElement(o);for(var c in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[c]=a.style[c];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(e).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(c,h){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),g=c.firstChild;g;g=g.nextSibling)h!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||d.appendChild(l(g,h));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(a){var l=this.opt.jsPDF,c=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var g=0;g<c.length;++g){var f=c[g],w=f.src.find(function(v){return v.format==="truetype"});w&&l.addFont(w.url,f.ref.name,f.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,l.context2d.save(!0),a(this.prop.container,d)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(o=o||le.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,c){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,c){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(c,h){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(d){return l.updateProgress(null,c),d}).then(c,h).then(function(d){return l.updateProgress(1),d})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),h=l.call(c,o,a);return s.convert(h,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,le.getPageSize=function(o,a,l){if(Je(o)==="object"){var c=o;o=c.orientation,a=c.unit||a,l=c.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var h,d=(""+l).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+a}var f,w=0,v=0;if(g.hasOwnProperty(d))w=g[d][1]/h,v=g[d][0]/h;else try{w=l[1],v=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",v>w&&(f=v,v=w,w=f);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",w>v&&(f=v,v=w,w=f)}return{width:v,height:w,unit:a,k:h,orientation:o}},n.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(gS):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}}(le.API),le.API.addJS=function(n){return gN=n,this.internal.events.subscribe("postPutResources",function(){Gv=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Gv+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),pN=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+gN+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Gv!==void 0&&pN!==void 0&&this.internal.out("/Names <</JavaScript "+Gv+" 0 R>>")}),this},function(n){var t;n.events.push(["postPutResources",function(){var e=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=e.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];e.internal.newObjectDeferredBegin(l,!1)}e.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,h=[];for(s=0;s<c;s++){var d=e.internal.newObject();h.push(d);var g=e.internal.getPageInfo(s+1);e.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var f=e.internal.newObject();for(e.internal.write("<< /Names [ "),s=0;s<h.length;s++)e.internal.write("(page_"+(s+1)+")"+h[s]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+f+" 0 R"),e.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),n.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(r){r.id=e.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},e.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},e.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=e.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},e.outline.line=function(r){this.ctx.val+=r+`\r
`},e.outline.makeRef=function(r){return r.id+" 0 R"},e.outline.makeString=function(r){return"("+e.internal.pdfEscape(r)+")"},e.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(le.API),function(n){var t=[192,193,194,195,196,197,198,199];n.processJPEG=function(e,r,i,s,o,a){var l,c=this.decode.DCT_DECODE,h=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=o||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(l=function(d){for(var g,f=256*d.charCodeAt(4)+d.charCodeAt(5),w=d.length,v={width:0,height:0,numcomponents:1},x=4;x<w;x+=2){if(x+=f,t.indexOf(d.charCodeAt(x+1))!==-1){g=256*d.charCodeAt(x+5)+d.charCodeAt(x+6),v={width:256*d.charCodeAt(x+7)+d.charCodeAt(x+8),height:g,numcomponents:d.charCodeAt(x+9)};break}f=256*d.charCodeAt(x+2)+d.charCodeAt(x+3)}return v}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}h={data:e,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:r,alias:i}}return h}}(le.API);var xf,Xv,mN,vN,yN,YU=function(){var n,t,e;function r(s){var o,a,l,c,h,d,g,f,w,v,x,y,b,_;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(o=this.readUInt32(),w=(function(){var N,L;for(L=[],N=0;N<4;++N)L.push(String.fromCharCode(this.data[this.pos++]));return L}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},h=this.readUInt16(),c=this.readUInt16()||100,d.delay=1e3*h/c,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(w==="fdAT"&&(this.pos+=4,o-=4),s=(d!=null?d.data:void 0)||this.imgData,y=0;0<=o?y<o:y>o;0<=o?++y:--y)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((v=l-this.transparency.indexed.length)>0)for(b=0;0<=v?b<v:b>v;0<=v?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":g=(x=this.read(o)).indexOf(0),f=String.fromCharCode.apply(String,x.slice(0,g)),this.text[f]=String.fromCharCode.apply(String,x.slice(g+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(_=this.colorType)===4||_===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,c=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function h(d,g,f,w){var v,x,y,b,_,N,L,O,I,D,V,Q,P,j,Y,H,dt,J,rt,W,tt,ct=Math.ceil((c.width-d)/f),St=Math.ceil((c.height-g)/w),T=c.width==ct&&c.height==St;for(j=o*ct,Q=T?a:new Uint8Array(j*St),N=s.length,P=0,x=0;P<St&&l<N;){switch(s[l++]){case 0:for(b=dt=0;dt<j;b=dt+=1)Q[x++]=s[l++];break;case 1:for(b=J=0;J<j;b=J+=1)v=s[l++],_=b<o?0:Q[x-o],Q[x++]=(v+_)%256;break;case 2:for(b=rt=0;rt<j;b=rt+=1)v=s[l++],y=(b-b%o)/o,Y=P&&Q[(P-1)*j+y*o+b%o],Q[x++]=(Y+v)%256;break;case 3:for(b=W=0;W<j;b=W+=1)v=s[l++],y=(b-b%o)/o,_=b<o?0:Q[x-o],Y=P&&Q[(P-1)*j+y*o+b%o],Q[x++]=(v+Math.floor((_+Y)/2))%256;break;case 4:for(b=tt=0;tt<j;b=tt+=1)v=s[l++],y=(b-b%o)/o,_=b<o?0:Q[x-o],P===0?Y=H=0:(Y=Q[(P-1)*j+y*o+b%o],H=y&&Q[(P-1)*j+(y-1)*o+b%o]),L=_+Y-H,O=Math.abs(L-_),D=Math.abs(L-Y),V=Math.abs(L-H),I=O<=D&&O<=V?_:D<=V?Y:H,Q[x++]=(v+I)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!T){var $=((g+P*w)*c.width+d)*o,X=P*j;for(b=0;b<ct;b+=1){for(var nt=0;nt<o;nt+=1)a[$++]=Q[X++];$+=(f-1)*o}}P++}}return s=NU(s),c.interlaceMethod==1?(h(0,0,8,8),h(4,0,8,8),h(0,4,4,8),h(2,0,4,4),h(0,2,2,4),h(1,0,2,2),h(0,1,1,2)):h(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,l,c,h,d,g,f;for(a=this.palette,h=this.transparency.indexed||[],c=new Uint8Array((h.length||0)+a.length),l=0,s=0,o=d=0,g=a.length;d<g;o=d+=3)c[l++]=a[o],c[l++]=a[o+1],c[l++]=a[o+2],c[l++]=(f=h[s++])!=null?f:255;return c},r.prototype.copyToImageData=function(s,o){var a,l,c,h,d,g,f,w,v,x,y;if(l=this.colors,v=null,a=this.hasAlphaChannel,this.palette.length&&(v=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),l=4,a=!0),w=(c=s.data||s).length,d=v||o,h=g=0,l===1)for(;h<w;)f=v?4*o[h/4]:g,x=d[f++],c[h++]=x,c[h++]=x,c[h++]=x,c[h++]=a?d[f++]:255,g=f;else for(;h<w;)f=v?4*o[h/4]:g,c[h++]=d[f++],c[h++]=d[f++],c[h++]=d[f++],c[h++]=a?d[f++]:255,g=f},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(ue)==="[object Window]"){try{t=ue.document.createElement("canvas"),e=t.getContext("2d")}catch{return!1}return!0}return!1};return i(),n=function(s){var o;if(i()===!0)return e.width=s.width,e.height=s.height,e.clearRect(0,0,s.width,s.height),e.putImageData(s,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,l,c,h,d,g,f;if(this.animation){for(f=[],a=h=0,d=(g=this.animation.frames).length;h<d;a=++h)o=g[a],l=s.createImageData(o.width,o.height),c=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,c),o.imageData=l,f.push(o.image=n(l));return f}},r.prototype.renderFrame=function(s,o){var a,l,c;return a=(l=this.animation.frames)[o],c=l[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?s.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&s.putImageData(c.imageData,c.xOffset,c.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,l,c,h,d,g=this;return a=0,d=this.animation,c=d.numFrames,l=d.frames,h=d.numPlays,(o=function(){var f,w;if(f=a++%c,w=l[f],g.renderFrame(s,f),c>1&&a/c<h)return g.animation._timeout=setTimeout(o,w.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function KU(n){var t=0;if(n[t++]!==71||n[t++]!==73||n[t++]!==70||n[t++]!==56||(n[t++]+1&253)!=56||n[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=n[t++]|n[t++]<<8,r=n[t++]|n[t++]<<8,i=n[t++],s=i>>7,o=1<<(7&i)+1;n[t++],n[t++];var a=null,l=null;s&&(a=t,l=o,t+=3*o);var c=!0,h=[],d=0,g=null,f=0,w=null;for(this.width=e,this.height=r;c&&t<n.length;)switch(n[t++]){case 33:switch(n[t++]){case 255:if(n[t]!==11||n[t+1]==78&&n[t+2]==69&&n[t+3]==84&&n[t+4]==83&&n[t+5]==67&&n[t+6]==65&&n[t+7]==80&&n[t+8]==69&&n[t+9]==50&&n[t+10]==46&&n[t+11]==48&&n[t+12]==3&&n[t+13]==1&&n[t+16]==0)t+=14,w=n[t++]|n[t++]<<8,t++;else for(t+=12;;){if(!((P=n[t++])>=0))throw Error("Invalid block size");if(P===0)break;t+=P}break;case 249:if(n[t++]!==4||n[t+4]!==0)throw new Error("Invalid graphics extension block.");var v=n[t++];d=n[t++]|n[t++]<<8,g=n[t++],!(1&v)&&(g=null),f=v>>2&7,t++;break;case 254:for(;;){if(!((P=n[t++])>=0))throw Error("Invalid block size");if(P===0)break;t+=P}break;default:throw new Error("Unknown graphic control label: 0x"+n[t-1].toString(16))}break;case 44:var x=n[t++]|n[t++]<<8,y=n[t++]|n[t++]<<8,b=n[t++]|n[t++]<<8,_=n[t++]|n[t++]<<8,N=n[t++],L=N>>6&1,O=1<<(7&N)+1,I=a,D=l,V=!1;N>>7&&(V=!0,I=t,D=O,t+=3*O);var Q=t;for(t++;;){var P;if(!((P=n[t++])>=0))throw Error("Invalid block size");if(P===0)break;t+=P}h.push({x,y,width:b,height:_,has_local_palette:V,palette_offset:I,palette_size:D,data_offset:Q,data_length:t-Q,transparent_index:g,interlaced:!!L,delay:d,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+n[t-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return w},this.frameInfo=function(j){if(j<0||j>=h.length)throw new Error("Frame index out of range.");return h[j]},this.decodeAndBlitFrameBGRA=function(j,Y){var H=this.frameInfo(j),dt=H.width*H.height,J=new Uint8Array(dt);wN(n,H.data_offset,J,dt);var rt=H.palette_offset,W=H.transparent_index;W===null&&(W=256);var tt=H.width,ct=e-tt,St=tt,T=4*(H.y*e+H.x),$=4*((H.y+H.height)*e+H.x),X=T,nt=4*ct;H.interlaced===!0&&(nt+=4*e*7);for(var ot=8,at=0,vt=J.length;at<vt;++at){var yt=J[at];if(St===0&&(St=tt,(X+=nt)>=$&&(nt=4*ct+4*e*(ot-1),X=T+(tt+ct)*(ot<<1),ot>>=1)),yt===W)X+=4;else{var Tt=n[rt+3*yt],Lt=n[rt+3*yt+1],Ft=n[rt+3*yt+2];Y[X++]=Ft,Y[X++]=Lt,Y[X++]=Tt,Y[X++]=255}--St}},this.decodeAndBlitFrameRGBA=function(j,Y){var H=this.frameInfo(j),dt=H.width*H.height,J=new Uint8Array(dt);wN(n,H.data_offset,J,dt);var rt=H.palette_offset,W=H.transparent_index;W===null&&(W=256);var tt=H.width,ct=e-tt,St=tt,T=4*(H.y*e+H.x),$=4*((H.y+H.height)*e+H.x),X=T,nt=4*ct;H.interlaced===!0&&(nt+=4*e*7);for(var ot=8,at=0,vt=J.length;at<vt;++at){var yt=J[at];if(St===0&&(St=tt,(X+=nt)>=$&&(nt=4*ct+4*e*(ot-1),X=T+(tt+ct)*(ot<<1),ot>>=1)),yt===W)X+=4;else{var Tt=n[rt+3*yt],Lt=n[rt+3*yt+1],Ft=n[rt+3*yt+2];Y[X++]=Tt,Y[X++]=Lt,Y[X++]=Ft,Y[X++]=255}--St}}}function wN(n,t,e,r){for(var i=n[t++],s=1<<i,o=s+1,a=o+1,l=i+1,c=(1<<l)-1,h=0,d=0,g=0,f=n[t++],w=new Int32Array(4096),v=null;;){for(;h<16&&f!==0;)d|=n[t++]<<h,h+=8,f===1?f=n[t++]:--f;if(h<l)break;var x=d&c;if(d>>=l,h-=l,x!==s){if(x===o)break;for(var y=x<a?x:v,b=0,_=y;_>s;)_=w[_]>>8,++b;var N=_;if(g+b+(y!==x?1:0)>r)return void an.log("Warning, gif stream longer than expected.");e[g++]=N;var L=g+=b;for(y!==x&&(e[g++]=N),_=y;b--;)_=w[_],e[--L]=255&_,_>>=8;v!==null&&a<4096&&(w[a++]=v<<8|N,a>=c+1&&l<12&&(++l,c=c<<1|1)),v=x}else a=o+1,c=(1<<(l=i+1))-1,v=null}return g!==r&&an.log("Warning, gif stream shorter than expected."),e}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Fx(n){var t,e,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),h=new Array(64),d=new Array(65535),g=new Array(65535),f=new Array(64),w=new Array(64),v=[],x=0,y=7,b=new Array(64),_=new Array(64),N=new Array(64),L=new Array(256),O=new Array(2048),I=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],Q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],j=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Y=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],dt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function J(T,$){for(var X=0,nt=0,ot=new Array,at=1;at<=16;at++){for(var vt=1;vt<=T[at];vt++)ot[$[nt]]=[],ot[$[nt]][0]=X,ot[$[nt]][1]=at,nt++,X++;X*=2}return ot}function rt(T){for(var $=T[0],X=T[1]-1;X>=0;)$&1<<X&&(x|=1<<y),X--,--y<0&&(x==255?(W(255),W(0)):W(x),y=7,x=0)}function W(T){v.push(T)}function tt(T){W(T>>8&255),W(255&T)}function ct(T,$,X,nt,ot){for(var at,vt=ot[0],yt=ot[240],Tt=function(kt,Dt){var Bt,zt,Zt,de,we,oe,Ne,We,ce,xe,Ht=0;for(ce=0;ce<8;++ce){Bt=kt[Ht],zt=kt[Ht+1],Zt=kt[Ht+2],de=kt[Ht+3],we=kt[Ht+4],oe=kt[Ht+5],Ne=kt[Ht+6];var or=Bt+(We=kt[Ht+7]),Te=Bt-We,wr=zt+Ne,Ge=zt-Ne,qe=Zt+oe,Is=Zt-oe,Ue=de+we,Jo=de-we,fn=or+Ue,Zi=or-Ue,ts=wr+qe,He=wr-qe;kt[Ht]=fn+ts,kt[Ht+4]=fn-ts;var fe=.707106781*(He+Zi);kt[Ht+2]=Zi+fe,kt[Ht+6]=Zi-fe;var $t=.382683433*((fn=Jo+Is)-(He=Ge+Te)),Re=.5411961*fn+$t,Ae=1.306562965*He+$t,Tn=.707106781*(ts=Is+Ge),Rn=Te+Tn,te=Te-Tn;kt[Ht+5]=te+Re,kt[Ht+3]=te-Re,kt[Ht+1]=Rn+Ae,kt[Ht+7]=Rn-Ae,Ht+=8}for(Ht=0,ce=0;ce<8;++ce){Bt=kt[Ht],zt=kt[Ht+8],Zt=kt[Ht+16],de=kt[Ht+24],we=kt[Ht+32],oe=kt[Ht+40],Ne=kt[Ht+48];var ar=Bt+(We=kt[Ht+56]),In=Bt-We,Sn=zt+Ne,lr=zt-Ne,Kn=Zt+oe,es=Zt-oe,Hd=de+we,$a=de-we,oo=ar+Hd,ao=ar-Hd,lo=Sn+Kn,Zo=Sn-Kn;kt[Ht]=oo+lo,kt[Ht+32]=oo-lo;var Ms=.707106781*(Zo+ao);kt[Ht+16]=ao+Ms,kt[Ht+48]=ao-Ms;var ta=.382683433*((oo=$a+es)-(Zo=lr+In)),qu=.5411961*oo+ta,$d=1.306562965*Zo+ta,Vd=.707106781*(lo=es+lr),Wd=In+Vd,Gd=In-Vd;kt[Ht+40]=Gd+qu,kt[Ht+24]=Gd-qu,kt[Ht+8]=Wd+$d,kt[Ht+56]=Wd-$d,Ht++}for(ce=0;ce<64;++ce)xe=kt[ce]*Dt[ce],f[ce]=xe>0?xe+.5|0:xe-.5|0;return f}(T,$),Lt=0;Lt<64;++Lt)w[I[Lt]]=Tt[Lt];var Ft=w[0]-X;X=w[0],Ft==0?rt(nt[0]):(rt(nt[g[at=32767+Ft]]),rt(d[at]));for(var Mt=63;Mt>0&&w[Mt]==0;)Mt--;if(Mt==0)return rt(vt),X;for(var ne,xt=1;xt<=Mt;){for(var et=xt;w[xt]==0&&xt<=Mt;)++xt;var he=xt-et;if(he>=16){ne=he>>4;for(var Yt=1;Yt<=ne;++Yt)rt(yt);he&=15}at=32767+w[xt],rt(ot[(he<<4)+g[at]]),rt(d[at]),xt++}return Mt!=63&&rt(vt),X}function St(T){T=Math.min(Math.max(T,1),100),s!=T&&(function($){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],nt=0;nt<64;nt++){var ot=o((X[nt]*$+50)/100);ot=Math.min(Math.max(ot,1),255),a[I[nt]]=ot}for(var at=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],vt=0;vt<64;vt++){var yt=o((at[vt]*$+50)/100);yt=Math.min(Math.max(yt,1),255),l[I[vt]]=yt}for(var Tt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Lt=0,Ft=0;Ft<8;Ft++)for(var Mt=0;Mt<8;Mt++)c[Lt]=1/(a[I[Lt]]*Tt[Ft]*Tt[Mt]*8),h[Lt]=1/(l[I[Lt]]*Tt[Ft]*Tt[Mt]*8),Lt++}(T<50?Math.floor(5e3/T):Math.floor(200-2*T)),s=T)}this.encode=function(T,$){$&&St($),v=new Array,x=0,y=7,tt(65496),tt(65504),tt(16),W(74),W(70),W(73),W(70),W(0),W(1),W(1),W(0),tt(1),tt(1),W(0),W(0),function(){tt(65499),tt(132),W(0);for(var zt=0;zt<64;zt++)W(a[zt]);W(1);for(var Zt=0;Zt<64;Zt++)W(l[Zt])}(),function(zt,Zt){tt(65472),tt(17),W(8),tt(Zt),tt(zt),W(3),W(1),W(17),W(0),W(2),W(17),W(1),W(3),W(17),W(1)}(T.width,T.height),function(){tt(65476),tt(418),W(0);for(var zt=0;zt<16;zt++)W(D[zt+1]);for(var Zt=0;Zt<=11;Zt++)W(V[Zt]);W(16);for(var de=0;de<16;de++)W(Q[de+1]);for(var we=0;we<=161;we++)W(P[we]);W(1);for(var oe=0;oe<16;oe++)W(j[oe+1]);for(var Ne=0;Ne<=11;Ne++)W(Y[Ne]);W(17);for(var We=0;We<16;We++)W(H[We+1]);for(var ce=0;ce<=161;ce++)W(dt[ce])}(),tt(65498),tt(12),W(3),W(1),W(0),W(2),W(17),W(3),W(17),W(0),W(63),W(0);var X=0,nt=0,ot=0;x=0,y=7,this.encode.displayName="_encode_";for(var at,vt,yt,Tt,Lt,Ft,Mt,ne,xt,et=T.data,he=T.width,Yt=T.height,kt=4*he,Dt=0;Dt<Yt;){for(at=0;at<kt;){for(Lt=kt*Dt+at,Mt=-1,ne=0,xt=0;xt<64;xt++)Ft=Lt+(ne=xt>>3)*kt+(Mt=4*(7&xt)),Dt+ne>=Yt&&(Ft-=kt*(Dt+1+ne-Yt)),at+Mt>=kt&&(Ft-=at+Mt-kt+4),vt=et[Ft++],yt=et[Ft++],Tt=et[Ft++],b[xt]=(O[vt]+O[yt+256>>0]+O[Tt+512>>0]>>16)-128,_[xt]=(O[vt+768>>0]+O[yt+1024>>0]+O[Tt+1280>>0]>>16)-128,N[xt]=(O[vt+1280>>0]+O[yt+1536>>0]+O[Tt+1792>>0]>>16)-128;X=ct(b,c,X,t,r),nt=ct(_,h,nt,e,i),ot=ct(N,h,ot,e,i),at+=32}Dt+=8}if(y>=0){var Bt=[];Bt[1]=y+1,Bt[0]=(1<<y+1)-1,rt(Bt)}return tt(65497),new Uint8Array(v)},n=n||50,function(){for(var T=String.fromCharCode,$=0;$<256;$++)L[$]=T($)}(),t=J(D,V),e=J(j,Y),r=J(Q,P),i=J(H,dt),function(){for(var T=1,$=2,X=1;X<=15;X++){for(var nt=T;nt<$;nt++)g[32767+nt]=X,d[32767+nt]=[],d[32767+nt][1]=X,d[32767+nt][0]=nt;for(var ot=-($-1);ot<=-T;ot++)g[32767+ot]=X,d[32767+ot]=[],d[32767+ot][1]=X,d[32767+ot][0]=$-1+ot;T<<=1,$<<=1}}(),function(){for(var T=0;T<256;T++)O[T]=19595*T,O[T+256>>0]=38470*T,O[T+512>>0]=7471*T+32768,O[T+768>>0]=-11059*T,O[T+1024>>0]=-21709*T,O[T+1280>>0]=32768*T+8421375,O[T+1536>>0]=-27439*T,O[T+1792>>0]=-5329*T}(),St(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function yo(n,t){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function bN(n){function t(D){if(!D)throw Error("assert :P")}function e(D,V,Q){for(var P=0;4>P;P++)if(D[V+P]!=Q.charCodeAt(P))return!0;return!1}function r(D,V,Q,P,j){for(var Y=0;Y<j;Y++)D[V+Y]=Q[P+Y]}function i(D,V,Q,P){for(var j=0;j<P;j++)D[V+j]=Q}function s(D){return new Int32Array(D)}function o(D,V){for(var Q=[],P=0;P<D;P++)Q.push(new V);return Q}function a(D,V){var Q=[];return function P(j,Y,H){for(var dt=H[Y],J=0;J<dt&&(j.push(H.length>Y+1?[]:new V),!(H.length<Y+1));J++)P(j[J],Y+1,H)}(Q,0,D),Q}var l=function(){var D=this;function V(p,m){for(var S=1<<m-1>>>0;p&S;)S>>>=1;return S?(p&S-1)+S:p}function Q(p,m,S,E,R){t(!(E%S));do p[m+(E-=S)]=R;while(0<E)}function P(p,m,S,E,R){if(t(2328>=R),512>=R)var B=s(512);else if((B=s(R))==null)return 0;return function(z,U,q,G,lt,gt){var mt,ft,Ct=U,bt=1<<q,ut=s(16),ht=s(16);for(t(lt!=0),t(G!=null),t(z!=null),t(0<q),ft=0;ft<lt;++ft){if(15<G[ft])return 0;++ut[G[ft]]}if(ut[0]==lt)return 0;for(ht[1]=0,mt=1;15>mt;++mt){if(ut[mt]>1<<mt)return 0;ht[mt+1]=ht[mt]+ut[mt]}for(ft=0;ft<lt;++ft)mt=G[ft],0<G[ft]&&(gt[ht[mt]++]=ft);if(ht[15]==1)return(G=new j).g=0,G.value=gt[0],Q(z,Ct,1,bt,G),bt;var _t,Nt=-1,Et=bt-1,Wt=0,jt=1,se=1,qt=1<<q;for(ft=0,mt=1,lt=2;mt<=q;++mt,lt<<=1){if(jt+=se<<=1,0>(se-=ut[mt]))return 0;for(;0<ut[mt];--ut[mt])(G=new j).g=mt,G.value=gt[ft++],Q(z,Ct+Wt,lt,qt,G),Wt=V(Wt,mt)}for(mt=q+1,lt=2;15>=mt;++mt,lt<<=1){if(jt+=se<<=1,0>(se-=ut[mt]))return 0;for(;0<ut[mt];--ut[mt]){if(G=new j,(Wt&Et)!=Nt){for(Ct+=qt,_t=1<<(Nt=mt)-q;15>Nt&&!(0>=(_t-=ut[Nt]));)++Nt,_t<<=1;bt+=qt=1<<(_t=Nt-q),z[U+(Nt=Wt&Et)].g=_t+q,z[U+Nt].value=Ct-U-Nt}G.g=mt-q,G.value=gt[ft++],Q(z,Ct+(Wt>>q),lt,qt,G),Wt=V(Wt,mt)}}return jt!=2*ht[15]-1?0:bt}(p,m,S,E,R,B)}function j(){this.value=this.g=0}function Y(){this.value=this.g=0}function H(){this.G=o(5,j),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Mr,Y)}function dt(p,m,S,E){t(p!=null),t(m!=null),t(2147483648>E),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=m,p.pa=S,p.Jd=m,p.Yc=S+E,p.Zc=4<=E?S+E-4+1:S,at(p)}function J(p,m){for(var S=0;0<m--;)S|=yt(p,128)<<m;return S}function rt(p,m){var S=J(p,m);return vt(p)?-S:S}function W(p,m,S,E){var R,B=0;for(t(p!=null),t(m!=null),t(4294967288>E),p.Sb=E,p.Ra=0,p.u=0,p.h=0,4<E&&(E=4),R=0;R<E;++R)B+=m[S+R]<<8*R;p.Ra=B,p.bb=E,p.oa=m,p.pa=S}function tt(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<cf-8>>>0,++p.bb,p.u-=8;X(p)&&(p.h=1,p.u=0)}function ct(p,m){if(t(0<=m),!p.h&&m<=lf){var S=$(p)&af[m];return p.u+=m,tt(p),S}return p.h=1,p.u=0}function St(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function T(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function $(p){return p.Ra>>>(p.u&cf-1)>>>0}function X(p){return t(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>cf}function nt(p,m){p.u=m,p.h=X(p)}function ot(p){p.u>=rm&&(t(p.u>=rm),tt(p))}function at(p){t(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(t(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function vt(p){return J(p,1)}function yt(p,m){var S=p.Ca;0>p.b&&at(p);var E=p.b,R=S*m>>>8,B=(p.I>>>E>R)+0;for(B?(S-=R,p.I-=R+1<<E>>>0):S=R+1,E=S,R=0;256<=E;)R+=8,E>>=8;return E=7^R+Ii[E],p.b-=E,p.Ca=(S<<E)-1,B}function Tt(p,m,S){p[m+0]=S>>24&255,p[m+1]=S>>16&255,p[m+2]=S>>8&255,p[m+3]=S>>0&255}function Lt(p,m){return p[m+0]<<0|p[m+1]<<8}function Ft(p,m){return Lt(p,m)|p[m+2]<<16}function Mt(p,m){return Lt(p,m)|Lt(p,m+2)<<16}function ne(p,m){var S=1<<m;return t(p!=null),t(0<m),p.X=s(S),p.X==null?0:(p.Mb=32-m,p.Xa=m,1)}function xt(p,m){t(p!=null),t(m!=null),t(p.Xa==m.Xa),r(m.X,0,p.X,0,1<<m.Xa)}function et(){this.X=[],this.Xa=this.Mb=0}function he(p,m,S,E){t(S!=null),t(E!=null);var R=S[0],B=E[0];return R==0&&(R=(p*B+m/2)/m),B==0&&(B=(m*R+p/2)/p),0>=R||0>=B?0:(S[0]=R,E[0]=B,1)}function Yt(p,m){return p+(1<<m)-1>>>m}function kt(p,m){return((4278255360&p)+(4278255360&m)>>>0&4278255360)+((16711935&p)+(16711935&m)>>>0&16711935)>>>0}function Dt(p,m){D[m]=function(S,E,R,B,z,U,q){var G;for(G=0;G<z;++G){var lt=D[p](U[q+G-1],R,B+G);U[q+G]=kt(S[E+G],lt)}}}function Bt(){this.ud=this.hd=this.jd=0}function zt(p,m){return((4278124286&(p^m))>>>1)+(p&m)>>>0}function Zt(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function de(p,m){return Zt(p+(p-m+.5>>1))}function we(p,m,S){return Math.abs(m-S)-Math.abs(p-S)}function oe(p,m,S,E,R,B,z){for(E=B[z-1],S=0;S<R;++S)B[z+S]=E=kt(p[m+S],E)}function Ne(p,m,S,E,R){var B;for(B=0;B<S;++B){var z=p[m+B],U=z>>8&255,q=16711935&(q=(q=16711935&z)+((U<<16)+U));E[R+B]=(4278255360&z)+q>>>0}}function We(p,m){m.jd=p>>0&255,m.hd=p>>8&255,m.ud=p>>16&255}function ce(p,m,S,E,R,B){var z;for(z=0;z<E;++z){var U=m[S+z],q=U>>>8,G=U,lt=255&(lt=(lt=U>>>16)+((p.jd<<24>>24)*(q<<24>>24)>>>5));G=255&(G=(G=G+((p.hd<<24>>24)*(q<<24>>24)>>>5))+((p.ud<<24>>24)*(lt<<24>>24)>>>5)),R[B+z]=(4278255360&U)+(lt<<16)+G}}function xe(p,m,S,E,R){D[m]=function(B,z,U,q,G,lt,gt,mt,ft){for(q=gt;q<mt;++q)for(gt=0;gt<ft;++gt)G[lt++]=R(U[E(B[z++])])},D[p]=function(B,z,U,q,G,lt,gt){var mt=8>>B.b,ft=B.Ea,Ct=B.K[0],bt=B.w;if(8>mt)for(B=(1<<B.b)-1,bt=(1<<mt)-1;z<U;++z){var ut,ht=0;for(ut=0;ut<ft;++ut)ut&B||(ht=E(q[G++])),lt[gt++]=R(Ct[ht&bt]),ht>>=mt}else D["VP8LMapColor"+S](q,G,Ct,bt,lt,gt,z,U,ft)}}function Ht(p,m,S,E,R){for(S=m+S;m<S;){var B=p[m++];E[R++]=B>>16&255,E[R++]=B>>8&255,E[R++]=B>>0&255}}function or(p,m,S,E,R){for(S=m+S;m<S;){var B=p[m++];E[R++]=B>>16&255,E[R++]=B>>8&255,E[R++]=B>>0&255,E[R++]=B>>24&255}}function Te(p,m,S,E,R){for(S=m+S;m<S;){var B=(z=p[m++])>>16&240|z>>12&15,z=z>>0&240|z>>28&15;E[R++]=B,E[R++]=z}}function wr(p,m,S,E,R){for(S=m+S;m<S;){var B=(z=p[m++])>>16&248|z>>13&7,z=z>>5&224|z>>3&31;E[R++]=B,E[R++]=z}}function Ge(p,m,S,E,R){for(S=m+S;m<S;){var B=p[m++];E[R++]=B>>0&255,E[R++]=B>>8&255,E[R++]=B>>16&255}}function qe(p,m,S,E,R,B){if(B==0)for(S=m+S;m<S;)Tt(E,((B=p[m++])[0]>>24|B[1]>>8&65280|B[2]<<8&16711680|B[3]<<24)>>>0),R+=32;else r(E,R,p,m,S)}function Is(p,m){D[m][0]=D[p+"0"],D[m][1]=D[p+"1"],D[m][2]=D[p+"2"],D[m][3]=D[p+"3"],D[m][4]=D[p+"4"],D[m][5]=D[p+"5"],D[m][6]=D[p+"6"],D[m][7]=D[p+"7"],D[m][8]=D[p+"8"],D[m][9]=D[p+"9"],D[m][10]=D[p+"10"],D[m][11]=D[p+"11"],D[m][12]=D[p+"12"],D[m][13]=D[p+"13"],D[m][14]=D[p+"0"],D[m][15]=D[p+"0"]}function Ue(p){return p==Pb||p==kb||p==cv||p==Tb}function Jo(){this.eb=[],this.size=this.A=this.fb=0}function fn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Zi(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Jo,this.f.kb=new fn,this.sd=null}function ts(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function He(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function fe(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function $t(p,m){var S=p.T,E=m.ba.f.RGBA,R=E.eb,B=E.fb+p.ka*E.A,z=zs[m.ba.S],U=p.y,q=p.O,G=p.f,lt=p.N,gt=p.ea,mt=p.W,ft=m.cc,Ct=m.dc,bt=m.Mc,ut=m.Nc,ht=p.ka,_t=p.ka+p.T,Nt=p.U,Et=Nt+1>>1;for(ht==0?z(U,q,null,null,G,lt,gt,mt,G,lt,gt,mt,R,B,null,null,Nt):(z(m.ec,m.fc,U,q,ft,Ct,bt,ut,G,lt,gt,mt,R,B-E.A,R,B,Nt),++S);ht+2<_t;ht+=2)ft=G,Ct=lt,bt=gt,ut=mt,lt+=p.Rc,mt+=p.Rc,B+=2*E.A,z(U,(q+=2*p.fa)-p.fa,U,q,ft,Ct,bt,ut,G,lt,gt,mt,R,B-E.A,R,B,Nt);return q+=p.fa,p.j+_t<p.o?(r(m.ec,m.fc,U,q,Nt),r(m.cc,m.dc,G,lt,Et),r(m.Mc,m.Nc,gt,mt,Et),S--):1&_t||z(U,q,null,null,G,lt,gt,mt,G,lt,gt,mt,R,B+E.A,null,null,Nt),S}function Re(p,m,S){var E=p.F,R=[p.J];if(E!=null){var B=p.U,z=m.ba.S,U=z==lv||z==cv;m=m.ba.f.RGBA;var q=[0],G=p.ka;q[0]=p.T,p.Kb&&(G==0?--q[0]:(--G,R[0]-=p.width),p.j+p.ka+p.T==p.o&&(q[0]=p.o-p.j-G));var lt=m.eb;G=m.fb+G*m.A,p=cn(E,R[0],p.width,B,q,lt,G+(U?0:3),m.A),t(S==q),p&&Ue(z)&&js(lt,G,U,B,q,m.A)}return 0}function Ae(p){var m=p.ma,S=m.ba.S,E=11>S,R=S==ov||S==av||S==lv||S==Lb||S==12||Ue(S);if(m.memory=null,m.Ib=null,m.Jb=null,m.Nd=null,!em(m.Oa,p,R?11:12))return 0;if(R&&Ue(S)&&Pt(),p.da)alert("todo:use_scaling");else{if(E){if(m.Ib=fe,p.Kb){if(S=p.U+1>>1,m.memory=s(p.U+2*S),m.memory==null)return 0;m.ec=m.memory,m.fc=0,m.cc=m.ec,m.dc=m.fc+p.U,m.Mc=m.cc,m.Nc=m.dc+S,m.Ib=$t,Pt()}}else alert("todo:EmitYUV");R&&(m.Jb=Re,E&&pt())}if(E&&!P4){for(p=0;256>p;++p)vI[p]=89858*(p-128)+hv>>uv,bI[p]=-22014*(p-128)+hv,wI[p]=-45773*(p-128),yI[p]=113618*(p-128)+hv>>uv;for(p=um;p<Mb;++p)m=76283*(p-16)+hv>>uv,xI[p-um]=ns(m,255),AI[p-um]=ns(m+8>>4,15);P4=1}return 1}function Tn(p){var m=p.ma,S=p.U,E=p.T;return t(!(1&p.ka)),0>=S||0>=E?0:(S=m.Ib(p,m),m.Jb!=null&&m.Jb(p,m,S),m.Dc+=S,1)}function Rn(p){p.ma.memory=null}function te(p,m,S,E){return ct(p,8)!=47?0:(m[0]=ct(p,14)+1,S[0]=ct(p,14)+1,E[0]=ct(p,1),ct(p,3)!=0?0:!p.h)}function ar(p,m){if(4>p)return p+1;var S=p-2>>1;return(2+(1&p)<<S)+ct(m,S)+1}function In(p,m){return 120<m?m-120:1<=(S=((S=rI[m-1])>>4)*p+(8-(15&S)))?S:1;var S}function Sn(p,m,S){var E=$(S),R=p[m+=255&E].g-8;return 0<R&&(nt(S,S.u+8),E=$(S),m+=p[m].value,m+=E&(1<<R)-1),nt(S,S.u+p[m].g),p[m].value}function lr(p,m,S){return S.g+=p.g,S.value+=p.value<<m>>>0,t(8>=S.g),p.g}function Kn(p,m,S){var E=p.xc;return t((m=E==0?0:p.vc[p.md*(S>>E)+(m>>E)])<p.Wb),p.Ya[m]}function es(p,m,S,E){var R=p.ab,B=p.c*m,z=p.C;m=z+m;var U=S,q=E;for(E=p.Ta,S=p.Ua;0<R--;){var G=p.gc[R],lt=z,gt=m,mt=U,ft=q,Ct=(q=E,U=S,G.Ea);switch(t(lt<gt),t(gt<=G.nc),G.hc){case 2:Z2(mt,ft,(gt-lt)*Ct,q,U);break;case 0:var bt=lt,ut=gt,ht=q,_t=U,Nt=(qt=G).Ea;bt==0&&(Cb(mt,ft,null,null,1,ht,_t),oe(mt,ft+1,0,0,Nt-1,ht,_t+1),ft+=Nt,_t+=Nt,++bt);for(var Et=1<<qt.b,Wt=Et-1,jt=Yt(Nt,qt.b),se=qt.K,qt=qt.w+(bt>>qt.b)*jt;bt<ut;){var $e=se,Ye=qt,De=1;for(im(mt,ft,ht,_t-Nt,1,ht,_t);De<Nt;){var Ie=(De&~Wt)+Et;Ie>Nt&&(Ie=Nt),(0,rc[$e[Ye++]>>8&15])(mt,ft+ +De,ht,_t+De-Nt,Ie-De,ht,_t+De),De=Ie}ft+=Nt,_t+=Nt,++bt&Wt||(qt+=jt)}gt!=G.nc&&r(q,U-Ct,q,U+(gt-lt-1)*Ct,Ct);break;case 1:for(Ct=mt,ut=ft,Nt=(mt=G.Ea)-(_t=mt&~(ht=(ft=1<<G.b)-1)),bt=Yt(mt,G.b),Et=G.K,G=G.w+(lt>>G.b)*bt;lt<gt;){for(Wt=Et,jt=G,se=new Bt,qt=ut+_t,$e=ut+mt;ut<qt;)We(Wt[jt++],se),Gu(se,Ct,ut,ft,q,U),ut+=ft,U+=ft;ut<$e&&(We(Wt[jt++],se),Gu(se,Ct,ut,Nt,q,U),ut+=Nt,U+=Nt),++lt&ht||(G+=bt)}break;case 3:if(mt==q&&ft==U&&0<G.b){for(ut=q,mt=Ct=U+(gt-lt)*Ct-(_t=(gt-lt)*Yt(G.Ea,G.b)),ft=q,ht=U,bt=[],_t=(Nt=_t)-1;0<=_t;--_t)bt[_t]=ft[ht+_t];for(_t=Nt-1;0<=_t;--_t)ut[mt+_t]=bt[_t];Fs(G,lt,gt,q,Ct,q,U)}else Fs(G,lt,gt,mt,ft,q,U)}U=E,q=S}q!=S&&r(E,S,U,q,B)}function Hd(p,m){var S=p.V,E=p.Ba+p.c*p.C,R=m-p.C;if(t(m<=p.l.o),t(16>=R),0<R){var B=p.l,z=p.Ta,U=p.Ua,q=B.width;if(es(p,R,S,E),R=U=[U],t((S=p.C)<(E=m)),t(B.v<B.va),E>B.o&&(E=B.o),S<B.j){var G=B.j-S;S=B.j,R[0]+=G*q}if(S>=E?S=0:(R[0]+=4*B.v,B.ka=S-B.j,B.U=B.va-B.v,B.T=E-S,S=1),S){if(U=U[0],11>(S=p.ca).S){var lt=S.f.RGBA,gt=(E=S.S,R=B.U,B=B.T,G=lt.eb,lt.A),mt=B;for(lt=lt.fb+p.Ma*lt.A;0<mt--;){var ft=z,Ct=U,bt=R,ut=G,ht=lt;switch(E){case sv:Mi(ft,Ct,bt,ut,ht);break;case ov:pi(ft,Ct,bt,ut,ht);break;case Pb:pi(ft,Ct,bt,ut,ht),js(ut,ht,0,bt,1,0);break;case b4:Xa(ft,Ct,bt,ut,ht);break;case av:qe(ft,Ct,bt,ut,ht,1);break;case kb:qe(ft,Ct,bt,ut,ht,1),js(ut,ht,0,bt,1,0);break;case lv:qe(ft,Ct,bt,ut,ht,0);break;case cv:qe(ft,Ct,bt,ut,ht,0),js(ut,ht,1,bt,1,0);break;case Lb:ic(ft,Ct,bt,ut,ht);break;case Tb:ic(ft,Ct,bt,ut,ht),ln(ut,ht,bt,1,0);break;case x4:Ga(ft,Ct,bt,ut,ht);break;default:t(0)}U+=q,lt+=gt}p.Ma+=B}else alert("todo:EmitRescaledRowsYUVA");t(p.Ma<=S.height)}}p.C=m,t(p.C<=p.i)}function $a(p){var m;if(0<p.ua)return 0;for(m=0;m<p.Wb;++m){var S=p.Ya[m].G,E=p.Ya[m].H;if(0<S[1][E[1]+0].g||0<S[2][E[2]+0].g||0<S[3][E[3]+0].g)return 0}return 1}function oo(p,m,S,E,R,B){if(p.Z!=0){var z=p.qd,U=p.rd;for(t(lc[p.Z]!=null);m<S;++m)lc[p.Z](z,U,E,R,E,R,B),z=E,U=R,R+=B;p.qd=z,p.rd=U}}function ao(p,m){var S=p.l.ma,E=S.Z==0||S.Z==1?p.l.j:p.C;if(E=p.C<E?E:p.C,t(m<=p.l.o),m>E){var R=p.l.width,B=S.ca,z=S.tb+R*E,U=p.V,q=p.Ba+p.c*E,G=p.gc;t(p.ab==1),t(G[0].hc==3),tv(G[0],E,m,U,q,B,z),oo(S,E,m,B,z,R)}p.C=p.Ma=m}function lo(p,m,S,E,R,B,z){var U=p.$/E,q=p.$%E,G=p.m,lt=p.s,gt=S+p.$,mt=gt;R=S+E*R;var ft=S+E*B,Ct=280+lt.ua,bt=p.Pb?U:16777216,ut=0<lt.ua?lt.Wa:null,ht=lt.wc,_t=gt<ft?Kn(lt,q,U):null;t(p.C<B),t(ft<=R);var Nt=!1;t:for(;;){for(;Nt||gt<ft;){var Et=0;if(U>=bt){var Wt=gt-S;t((bt=p).Pb),bt.wd=bt.m,bt.xd=Wt,0<bt.s.ua&&xt(bt.s.Wa,bt.s.vb),bt=U+sI}if(q&ht||(_t=Kn(lt,q,U)),t(_t!=null),_t.Qb&&(m[gt]=_t.qb,Nt=!0),!Nt)if(ot(G),_t.jc){Et=G,Wt=m;var jt=gt,se=_t.pd[$(Et)&Mr-1];t(_t.jc),256>se.g?(nt(Et,Et.u+se.g),Wt[jt]=se.value,Et=0):(nt(Et,Et.u+se.g-256),t(256<=se.value),Et=se.value),Et==0&&(Nt=!0)}else Et=Sn(_t.G[0],_t.H[0],G);if(G.h)break;if(Nt||256>Et){if(!Nt)if(_t.nd)m[gt]=(_t.qb|Et<<8)>>>0;else{if(ot(G),Nt=Sn(_t.G[1],_t.H[1],G),ot(G),Wt=Sn(_t.G[2],_t.H[2],G),jt=Sn(_t.G[3],_t.H[3],G),G.h)break;m[gt]=(jt<<24|Nt<<16|Et<<8|Wt)>>>0}if(Nt=!1,++gt,++q>=E&&(q=0,++U,z!=null&&U<=B&&!(U%16)&&z(p,U),ut!=null))for(;mt<gt;)Et=m[mt++],ut.X[(506832829*Et&4294967295)>>>ut.Mb]=Et}else if(280>Et){if(Et=ar(Et-256,G),Wt=Sn(_t.G[4],_t.H[4],G),ot(G),Wt=In(E,Wt=ar(Wt,G)),G.h)break;if(gt-S<Wt||R-gt<Et)break t;for(jt=0;jt<Et;++jt)m[gt+jt]=m[gt+jt-Wt];for(gt+=Et,q+=Et;q>=E;)q-=E,++U,z!=null&&U<=B&&!(U%16)&&z(p,U);if(t(gt<=R),q&ht&&(_t=Kn(lt,q,U)),ut!=null)for(;mt<gt;)Et=m[mt++],ut.X[(506832829*Et&4294967295)>>>ut.Mb]=Et}else{if(!(Et<Ct))break t;for(Nt=Et-280,t(ut!=null);mt<gt;)Et=m[mt++],ut.X[(506832829*Et&4294967295)>>>ut.Mb]=Et;Et=gt,t(!(Nt>>>(Wt=ut).Xa)),m[Et]=Wt.X[Nt],Nt=!0}Nt||t(G.h==X(G))}if(p.Pb&&G.h&&gt<R)t(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&xt(p.s.vb,p.s.Wa);else{if(G.h)break t;z!=null&&z(p,U>B?B:U),p.a=0,p.$=gt-S}return 1}return p.a=3,0}function Zo(p){t(p!=null),p.vc=null,p.yc=null,p.Ya=null;var m=p.Wa;m!=null&&(m.X=null),p.vb=null,t(p!=null)}function Ms(){var p=new Eb;return p==null?null:(p.a=0,p.xb=_4,Is("Predictor","VP8LPredictors"),Is("Predictor","VP8LPredictors_C"),Is("PredictorAdd","VP8LPredictorsAdd"),Is("PredictorAdd","VP8LPredictorsAdd_C"),Z2=Ne,Gu=ce,Mi=Ht,pi=or,ic=Te,Ga=wr,Xa=Ge,D.VP8LMapColor32b=uf,D.VP8LMapColor8b=ev,p)}function ta(p,m,S,E,R){var B=1,z=[p],U=[m],q=E.m,G=E.s,lt=null,gt=0;t:for(;;){if(S)for(;B&&ct(q,1);){var mt=z,ft=U,Ct=E,bt=1,ut=Ct.m,ht=Ct.gc[Ct.ab],_t=ct(ut,2);if(Ct.Oc&1<<_t)B=0;else{switch(Ct.Oc|=1<<_t,ht.hc=_t,ht.Ea=mt[0],ht.nc=ft[0],ht.K=[null],++Ct.ab,t(4>=Ct.ab),_t){case 0:case 1:ht.b=ct(ut,3)+2,bt=ta(Yt(ht.Ea,ht.b),Yt(ht.nc,ht.b),0,Ct,ht.K),ht.K=ht.K[0];break;case 3:var Nt,Et=ct(ut,8)+1,Wt=16<Et?0:4<Et?1:2<Et?2:3;if(mt[0]=Yt(ht.Ea,Wt),ht.b=Wt,Nt=bt=ta(Et,1,0,Ct,ht.K)){var jt,se=Et,qt=ht,$e=1<<(8>>qt.b),Ye=s($e);if(Ye==null)Nt=0;else{var De=qt.K[0],Ie=qt.w;for(Ye[0]=qt.K[0][0],jt=1;jt<1*se;++jt)Ye[jt]=kt(De[Ie+jt],Ye[jt-1]);for(;jt<4*$e;++jt)Ye[jt]=0;qt.K[0]=null,qt.K[0]=Ye,Nt=1}}bt=Nt;break;case 2:break;default:t(0)}B=bt}}if(z=z[0],U=U[0],B&&ct(q,1)&&!(B=1<=(gt=ct(q,4))&&11>=gt)){E.a=3;break t}var on;if(on=B)e:{var tn,Se,Jn,Fi=E,Zn=z,Oi=U,Ke=gt,is=S,ss=Fi.m,xr=Fi.s,Fr=[null],mi=1,Us=0,ia=iI[Ke];n:for(;;){if(is&&ct(ss,1)){var Ar=ct(ss,3)+2,Ja=Yt(Zn,Ar),Ju=Yt(Oi,Ar),gf=Ja*Ju;if(!ta(Ja,Ju,0,Fi,Fr))break n;for(Fr=Fr[0],xr.xc=Ar,tn=0;tn<gf;++tn){var cc=Fr[tn]>>8&65535;Fr[tn]=cc,cc>=mi&&(mi=cc+1)}}if(ss.h)break n;for(Se=0;5>Se;++Se){var Fn=A4[Se];!Se&&0<Ke&&(Fn+=1<<Ke),Us<Fn&&(Us=Fn)}var Fb=o(mi*ia,j),R4=mi,I4=o(R4,H);if(I4==null)var fv=null;else t(65536>=R4),fv=I4;var hm=s(Us);if(fv==null||hm==null||Fb==null){Fi.a=1;break n}var pv=Fb;for(tn=Jn=0;tn<mi;++tn){var po=fv[tn],mf=po.G,vf=po.H,M4=0,gv=1,F4=0;for(Se=0;5>Se;++Se){Fn=A4[Se],mf[Se]=pv,vf[Se]=Jn,!Se&&0<Ke&&(Fn+=1<<Ke);i:{var mv,Ob=Fn,vv=Fi,dm=hm,EI=pv,CI=Jn,Db=0,uc=vv.m,NI=ct(uc,1);if(i(dm,0,0,Ob),NI){var LI=ct(uc,1)+1,PI=ct(uc,1),O4=ct(uc,PI==0?1:8);dm[O4]=1,LI==2&&(dm[O4=ct(uc,8)]=1);var yv=1}else{var D4=s(19),j4=ct(uc,4)+4;if(19<j4){vv.a=3;var wv=0;break i}for(mv=0;mv<j4;++mv)D4[nI[mv]]=ct(uc,3);var jb=void 0,fm=void 0,B4=vv,kI=D4,bv=Ob,z4=dm,Bb=0,hc=B4.m,U4=8,q4=o(128,j);r:for(;P(q4,0,7,kI,19);){if(ct(hc,1)){var TI=2+2*ct(hc,3);if((jb=2+ct(hc,TI))>bv)break r}else jb=bv;for(fm=0;fm<bv&&jb--;){ot(hc);var H4=q4[0+(127&$(hc))];nt(hc,hc.u+H4.g);var yf=H4.value;if(16>yf)z4[fm++]=yf,yf!=0&&(U4=yf);else{var RI=yf==16,$4=yf-16,II=tI[$4],V4=ct(hc,Z8[$4])+II;if(fm+V4>bv)break r;for(var MI=RI?U4:0;0<V4--;)z4[fm++]=MI}}Bb=1;break r}Bb||(B4.a=3),yv=Bb}(yv=yv&&!uc.h)&&(Db=P(EI,CI,8,dm,Ob)),yv&&Db!=0?wv=Db:(vv.a=3,wv=0)}if(wv==0)break n;if(gv&&eI[Se]==1&&(gv=pv[Jn].g==0),M4+=pv[Jn].g,Jn+=wv,3>=Se){var pm,zb=hm[0];for(pm=1;pm<Fn;++pm)hm[pm]>zb&&(zb=hm[pm]);F4+=zb}}if(po.nd=gv,po.Qb=0,gv&&(po.qb=(mf[3][vf[3]+0].value<<24|mf[1][vf[1]+0].value<<16|mf[2][vf[2]+0].value)>>>0,M4==0&&256>mf[0][vf[0]+0].value&&(po.Qb=1,po.qb+=mf[0][vf[0]+0].value<<8)),po.jc=!po.Qb&&6>F4,po.jc){var xv,Za=po;for(xv=0;xv<Mr;++xv){var dc=xv,fc=Za.pd[dc],Av=Za.G[0][Za.H[0]+dc];256<=Av.value?(fc.g=Av.g+256,fc.value=Av.value):(fc.g=0,fc.value=0,dc>>=lr(Av,8,fc),dc>>=lr(Za.G[1][Za.H[1]+dc],16,fc),dc>>=lr(Za.G[2][Za.H[2]+dc],0,fc),lr(Za.G[3][Za.H[3]+dc],24,fc))}}}xr.vc=Fr,xr.Wb=mi,xr.Ya=fv,xr.yc=Fb,on=1;break e}on=0}if(!(B=on)){E.a=3;break t}if(0<gt){if(G.ua=1<<gt,!ne(G.Wa,gt)){E.a=1,B=0;break t}}else G.ua=0;var Ub=E,W4=z,FI=U,qb=Ub.s,Hb=qb.xc;if(Ub.c=W4,Ub.i=FI,qb.md=Yt(W4,Hb),qb.wc=Hb==0?-1:(1<<Hb)-1,S){E.xb=dI;break t}if((lt=s(z*U))==null){E.a=1,B=0;break t}B=(B=lo(E,lt,0,z,U,U,null))&&!q.h;break t}return B?(R!=null?R[0]=lt:(t(lt==null),t(S)),E.$=0,S||Zo(G)):Zo(G),B}function qu(p,m){var S=p.c*p.i,E=S+m+16*m;return t(p.c<=m),p.V=s(E),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+S+m,1)}function $d(p,m){var S=p.C,E=m-S,R=p.V,B=p.Ba+p.c*S;for(t(m<=p.l.o);0<E;){var z=16<E?16:E,U=p.l.ma,q=p.l.width,G=q*z,lt=U.ca,gt=U.tb+q*S,mt=p.Ta,ft=p.Ua;es(p,z,R,B),qn(mt,ft,lt,gt,G),oo(U,S,S+z,lt,gt,q),E-=z,R+=z*p.c,S+=z}t(S==m),p.C=p.Ma=m}function Vd(){this.ub=this.yd=this.td=this.Rb=0}function Wd(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Gd(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function I2(){this.Yb=function(){var p=[];return function m(S,E,R){for(var B=R[E],z=0;z<B&&(S.push(R.length>E+1?[]:0),!(R.length<E+1));z++)m(S[z],E+1,R)}(p,0,[3,11]),p}()}function nb(){this.jb=s(3),this.Wc=a([4,8],I2),this.Xc=a([4,17],I2)}function rb(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Xd(){this.ld=this.La=this.dd=this.tc=0}function M2(){this.Na=this.la=0}function ib(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Bg(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function sb(){this.uc=this.M=this.Nb=0,this.wa=Array(new Xd),this.Y=0,this.ya=Array(new Bg),this.aa=0,this.l=new Yd}function F2(){this.y=s(16),this.f=s(8),this.ea=s(8)}function ob(){this.cb=this.a=0,this.sc="",this.m=new St,this.Od=new Vd,this.Kc=new Wd,this.ed=new rb,this.Qa=new Gd,this.Ic=this.$c=this.Aa=0,this.D=new sb,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,St),this.ia=0,this.pb=o(4,ib),this.Pa=new nb,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new F2),this.Hd=0,this.rb=Array(new M2),this.sb=0,this.wa=Array(new Xd),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Bg),this.L=this.aa=0,this.gd=a([4,2],Xd),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Yd(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ab(){var p=new ob;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,cm||(cm=j2)),p}function zn(p,m,S){return p.a==0&&(p.a=m,p.sc=S,p.cb=0),0}function O2(p,m,S){return 3<=S&&p[m+0]==157&&p[m+1]==1&&p[m+2]==42}function D2(p,m){if(p==null)return 0;if(p.a=0,p.sc="OK",m==null)return zn(p,2,"null VP8Io passed to VP8GetHeaders()");var S=m.data,E=m.w,R=m.ha;if(4>R)return zn(p,7,"Truncated header.");var B=S[E+0]|S[E+1]<<8|S[E+2]<<16,z=p.Od;if(z.Rb=!(1&B),z.td=B>>1&7,z.yd=B>>4&1,z.ub=B>>5,3<z.td)return zn(p,3,"Incorrect keyframe parameters.");if(!z.yd)return zn(p,4,"Frame not displayable.");E+=3,R-=3;var U=p.Kc;if(z.Rb){if(7>R)return zn(p,7,"cannot parse picture header");if(!O2(S,E,R))return zn(p,3,"Bad code word");U.c=16383&(S[E+4]<<8|S[E+3]),U.Td=S[E+4]>>6,U.i=16383&(S[E+6]<<8|S[E+5]),U.Ud=S[E+6]>>6,E+=7,R-=7,p.za=U.c+15>>4,p.Ub=U.i+15>>4,m.width=U.c,m.height=U.i,m.Da=0,m.j=0,m.v=0,m.va=m.width,m.o=m.height,m.da=0,m.ib=m.width,m.hb=m.height,m.U=m.width,m.T=m.height,i((B=p.Pa).jb,0,255,B.jb.length),t((B=p.Qa)!=null),B.Cb=0,B.Bb=0,B.Fb=1,i(B.Zb,0,0,B.Zb.length),i(B.Lb,0,0,B.Lb)}if(z.ub>R)return zn(p,7,"bad partition length");dt(B=p.m,S,E,z.ub),E+=z.ub,R-=z.ub,z.Rb&&(U.Ld=vt(B),U.Kd=vt(B)),U=p.Qa;var q,G=p.Pa;if(t(B!=null),t(U!=null),U.Cb=vt(B),U.Cb){if(U.Bb=vt(B),vt(B)){for(U.Fb=vt(B),q=0;4>q;++q)U.Zb[q]=vt(B)?rt(B,7):0;for(q=0;4>q;++q)U.Lb[q]=vt(B)?rt(B,6):0}if(U.Bb)for(q=0;3>q;++q)G.jb[q]=vt(B)?J(B,8):255}else U.Bb=0;if(B.Ka)return zn(p,3,"cannot parse segment header");if((U=p.ed).zd=vt(B),U.Tb=J(B,6),U.wb=J(B,3),U.Pc=vt(B),U.Pc&&vt(B)){for(G=0;4>G;++G)vt(B)&&(U.vd[G]=rt(B,6));for(G=0;4>G;++G)vt(B)&&(U.od[G]=rt(B,6))}if(p.L=U.Tb==0?0:U.zd?1:2,B.Ka)return zn(p,3,"cannot parse filter header");var lt=R;if(R=q=E,E=q+lt,U=lt,p.Xb=(1<<J(p.m,2))-1,lt<3*(G=p.Xb))S=7;else{for(q+=3*G,U-=3*G,lt=0;lt<G;++lt){var gt=S[R+0]|S[R+1]<<8|S[R+2]<<16;gt>U&&(gt=U),dt(p.Jc[+lt],S,q,gt),q+=gt,U-=gt,R+=3}dt(p.Jc[+G],S,q,U),S=q<E?0:5}if(S!=0)return zn(p,S,"cannot parse partitions");for(S=J(q=p.m,7),R=vt(q)?rt(q,4):0,E=vt(q)?rt(q,4):0,U=vt(q)?rt(q,4):0,G=vt(q)?rt(q,4):0,q=vt(q)?rt(q,4):0,lt=p.Qa,gt=0;4>gt;++gt){if(lt.Cb){var mt=lt.Zb[gt];lt.Fb||(mt+=S)}else{if(0<gt){p.pb[gt]=p.pb[0];continue}mt=S}var ft=p.pb[gt];ft.Sc[0]=Rb[ns(mt+R,127)],ft.Sc[1]=Ib[ns(mt+0,127)],ft.Eb[0]=2*Rb[ns(mt+E,127)],ft.Eb[1]=101581*Ib[ns(mt+U,127)]>>16,8>ft.Eb[1]&&(ft.Eb[1]=8),ft.Qc[0]=Rb[ns(mt+G,117)],ft.Qc[1]=Ib[ns(mt+q,127)],ft.lc=mt+q}if(!z.Rb)return zn(p,4,"Not a key frame.");for(vt(B),z=p.Pa,S=0;4>S;++S){for(R=0;8>R;++R)for(E=0;3>E;++E)for(U=0;11>U;++U)G=yt(B,uI[S][R][E][U])?J(B,8):lI[S][R][E][U],z.Wc[S][R].Yb[E][U]=G;for(R=0;17>R;++R)z.Xc[S][R]=z.Wc[S][hI[R]]}return p.kc=vt(B),p.kc&&(p.Bd=J(B,8)),p.cb=1}function j2(p,m,S,E,R,B,z){var U=m[R].Yb[S];for(S=0;16>R;++R){if(!yt(p,U[S+0]))return R;for(;!yt(p,U[S+1]);)if(U=m[++R].Yb[0],S=0,R==16)return 16;var q=m[R+1].Yb;if(yt(p,U[S+2])){var G=p,lt=0;if(yt(G,(mt=U)[(gt=S)+3]))if(yt(G,mt[gt+6])){for(U=0,gt=2*(lt=yt(G,mt[gt+8]))+(mt=yt(G,mt[gt+9+lt])),lt=0,mt=oI[gt];mt[U];++U)lt+=lt+yt(G,mt[U]);lt+=3+(8<<gt)}else yt(G,mt[gt+7])?(lt=7+2*yt(G,165),lt+=yt(G,145)):lt=5+yt(G,159);else lt=yt(G,mt[gt+4])?3+yt(G,mt[gt+5]):2;U=q[2]}else lt=1,U=q[1];q=z+aI[R],0>(G=p).b&&at(G);var gt,mt=G.b,ft=(gt=G.Ca>>1)-(G.I>>mt)>>31;--G.b,G.Ca+=ft,G.Ca|=1,G.I-=(gt+1&ft)<<mt,B[q]=((lt^ft)-ft)*E[(0<R)+0]}return 16}function zg(p){var m=p.rb[p.sb-1];m.la=0,m.Na=0,i(p.zc,0,0,p.zc.length),p.ja=0}function lb(p,m){if(p==null)return 0;if(m==null)return zn(p,2,"NULL VP8Io parameter in VP8Decode().");if(!p.cb&&!D2(p,m))return 0;if(t(p.cb),m.ac==null||m.ac(m)){m.ob&&(p.L=0);var S=dv[p.L];if(p.L==2?(p.yb=0,p.zb=0):(p.yb=m.v-S>>4,p.zb=m.j-S>>4,0>p.yb&&(p.yb=0),0>p.zb&&(p.zb=0)),p.Va=m.o+15+S>>4,p.Hb=m.va+15+S>>4,p.Hb>p.za&&(p.Hb=p.za),p.Va>p.Ub&&(p.Va=p.Ub),0<p.L){var E=p.ed;for(S=0;4>S;++S){var R;if(p.Qa.Cb){var B=p.Qa.Lb[S];p.Qa.Fb||(B+=E.Tb)}else B=E.Tb;for(R=0;1>=R;++R){var z=p.gd[S][R],U=B;if(E.Pc&&(U+=E.vd[0],R&&(U+=E.od[0])),0<(U=0>U?0:63<U?63:U)){var q=U;0<E.wb&&(q=4<E.wb?q>>2:q>>1)>9-E.wb&&(q=9-E.wb),1>q&&(q=1),z.dd=q,z.tc=2*U+q,z.ld=40<=U?2:15<=U?1:0}else z.tc=0;z.La=R}}}S=0}else zn(p,6,"Frame setup failed"),S=p.a;if(S=S==0){if(S){p.$c=0,0<p.Aa||(p.Ic=_I);t:{S=p.Ic,E=4*(q=p.za);var G=32*q,lt=q+1,gt=0<p.L?q*(0<p.Aa?2:1):0,mt=(p.Aa==2?2:1)*q;if((z=E+832+(R=3*(16*S+dv[p.L])/2*G)+(B=p.Fa!=null&&0<p.Fa.length?p.Kc.c*p.Kc.i:0))!=z)S=0;else{if(z>p.Vb){if(p.Vb=0,p.Ec=s(z),p.Fc=0,p.Ec==null){S=zn(p,1,"no memory during frame initialization.");break t}p.Vb=z}z=p.Ec,U=p.Fc,p.Ac=z,p.Bc=U,U+=E,p.Gd=o(G,F2),p.Hd=0,p.rb=o(lt+1,M2),p.sb=1,p.wa=gt?o(gt,Xd):null,p.Y=0,p.D.Nb=0,p.D.wa=p.wa,p.D.Y=p.Y,0<p.Aa&&(p.D.Y+=q),t(!0),p.oc=z,p.pc=U,U+=832,p.ya=o(mt,Bg),p.aa=0,p.D.ya=p.ya,p.D.aa=p.aa,p.Aa==2&&(p.D.aa+=q),p.R=16*q,p.B=8*q,q=(G=dv[p.L])*p.R,G=G/2*p.B,p.sa=z,p.ta=U+q,p.qa=p.sa,p.ra=p.ta+16*S*p.R+G,p.Ha=p.qa,p.Ia=p.ra+8*S*p.B+G,p.$c=0,U+=R,p.mb=B?z:null,p.nb=B?U:null,t(U+B<=p.Fc+p.Vb),zg(p),i(p.Ac,p.Bc,0,E),S=1}}if(S){if(m.ka=0,m.y=p.sa,m.O=p.ta,m.f=p.qa,m.N=p.ra,m.ea=p.Ha,m.Vd=p.Ia,m.fa=p.R,m.Rc=p.B,m.F=null,m.J=0,!rv){for(S=-255;255>=S;++S)cr[255+S]=0>S?-S:S;for(S=-1020;1020>=S;++S)Ka[1020+S]=-128>S?-128:127<S?127:S;for(S=-112;112>=S;++S)lm[112+S]=-16>S?-16:15<S?15:S;for(S=-255;510>=S;++S)pf[255+S]=0>S?0:255<S?255:S;rv=1}hf=hb,Ya=cb,sm=z2,gi=ub,Os=U2,Un=B2,df=Wg,nv=Vu,om=_b,Xu=Gg,Yu=Sb,sc=ef,Ku=Xg,ff=K2,Qu=Y2,oc=na,am=Wa,Ds=Ab,fo[0]=ea,fo[1]=db,fo[2]=mb,fo[3]=vb,fo[4]=$2,fo[5]=Zd,fo[6]=V2,fo[7]=Hg,fo[8]=wb,fo[9]=yb,ac[0]=q2,ac[1]=pb,ac[2]=Va,ac[3]=Qd,ac[4]=Xr,ac[5]=gb,ac[6]=H2,Qa[0]=tc,Qa[1]=fb,Qa[2]=bb,Qa[3]=$g,Qa[4]=$u,Qa[5]=xb,Qa[6]=Vg,S=1}else S=0}S&&(S=function(ft,Ct){for(ft.M=0;ft.M<ft.Va;++ft.M){var bt,ut=ft.Jc[ft.M&ft.Xb],ht=ft.m,_t=ft;for(bt=0;bt<_t.za;++bt){var Nt=ht,Et=_t,Wt=Et.Ac,jt=Et.Bc+4*bt,se=Et.zc,qt=Et.ya[Et.aa+bt];if(Et.Qa.Bb?qt.$b=yt(Nt,Et.Pa.jb[0])?2+yt(Nt,Et.Pa.jb[2]):yt(Nt,Et.Pa.jb[1]):qt.$b=0,Et.kc&&(qt.Ad=yt(Nt,Et.Bd)),qt.Za=!yt(Nt,145)+0,qt.Za){var $e=qt.Ob,Ye=0;for(Et=0;4>Et;++Et){var De,Ie=se[0+Et];for(De=0;4>De;++De){Ie=cI[Wt[jt+De]][Ie];for(var on=S4[yt(Nt,Ie[0])];0<on;)on=S4[2*on+yt(Nt,Ie[on])];Ie=-on,Wt[jt+De]=Ie}r($e,Ye,Wt,jt,4),Ye+=4,se[0+Et]=Ie}}else Ie=yt(Nt,156)?yt(Nt,128)?1:3:yt(Nt,163)?2:0,qt.Ob[0]=Ie,i(Wt,jt,Ie,4),i(se,0,Ie,4);qt.Dd=yt(Nt,142)?yt(Nt,114)?yt(Nt,183)?1:3:2:0}if(_t.m.Ka)return zn(ft,7,"Premature end-of-partition0 encountered.");for(;ft.ja<ft.za;++ft.ja){if(_t=ut,Nt=(ht=ft).rb[ht.sb-1],Wt=ht.rb[ht.sb+ht.ja],bt=ht.ya[ht.aa+ht.ja],jt=ht.kc?bt.Ad:0)Nt.la=Wt.la=0,bt.Za||(Nt.Na=Wt.Na=0),bt.Hc=0,bt.Gc=0,bt.ia=0;else{var tn,Se;if(Nt=Wt,Wt=_t,jt=ht.Pa.Xc,se=ht.ya[ht.aa+ht.ja],qt=ht.pb[se.$b],Et=se.ad,$e=0,Ye=ht.rb[ht.sb-1],Ie=De=0,i(Et,$e,0,384),se.Za)var Jn=0,Fi=jt[3];else{on=s(16);var Zn=Nt.Na+Ye.Na;if(Zn=cm(Wt,jt[1],Zn,qt.Eb,0,on,0),Nt.Na=Ye.Na=(0<Zn)+0,1<Zn)hf(on,0,Et,$e);else{var Oi=on[0]+3>>3;for(on=0;256>on;on+=16)Et[$e+on]=Oi}Jn=1,Fi=jt[0]}var Ke=15&Nt.la,is=15&Ye.la;for(on=0;4>on;++on){var ss=1&is;for(Oi=Se=0;4>Oi;++Oi)Ke=Ke>>1|(ss=(Zn=cm(Wt,Fi,Zn=ss+(1&Ke),qt.Sc,Jn,Et,$e))>Jn)<<7,Se=Se<<2|(3<Zn?3:1<Zn?2:Et[$e+0]!=0),$e+=16;Ke>>=4,is=is>>1|ss<<7,De=(De<<8|Se)>>>0}for(Fi=Ke,Jn=is>>4,tn=0;4>tn;tn+=2){for(Se=0,Ke=Nt.la>>4+tn,is=Ye.la>>4+tn,on=0;2>on;++on){for(ss=1&is,Oi=0;2>Oi;++Oi)Zn=ss+(1&Ke),Ke=Ke>>1|(ss=0<(Zn=cm(Wt,jt[2],Zn,qt.Qc,0,Et,$e)))<<3,Se=Se<<2|(3<Zn?3:1<Zn?2:Et[$e+0]!=0),$e+=16;Ke>>=2,is=is>>1|ss<<5}Ie|=Se<<4*tn,Fi|=Ke<<4<<tn,Jn|=(240&is)<<tn}Nt.la=Fi,Ye.la=Jn,se.Hc=De,se.Gc=Ie,se.ia=43690&Ie?0:qt.ia,jt=!(De|Ie)}if(0<ht.L&&(ht.wa[ht.Y+ht.ja]=ht.gd[bt.$b][bt.Za],ht.wa[ht.Y+ht.ja].La|=!jt),_t.Ka)return zn(ft,7,"Premature end-of-file encountered.")}if(zg(ft),ht=Ct,_t=1,bt=(ut=ft).D,Nt=0<ut.L&&ut.M>=ut.zb&&ut.M<=ut.Va,ut.Aa==0)t:{if(bt.M=ut.M,bt.uc=Nt,tm(ut,bt),_t=1,bt=(Se=ut.D).Nb,Nt=(Ie=dv[ut.L])*ut.R,Wt=Ie/2*ut.B,on=16*bt*ut.R,Oi=8*bt*ut.B,jt=ut.sa,se=ut.ta-Nt+on,qt=ut.qa,Et=ut.ra-Wt+Oi,$e=ut.Ha,Ye=ut.Ia-Wt+Oi,is=(Ke=Se.M)==0,De=Ke>=ut.Va-1,ut.Aa==2&&tm(ut,Se),Se.uc)for(ss=(Zn=ut).D.M,t(Zn.D.uc),Se=Zn.yb;Se<Zn.Hb;++Se){Jn=Se,Fi=ss;var xr=(Fr=(Fn=Zn).D).Nb;tn=Fn.R;var Fr=Fr.wa[Fr.Y+Jn],mi=Fn.sa,Us=Fn.ta+16*xr*tn+16*Jn,ia=Fr.dd,Ar=Fr.tc;if(Ar!=0)if(t(3<=Ar),Fn.L==1)0<Jn&&oc(mi,Us,tn,Ar+4),Fr.La&&Ds(mi,Us,tn,Ar),0<Fi&&Qu(mi,Us,tn,Ar+4),Fr.La&&am(mi,Us,tn,Ar);else{var Ja=Fn.B,Ju=Fn.qa,gf=Fn.ra+8*xr*Ja+8*Jn,cc=Fn.Ha,Fn=Fn.Ia+8*xr*Ja+8*Jn;xr=Fr.ld,0<Jn&&(nv(mi,Us,tn,Ar+4,ia,xr),Xu(Ju,gf,cc,Fn,Ja,Ar+4,ia,xr)),Fr.La&&(sc(mi,Us,tn,Ar,ia,xr),ff(Ju,gf,cc,Fn,Ja,Ar,ia,xr)),0<Fi&&(df(mi,Us,tn,Ar+4,ia,xr),om(Ju,gf,cc,Fn,Ja,Ar+4,ia,xr)),Fr.La&&(Yu(mi,Us,tn,Ar,ia,xr),Ku(Ju,gf,cc,Fn,Ja,Ar,ia,xr))}}if(ut.ia&&alert("todo:DitherRow"),ht.put!=null){if(Se=16*Ke,Ke=16*(Ke+1),is?(ht.y=ut.sa,ht.O=ut.ta+on,ht.f=ut.qa,ht.N=ut.ra+Oi,ht.ea=ut.Ha,ht.W=ut.Ia+Oi):(Se-=Ie,ht.y=jt,ht.O=se,ht.f=qt,ht.N=Et,ht.ea=$e,ht.W=Ye),De||(Ke-=Ie),Ke>ht.o&&(Ke=ht.o),ht.F=null,ht.J=null,ut.Fa!=null&&0<ut.Fa.length&&Se<Ke&&(ht.J=Jg(ut,ht,Se,Ke-Se),ht.F=ut.mb,ht.F==null&&ht.F.length==0)){_t=zn(ut,3,"Could not decode alpha data.");break t}Se<ht.j&&(Ie=ht.j-Se,Se=ht.j,t(!(1&Ie)),ht.O+=ut.R*Ie,ht.N+=ut.B*(Ie>>1),ht.W+=ut.B*(Ie>>1),ht.F!=null&&(ht.J+=ht.width*Ie)),Se<Ke&&(ht.O+=ht.v,ht.N+=ht.v>>1,ht.W+=ht.v>>1,ht.F!=null&&(ht.J+=ht.v),ht.ka=Se-ht.j,ht.U=ht.va-ht.v,ht.T=Ke-Se,_t=ht.put(ht))}bt+1!=ut.Ic||De||(r(ut.sa,ut.ta-Nt,jt,se+16*ut.R,Nt),r(ut.qa,ut.ra-Wt,qt,Et+8*ut.B,Wt),r(ut.Ha,ut.Ia-Wt,$e,Ye+8*ut.B,Wt))}if(!_t)return zn(ft,6,"Output aborted.")}return 1}(p,m)),m.bc!=null&&m.bc(m),S&=1}return S?(p.cb=0,S):0}function co(p,m,S,E,R){R=p[m+S+32*E]+(R>>3),p[m+S+32*E]=-256&R?0>R?0:255:R}function Kd(p,m,S,E,R,B){co(p,m,0,S,E+R),co(p,m,1,S,E+B),co(p,m,2,S,E-B),co(p,m,3,S,E-R)}function Ri(p){return(20091*p>>16)+p}function Ug(p,m,S,E){var R,B=0,z=s(16);for(R=0;4>R;++R){var U=p[m+0]+p[m+8],q=p[m+0]-p[m+8],G=(35468*p[m+4]>>16)-Ri(p[m+12]),lt=Ri(p[m+4])+(35468*p[m+12]>>16);z[B+0]=U+lt,z[B+1]=q+G,z[B+2]=q-G,z[B+3]=U-lt,B+=4,m++}for(R=B=0;4>R;++R)U=(p=z[B+0]+4)+z[B+8],q=p-z[B+8],G=(35468*z[B+4]>>16)-Ri(z[B+12]),co(S,E,0,0,U+(lt=Ri(z[B+4])+(35468*z[B+12]>>16))),co(S,E,1,0,q+G),co(S,E,2,0,q-G),co(S,E,3,0,U-lt),B++,E+=32}function B2(p,m,S,E){var R=p[m+0]+4,B=35468*p[m+4]>>16,z=Ri(p[m+4]),U=35468*p[m+1]>>16;Kd(S,E,0,R+z,p=Ri(p[m+1]),U),Kd(S,E,1,R+B,p,U),Kd(S,E,2,R-B,p,U),Kd(S,E,3,R-z,p,U)}function cb(p,m,S,E,R){Ug(p,m,S,E),R&&Ug(p,m+16,S,E+4)}function z2(p,m,S,E){Ya(p,m+0,S,E,1),Ya(p,m+32,S,E+128,1)}function ub(p,m,S,E){var R;for(p=p[m+0]+4,R=0;4>R;++R)for(m=0;4>m;++m)co(S,E,m,R,p)}function U2(p,m,S,E){p[m+0]&&gi(p,m+0,S,E),p[m+16]&&gi(p,m+16,S,E+4),p[m+32]&&gi(p,m+32,S,E+128),p[m+48]&&gi(p,m+48,S,E+128+4)}function hb(p,m,S,E){var R,B=s(16);for(R=0;4>R;++R){var z=p[m+0+R]+p[m+12+R],U=p[m+4+R]+p[m+8+R],q=p[m+4+R]-p[m+8+R],G=p[m+0+R]-p[m+12+R];B[0+R]=z+U,B[8+R]=z-U,B[4+R]=G+q,B[12+R]=G-q}for(R=0;4>R;++R)z=(p=B[0+4*R]+3)+B[3+4*R],U=B[1+4*R]+B[2+4*R],q=B[1+4*R]-B[2+4*R],G=p-B[3+4*R],S[E+0]=z+U>>3,S[E+16]=G+q>>3,S[E+32]=z-U>>3,S[E+48]=G-q>>3,E+=64}function qg(p,m,S){var E,R=m-32,B=rs,z=255-p[R-1];for(E=0;E<S;++E){var U,q=B,G=z+p[m-1];for(U=0;U<S;++U)p[m+U]=q[G+p[R+U]];m+=32}}function db(p,m){qg(p,m,4)}function fb(p,m){qg(p,m,8)}function pb(p,m){qg(p,m,16)}function Va(p,m){var S;for(S=0;16>S;++S)r(p,m+32*S,p,m-32,16)}function Qd(p,m){var S;for(S=16;0<S;--S)i(p,m,p[m-1],16),m+=32}function Jd(p,m,S){var E;for(E=0;16>E;++E)i(m,S+32*E,p,16)}function q2(p,m){var S,E=16;for(S=0;16>S;++S)E+=p[m-1+32*S]+p[m+S-32];Jd(E>>5,p,m)}function Xr(p,m){var S,E=8;for(S=0;16>S;++S)E+=p[m-1+32*S];Jd(E>>4,p,m)}function gb(p,m){var S,E=8;for(S=0;16>S;++S)E+=p[m+S-32];Jd(E>>4,p,m)}function H2(p,m){Jd(128,p,m)}function pe(p,m,S){return p+2*m+S+2>>2}function mb(p,m){var S,E=m-32;for(E=new Uint8Array([pe(p[E-1],p[E+0],p[E+1]),pe(p[E+0],p[E+1],p[E+2]),pe(p[E+1],p[E+2],p[E+3]),pe(p[E+2],p[E+3],p[E+4])]),S=0;4>S;++S)r(p,m+32*S,E,0,E.length)}function vb(p,m){var S=p[m-1],E=p[m-1+32],R=p[m-1+64],B=p[m-1+96];Tt(p,m+0,16843009*pe(p[m-1-32],S,E)),Tt(p,m+32,16843009*pe(S,E,R)),Tt(p,m+64,16843009*pe(E,R,B)),Tt(p,m+96,16843009*pe(R,B,B))}function ea(p,m){var S,E=4;for(S=0;4>S;++S)E+=p[m+S-32]+p[m-1+32*S];for(E>>=3,S=0;4>S;++S)i(p,m+32*S,E,4)}function $2(p,m){var S=p[m-1+0],E=p[m-1+32],R=p[m-1+64],B=p[m-1-32],z=p[m+0-32],U=p[m+1-32],q=p[m+2-32],G=p[m+3-32];p[m+0+96]=pe(E,R,p[m-1+96]),p[m+1+96]=p[m+0+64]=pe(S,E,R),p[m+2+96]=p[m+1+64]=p[m+0+32]=pe(B,S,E),p[m+3+96]=p[m+2+64]=p[m+1+32]=p[m+0+0]=pe(z,B,S),p[m+3+64]=p[m+2+32]=p[m+1+0]=pe(U,z,B),p[m+3+32]=p[m+2+0]=pe(q,U,z),p[m+3+0]=pe(G,q,U)}function V2(p,m){var S=p[m+1-32],E=p[m+2-32],R=p[m+3-32],B=p[m+4-32],z=p[m+5-32],U=p[m+6-32],q=p[m+7-32];p[m+0+0]=pe(p[m+0-32],S,E),p[m+1+0]=p[m+0+32]=pe(S,E,R),p[m+2+0]=p[m+1+32]=p[m+0+64]=pe(E,R,B),p[m+3+0]=p[m+2+32]=p[m+1+64]=p[m+0+96]=pe(R,B,z),p[m+3+32]=p[m+2+64]=p[m+1+96]=pe(B,z,U),p[m+3+64]=p[m+2+96]=pe(z,U,q),p[m+3+96]=pe(U,q,q)}function Zd(p,m){var S=p[m-1+0],E=p[m-1+32],R=p[m-1+64],B=p[m-1-32],z=p[m+0-32],U=p[m+1-32],q=p[m+2-32],G=p[m+3-32];p[m+0+0]=p[m+1+64]=B+z+1>>1,p[m+1+0]=p[m+2+64]=z+U+1>>1,p[m+2+0]=p[m+3+64]=U+q+1>>1,p[m+3+0]=q+G+1>>1,p[m+0+96]=pe(R,E,S),p[m+0+64]=pe(E,S,B),p[m+0+32]=p[m+1+96]=pe(S,B,z),p[m+1+32]=p[m+2+96]=pe(B,z,U),p[m+2+32]=p[m+3+96]=pe(z,U,q),p[m+3+32]=pe(U,q,G)}function Hg(p,m){var S=p[m+0-32],E=p[m+1-32],R=p[m+2-32],B=p[m+3-32],z=p[m+4-32],U=p[m+5-32],q=p[m+6-32],G=p[m+7-32];p[m+0+0]=S+E+1>>1,p[m+1+0]=p[m+0+64]=E+R+1>>1,p[m+2+0]=p[m+1+64]=R+B+1>>1,p[m+3+0]=p[m+2+64]=B+z+1>>1,p[m+0+32]=pe(S,E,R),p[m+1+32]=p[m+0+96]=pe(E,R,B),p[m+2+32]=p[m+1+96]=pe(R,B,z),p[m+3+32]=p[m+2+96]=pe(B,z,U),p[m+3+64]=pe(z,U,q),p[m+3+96]=pe(U,q,G)}function yb(p,m){var S=p[m-1+0],E=p[m-1+32],R=p[m-1+64],B=p[m-1+96];p[m+0+0]=S+E+1>>1,p[m+2+0]=p[m+0+32]=E+R+1>>1,p[m+2+32]=p[m+0+64]=R+B+1>>1,p[m+1+0]=pe(S,E,R),p[m+3+0]=p[m+1+32]=pe(E,R,B),p[m+3+32]=p[m+1+64]=pe(R,B,B),p[m+3+64]=p[m+2+64]=p[m+0+96]=p[m+1+96]=p[m+2+96]=p[m+3+96]=B}function wb(p,m){var S=p[m-1+0],E=p[m-1+32],R=p[m-1+64],B=p[m-1+96],z=p[m-1-32],U=p[m+0-32],q=p[m+1-32],G=p[m+2-32];p[m+0+0]=p[m+2+32]=S+z+1>>1,p[m+0+32]=p[m+2+64]=E+S+1>>1,p[m+0+64]=p[m+2+96]=R+E+1>>1,p[m+0+96]=B+R+1>>1,p[m+3+0]=pe(U,q,G),p[m+2+0]=pe(z,U,q),p[m+1+0]=p[m+3+32]=pe(S,z,U),p[m+1+32]=p[m+3+64]=pe(E,S,z),p[m+1+64]=p[m+3+96]=pe(R,E,S),p[m+1+96]=pe(B,R,E)}function bb(p,m){var S;for(S=0;8>S;++S)r(p,m+32*S,p,m-32,8)}function $g(p,m){var S;for(S=0;8>S;++S)i(p,m,p[m-1],8),m+=32}function Hu(p,m,S){var E;for(E=0;8>E;++E)i(m,S+32*E,p,8)}function tc(p,m){var S,E=8;for(S=0;8>S;++S)E+=p[m+S-32]+p[m-1+32*S];Hu(E>>4,p,m)}function xb(p,m){var S,E=4;for(S=0;8>S;++S)E+=p[m+S-32];Hu(E>>3,p,m)}function $u(p,m){var S,E=4;for(S=0;8>S;++S)E+=p[m-1+32*S];Hu(E>>3,p,m)}function Vg(p,m){Hu(128,p,m)}function tf(p,m,S){var E=p[m-S],R=p[m+0],B=3*(R-E)+Nb[1020+p[m-2*S]-p[m+S]],z=iv[112+(B+4>>3)];p[m-S]=rs[255+E+iv[112+(B+3>>3)]],p[m+0]=rs[255+R-z]}function W2(p,m,S,E){var R=p[m+0],B=p[m+S];return Bs[255+p[m-2*S]-p[m-S]]>E||Bs[255+B-R]>E}function G2(p,m,S,E){return 4*Bs[255+p[m-S]-p[m+0]]+Bs[255+p[m-2*S]-p[m+S]]<=E}function X2(p,m,S,E,R){var B=p[m-3*S],z=p[m-2*S],U=p[m-S],q=p[m+0],G=p[m+S],lt=p[m+2*S],gt=p[m+3*S];return 4*Bs[255+U-q]+Bs[255+z-G]>E?0:Bs[255+p[m-4*S]-B]<=R&&Bs[255+B-z]<=R&&Bs[255+z-U]<=R&&Bs[255+gt-lt]<=R&&Bs[255+lt-G]<=R&&Bs[255+G-q]<=R}function Y2(p,m,S,E){var R=2*E+1;for(E=0;16>E;++E)G2(p,m+E,S,R)&&tf(p,m+E,S)}function na(p,m,S,E){var R=2*E+1;for(E=0;16>E;++E)G2(p,m+E*S,1,R)&&tf(p,m+E*S,1)}function Wa(p,m,S,E){var R;for(R=3;0<R;--R)Y2(p,m+=4*S,S,E)}function Ab(p,m,S,E){var R;for(R=3;0<R;--R)na(p,m+=4,S,E)}function ec(p,m,S,E,R,B,z,U){for(B=2*B+1;0<R--;){if(X2(p,m,S,B,z))if(W2(p,m,S,U))tf(p,m,S);else{var q=p,G=m,lt=S,gt=q[G-2*lt],mt=q[G-lt],ft=q[G+0],Ct=q[G+lt],bt=q[G+2*lt],ut=27*(_t=Nb[1020+3*(ft-mt)+Nb[1020+gt-Ct]])+63>>7,ht=18*_t+63>>7,_t=9*_t+63>>7;q[G-3*lt]=rs[255+q[G-3*lt]+_t],q[G-2*lt]=rs[255+gt+ht],q[G-lt]=rs[255+mt+ut],q[G+0]=rs[255+ft-ut],q[G+lt]=rs[255+Ct-ht],q[G+2*lt]=rs[255+bt-_t]}m+=E}}function uo(p,m,S,E,R,B,z,U){for(B=2*B+1;0<R--;){if(X2(p,m,S,B,z))if(W2(p,m,S,U))tf(p,m,S);else{var q=p,G=m,lt=S,gt=q[G-lt],mt=q[G+0],ft=q[G+lt],Ct=iv[112+((bt=3*(mt-gt))+4>>3)],bt=iv[112+(bt+3>>3)],ut=Ct+1>>1;q[G-2*lt]=rs[255+q[G-2*lt]+ut],q[G-lt]=rs[255+gt+bt],q[G+0]=rs[255+mt-Ct],q[G+lt]=rs[255+ft-ut]}m+=E}}function Wg(p,m,S,E,R,B){ec(p,m,S,1,16,E,R,B)}function Vu(p,m,S,E,R,B){ec(p,m,1,S,16,E,R,B)}function Sb(p,m,S,E,R,B){var z;for(z=3;0<z;--z)uo(p,m+=4*S,S,1,16,E,R,B)}function ef(p,m,S,E,R,B){var z;for(z=3;0<z;--z)uo(p,m+=4,1,S,16,E,R,B)}function _b(p,m,S,E,R,B,z,U){ec(p,m,R,1,8,B,z,U),ec(S,E,R,1,8,B,z,U)}function Gg(p,m,S,E,R,B,z,U){ec(p,m,1,R,8,B,z,U),ec(S,E,1,R,8,B,z,U)}function Xg(p,m,S,E,R,B,z,U){uo(p,m+4*R,R,1,8,B,z,U),uo(S,E+4*R,R,1,8,B,z,U)}function K2(p,m,S,E,R,B,z,U){uo(p,m+4,1,R,8,B,z,U),uo(S,E+4,1,R,8,B,z,U)}function nf(){this.ba=new Zi,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new He,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Yg(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Kg(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Q2(){this.ua=0,this.Wa=new et,this.vb=new et,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new H,this.yc=new j}function Eb(){this.xb=this.a=0,this.l=new Yd,this.ca=new Zi,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new T,this.Pb=0,this.wd=new T,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Q2,this.ab=0,this.gc=o(4,Kg),this.Oc=0}function rf(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Yd,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Wu(p,m,S,E,R,B,z){for(p=p==null?0:p[m+0],m=0;m<z;++m)R[B+m]=p+S[E+m]&255,p=R[B+m]}function Qg(p,m,S,E,R,B,z){var U;if(p==null)Wu(null,null,S,E,R,B,z);else for(U=0;U<z;++U)R[B+U]=p[m+U]+S[E+U]&255}function nc(p,m,S,E,R,B,z){if(p==null)Wu(null,null,S,E,R,B,z);else{var U,q=p[m+0],G=q,lt=q;for(U=0;U<z;++U)G=lt+(q=p[m+U])-G,lt=S[E+U]+(-256&G?0>G?0:255:G)&255,G=q,R[B+U]=lt}}function Jg(p,m,S,E){var R=m.width,B=m.o;if(t(p!=null&&m!=null),0>S||0>=E||S+E>B)return null;if(!p.Cc){if(p.ga==null){var z;if(p.ga=new rf,(z=p.ga==null)||(z=m.width*m.o,t(p.Gb.length==0),p.Gb=s(z),p.Uc=0,p.Gb==null?z=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,z=1),z=!z),!z){z=p.ga;var U=p.Fa,q=p.P,G=p.qc,lt=p.mb,gt=p.nb,mt=q+1,ft=G-1,Ct=z.l;if(t(U!=null&&lt!=null&&m!=null),lc[0]=null,lc[1]=Wu,lc[2]=Qg,lc[3]=nc,z.ca=lt,z.tb=gt,z.c=m.width,z.i=m.height,t(0<z.c&&0<z.i),1>=G)m=0;else if(z.$a=U[q+0]>>0&3,z.Z=U[q+0]>>2&3,z.Lc=U[q+0]>>4&3,q=U[q+0]>>6&3,0>z.$a||1<z.$a||4<=z.Z||1<z.Lc||q)m=0;else if(Ct.put=Tn,Ct.ac=Ae,Ct.bc=Rn,Ct.ma=z,Ct.width=m.width,Ct.height=m.height,Ct.Da=m.Da,Ct.v=m.v,Ct.va=m.va,Ct.j=m.j,Ct.o=m.o,z.$a)t:{t(z.$a==1),m=Ms();e:for(;;){if(m==null){m=0;break t}if(t(z!=null),z.mc=m,m.c=z.c,m.i=z.i,m.l=z.l,m.l.ma=z,m.l.width=z.c,m.l.height=z.i,m.a=0,W(m.m,U,mt,ft),!ta(z.c,z.i,1,m,null)||(m.ab==1&&m.gc[0].hc==3&&$a(m.s)?(z.ic=1,U=m.c*m.i,m.Ta=null,m.Ua=0,m.V=s(U),m.Ba=0,m.V==null?(m.a=1,m=0):m=1):(z.ic=0,m=qu(m,z.c)),!m))break e;m=1;break t}z.mc=null,m=0}else m=ft>=z.c*z.i;z=!m}if(z)return null;p.ga.Lc!=1?p.Ga=0:E=B-S}t(p.ga!=null),t(S+E<=B);t:{if(m=(U=p.ga).c,B=U.l.o,U.$a==0){if(mt=p.rc,ft=p.Vc,Ct=p.Fa,q=p.P+1+S*m,G=p.mb,lt=p.nb+S*m,t(q<=p.P+p.qc),U.Z!=0)for(t(lc[U.Z]!=null),z=0;z<E;++z)lc[U.Z](mt,ft,Ct,q,G,lt,m),mt=G,ft=lt,lt+=m,q+=m;else for(z=0;z<E;++z)r(G,lt,Ct,q,m),mt=G,ft=lt,lt+=m,q+=m;p.rc=mt,p.Vc=ft}else{if(t(U.mc!=null),m=S+E,t((z=U.mc)!=null),t(m<=z.i),z.C>=m)m=1;else if(U.ic||pt(),U.ic){U=z.V,mt=z.Ba,ft=z.c;var bt=z.i,ut=(Ct=1,q=z.$/ft,G=z.$%ft,lt=z.m,gt=z.s,z.$),ht=ft*bt,_t=ft*m,Nt=gt.wc,Et=ut<_t?Kn(gt,G,q):null;t(ut<=ht),t(m<=bt),t($a(gt));e:for(;;){for(;!lt.h&&ut<_t;){if(G&Nt||(Et=Kn(gt,G,q)),t(Et!=null),ot(lt),256>(bt=Sn(Et.G[0],Et.H[0],lt)))U[mt+ut]=bt,++ut,++G>=ft&&(G=0,++q<=m&&!(q%16)&&ao(z,q));else{if(!(280>bt)){Ct=0;break e}bt=ar(bt-256,lt);var Wt,jt=Sn(Et.G[4],Et.H[4],lt);if(ot(lt),!(ut>=(jt=In(ft,jt=ar(jt,lt)))&&ht-ut>=bt)){Ct=0;break e}for(Wt=0;Wt<bt;++Wt)U[mt+ut+Wt]=U[mt+ut+Wt-jt];for(ut+=bt,G+=bt;G>=ft;)G-=ft,++q<=m&&!(q%16)&&ao(z,q);ut<_t&&G&Nt&&(Et=Kn(gt,G,q))}t(lt.h==X(lt))}ao(z,q>m?m:q);break e}!Ct||lt.h&&ut<ht?(Ct=0,z.a=lt.h?5:3):z.$=ut,m=Ct}else m=lo(z,z.V,z.Ba,z.c,z.i,m,$d);if(!m){E=0;break t}}S+E>=B&&(p.Cc=1),E=1}if(!E)return null;if(p.Cc&&((E=p.ga)!=null&&(E.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+S*R}function A(p,m,S,E,R,B){for(;0<R--;){var z,U=p,q=m+(S?1:0),G=p,lt=m+(S?0:3);for(z=0;z<E;++z){var gt=G[lt+4*z];gt!=255&&(gt*=32897,U[q+4*z+0]=U[q+4*z+0]*gt>>23,U[q+4*z+1]=U[q+4*z+1]*gt>>23,U[q+4*z+2]=U[q+4*z+2]*gt>>23)}m+=B}}function M(p,m,S,E,R){for(;0<E--;){var B;for(B=0;B<S;++B){var z=p[m+2*B+0],U=15&(G=p[m+2*B+1]),q=4369*U,G=(240&G|G>>4)*q>>16;p[m+2*B+0]=(240&z|z>>4)*q>>16&240|(15&z|z<<4)*q>>16>>4&15,p[m+2*B+1]=240&G|U}m+=R}}function K(p,m,S,E,R,B,z,U){var q,G,lt=255;for(G=0;G<R;++G){for(q=0;q<E;++q){var gt=p[m+q];B[z+4*q]=gt,lt&=gt}m+=S,z+=U}return lt!=255}function st(p,m,S,E,R){var B;for(B=0;B<R;++B)S[E+B]=p[m+B]>>8}function pt(){js=A,ln=M,cn=K,qn=st}function At(p,m,S){D[p]=function(E,R,B,z,U,q,G,lt,gt,mt,ft,Ct,bt,ut,ht,_t,Nt){var Et,Wt=Nt-1>>1,jt=U[q+0]|G[lt+0]<<16,se=gt[mt+0]|ft[Ct+0]<<16;t(E!=null);var qt=3*jt+se+131074>>2;for(m(E[R+0],255&qt,qt>>16,bt,ut),B!=null&&(qt=3*se+jt+131074>>2,m(B[z+0],255&qt,qt>>16,ht,_t)),Et=1;Et<=Wt;++Et){var $e=U[q+Et]|G[lt+Et]<<16,Ye=gt[mt+Et]|ft[Ct+Et]<<16,De=jt+$e+se+Ye+524296,Ie=De+2*($e+se)>>3;qt=Ie+jt>>1,jt=(De=De+2*(jt+Ye)>>3)+$e>>1,m(E[R+2*Et-1],255&qt,qt>>16,bt,ut+(2*Et-1)*S),m(E[R+2*Et-0],255&jt,jt>>16,bt,ut+(2*Et-0)*S),B!=null&&(qt=De+se>>1,jt=Ie+Ye>>1,m(B[z+2*Et-1],255&qt,qt>>16,ht,_t+(2*Et-1)*S),m(B[z+2*Et+0],255&jt,jt>>16,ht,_t+(2*Et+0)*S)),jt=$e,se=Ye}1&Nt||(qt=3*jt+se+131074>>2,m(E[R+Nt-1],255&qt,qt>>16,bt,ut+(Nt-1)*S),B!=null&&(qt=3*se+jt+131074>>2,m(B[z+Nt-1],255&qt,qt>>16,ht,_t+(Nt-1)*S)))}}function Pt(){zs[sv]=fI,zs[ov]=E4,zs[b4]=pI,zs[av]=C4,zs[lv]=N4,zs[Lb]=L4,zs[x4]=gI,zs[Pb]=E4,zs[kb]=C4,zs[cv]=N4,zs[Tb]=L4}function Vt(p){return p&-16384?0>p?0:255:p>>mI}function ie(p,m){return Vt((19077*p>>8)+(26149*m>>8)-14234)}function be(p,m,S){return Vt((19077*p>>8)-(6419*m>>8)-(13320*S>>8)+8708)}function ge(p,m){return Vt((19077*p>>8)+(33050*m>>8)-17685)}function Oe(p,m,S,E,R){E[R+0]=ie(p,S),E[R+1]=be(p,m,S),E[R+2]=ge(p,m)}function _n(p,m,S,E,R){E[R+0]=ge(p,m),E[R+1]=be(p,m,S),E[R+2]=ie(p,S)}function Mn(p,m,S,E,R){var B=be(p,m,S);m=B<<3&224|ge(p,m)>>3,E[R+0]=248&ie(p,S)|B>>5,E[R+1]=m}function Qn(p,m,S,E,R){var B=240&ge(p,m)|15;E[R+0]=240&ie(p,S)|be(p,m,S)>>4,E[R+1]=B}function Yr(p,m,S,E,R){E[R+0]=255,Oe(p,m,S,E,R+1)}function br(p,m,S,E,R){_n(p,m,S,E,R),E[R+3]=255}function ho(p,m,S,E,R){Oe(p,m,S,E,R),E[R+3]=255}function ns(p,m){return 0>p?0:p>m?m:p}function ra(p,m,S){D[p]=function(E,R,B,z,U,q,G,lt,gt){for(var mt=lt+(-2&gt)*S;lt!=mt;)m(E[R+0],B[z+0],U[q+0],G,lt),m(E[R+1],B[z+0],U[q+0],G,lt+S),R+=2,++z,++q,lt+=2*S;1&gt&&m(E[R+0],B[z+0],U[q+0],G,lt)}}function J2(p,m,S){return S==0?p==0?m==0?6:5:m==0?4:0:S}function Zg(p,m,S,E,R){switch(p>>>30){case 3:Ya(m,S,E,R,0);break;case 2:Un(m,S,E,R);break;case 1:gi(m,S,E,R)}}function tm(p,m){var S,E,R=m.M,B=m.Nb,z=p.oc,U=p.pc+40,q=p.oc,G=p.pc+584,lt=p.oc,gt=p.pc+600;for(S=0;16>S;++S)z[U+32*S-1]=129;for(S=0;8>S;++S)q[G+32*S-1]=129,lt[gt+32*S-1]=129;for(0<R?z[U-1-32]=q[G-1-32]=lt[gt-1-32]=129:(i(z,U-32-1,127,21),i(q,G-32-1,127,9),i(lt,gt-32-1,127,9)),E=0;E<p.za;++E){var mt=m.ya[m.aa+E];if(0<E){for(S=-1;16>S;++S)r(z,U+32*S-4,z,U+32*S+12,4);for(S=-1;8>S;++S)r(q,G+32*S-4,q,G+32*S+4,4),r(lt,gt+32*S-4,lt,gt+32*S+4,4)}var ft=p.Gd,Ct=p.Hd+E,bt=mt.ad,ut=mt.Hc;if(0<R&&(r(z,U-32,ft[Ct].y,0,16),r(q,G-32,ft[Ct].f,0,8),r(lt,gt-32,ft[Ct].ea,0,8)),mt.Za){var ht=z,_t=U-32+16;for(0<R&&(E>=p.za-1?i(ht,_t,ft[Ct].y[15],4):r(ht,_t,ft[Ct+1].y,0,4)),S=0;4>S;S++)ht[_t+128+S]=ht[_t+256+S]=ht[_t+384+S]=ht[_t+0+S];for(S=0;16>S;++S,ut<<=2)ht=z,_t=U+k4[S],fo[mt.Ob[S]](ht,_t),Zg(ut,bt,16*+S,ht,_t)}else if(ht=J2(E,R,mt.Ob[0]),ac[ht](z,U),ut!=0)for(S=0;16>S;++S,ut<<=2)Zg(ut,bt,16*+S,z,U+k4[S]);for(S=mt.Gc,ht=J2(E,R,mt.Dd),Qa[ht](q,G),Qa[ht](lt,gt),ut=bt,ht=q,_t=G,255&(mt=S>>0)&&(170&mt?sm(ut,256,ht,_t):Os(ut,256,ht,_t)),mt=lt,ut=gt,255&(S>>=8)&&(170&S?sm(bt,320,mt,ut):Os(bt,320,mt,ut)),R<p.Ub-1&&(r(ft[Ct].y,0,z,U+480,16),r(ft[Ct].f,0,q,G+224,8),r(ft[Ct].ea,0,lt,gt+224,8)),S=8*B*p.B,ft=p.sa,Ct=p.ta+16*E+16*B*p.R,bt=p.qa,mt=p.ra+8*E+S,ut=p.Ha,ht=p.Ia+8*E+S,S=0;16>S;++S)r(ft,Ct+S*p.R,z,U+32*S,16);for(S=0;8>S;++S)r(bt,mt+S*p.B,q,G+32*S,8),r(ut,ht+S*p.B,lt,gt+32*S,8)}}function sf(p,m,S,E,R,B,z,U,q){var G=[0],lt=[0],gt=0,mt=q!=null?q.kd:0,ft=q??new Yg;if(p==null||12>S)return 7;ft.data=p,ft.w=m,ft.ha=S,m=[m],S=[S],ft.gb=[ft.gb];t:{var Ct=m,bt=S,ut=ft.gb;if(t(p!=null),t(bt!=null),t(ut!=null),ut[0]=0,12<=bt[0]&&!e(p,Ct[0],"RIFF")){if(e(p,Ct[0]+8,"WEBP")){ut=3;break t}var ht=Mt(p,Ct[0]+4);if(12>ht||4294967286<ht){ut=3;break t}if(mt&&ht>bt[0]-8){ut=7;break t}ut[0]=ht,Ct[0]+=12,bt[0]-=12}ut=0}if(ut!=0)return ut;for(ht=0<ft.gb[0],S=S[0];;){t:{var _t=p;bt=m,ut=S;var Nt=G,Et=lt,Wt=Ct=[0];if((qt=gt=[gt])[0]=0,8>ut[0])ut=7;else{if(!e(_t,bt[0],"VP8X")){if(Mt(_t,bt[0]+4)!=10){ut=3;break t}if(18>ut[0]){ut=7;break t}var jt=Mt(_t,bt[0]+8),se=1+Ft(_t,bt[0]+12);if(2147483648<=se*(_t=1+Ft(_t,bt[0]+15))){ut=3;break t}Wt!=null&&(Wt[0]=jt),Nt!=null&&(Nt[0]=se),Et!=null&&(Et[0]=_t),bt[0]+=18,ut[0]-=18,qt[0]=1}ut=0}}if(gt=gt[0],Ct=Ct[0],ut!=0)return ut;if(bt=!!(2&Ct),!ht&&gt)return 3;if(B!=null&&(B[0]=!!(16&Ct)),z!=null&&(z[0]=bt),U!=null&&(U[0]=0),z=G[0],Ct=lt[0],gt&&bt&&q==null){ut=0;break}if(4>S){ut=7;break}if(ht&&gt||!ht&&!gt&&!e(p,m[0],"ALPH")){S=[S],ft.na=[ft.na],ft.P=[ft.P],ft.Sa=[ft.Sa];t:{jt=p,ut=m,ht=S;var qt=ft.gb;Nt=ft.na,Et=ft.P,Wt=ft.Sa,se=22,t(jt!=null),t(ht!=null),_t=ut[0];var $e=ht[0];for(t(Nt!=null),t(Wt!=null),Nt[0]=null,Et[0]=null,Wt[0]=0;;){if(ut[0]=_t,ht[0]=$e,8>$e){ut=7;break t}var Ye=Mt(jt,_t+4);if(4294967286<Ye){ut=3;break t}var De=8+Ye+1&-2;if(se+=De,0<qt&&se>qt){ut=3;break t}if(!e(jt,_t,"VP8 ")||!e(jt,_t,"VP8L")){ut=0;break t}if($e[0]<De){ut=7;break t}e(jt,_t,"ALPH")||(Nt[0]=jt,Et[0]=_t+8,Wt[0]=Ye),_t+=De,$e-=De}}if(S=S[0],ft.na=ft.na[0],ft.P=ft.P[0],ft.Sa=ft.Sa[0],ut!=0)break}S=[S],ft.Ja=[ft.Ja],ft.xa=[ft.xa];t:if(qt=p,ut=m,ht=S,Nt=ft.gb[0],Et=ft.Ja,Wt=ft.xa,jt=ut[0],_t=!e(qt,jt,"VP8 "),se=!e(qt,jt,"VP8L"),t(qt!=null),t(ht!=null),t(Et!=null),t(Wt!=null),8>ht[0])ut=7;else{if(_t||se){if(qt=Mt(qt,jt+4),12<=Nt&&qt>Nt-12){ut=3;break t}if(mt&&qt>ht[0]-8){ut=7;break t}Et[0]=qt,ut[0]+=8,ht[0]-=8,Wt[0]=se}else Wt[0]=5<=ht[0]&&qt[jt+0]==47&&!(qt[jt+4]>>5),Et[0]=ht[0];ut=0}if(S=S[0],ft.Ja=ft.Ja[0],ft.xa=ft.xa[0],m=m[0],ut!=0)break;if(4294967286<ft.Ja)return 3;if(U==null||bt||(U[0]=ft.xa?2:1),z=[z],Ct=[Ct],ft.xa){if(5>S){ut=7;break}U=z,mt=Ct,bt=B,p==null||5>S?p=0:5<=S&&p[m+0]==47&&!(p[m+4]>>5)?(ht=[0],qt=[0],Nt=[0],W(Et=new T,p,m,S),te(Et,ht,qt,Nt)?(U!=null&&(U[0]=ht[0]),mt!=null&&(mt[0]=qt[0]),bt!=null&&(bt[0]=Nt[0]),p=1):p=0):p=0}else{if(10>S){ut=7;break}U=Ct,p==null||10>S||!O2(p,m+3,S-3)?p=0:(mt=p[m+0]|p[m+1]<<8|p[m+2]<<16,bt=16383&(p[m+7]<<8|p[m+6]),p=16383&(p[m+9]<<8|p[m+8]),1&mt||3<(mt>>1&7)||!(mt>>4&1)||mt>>5>=ft.Ja||!bt||!p?p=0:(z&&(z[0]=bt),U&&(U[0]=p),p=1))}if(!p||(z=z[0],Ct=Ct[0],gt&&(G[0]!=z||lt[0]!=Ct)))return 3;q!=null&&(q[0]=ft,q.offset=m-q.w,t(4294967286>m-q.w),t(q.offset==q.ha-S));break}return ut==0||ut==7&&gt&&q==null?(B!=null&&(B[0]|=ft.na!=null&&0<ft.na.length),E!=null&&(E[0]=z),R!=null&&(R[0]=Ct),0):ut}function em(p,m,S){var E=m.width,R=m.height,B=0,z=0,U=E,q=R;if(m.Da=p!=null&&0<p.Da,m.Da&&(U=p.cd,q=p.bd,B=p.v,z=p.j,11>S||(B&=-2,z&=-2),0>B||0>z||0>=U||0>=q||B+U>E||z+q>R))return 0;if(m.v=B,m.j=z,m.va=B+U,m.o=z+q,m.U=U,m.T=q,m.da=p!=null&&0<p.da,m.da){if(!he(U,q,S=[p.ib],B=[p.hb]))return 0;m.ib=S[0],m.hb=B[0]}return m.ob=p!=null&&p.ob,m.Kb=p==null||!p.Sd,m.da&&(m.ob=m.ib<3*E/4&&m.hb<3*R/4,m.Kb=0),1}function nm(p){if(p==null)return 2;if(11>p.S){var m=p.f.RGBA;m.fb+=(p.height-1)*m.A,m.A=-m.A}else m=p.f.kb,p=p.height,m.O+=(p-1)*m.fa,m.fa=-m.fa,m.N+=(p-1>>1)*m.Ab,m.Ab=-m.Ab,m.W+=(p-1>>1)*m.Db,m.Db=-m.Db,m.F!=null&&(m.J+=(p-1)*m.lb,m.lb=-m.lb);return 0}function of(p,m,S,E){if(E==null||0>=p||0>=m)return 2;if(S!=null){if(S.Da){var R=S.cd,B=S.bd,z=-2&S.v,U=-2&S.j;if(0>z||0>U||0>=R||0>=B||z+R>p||U+B>m)return 2;p=R,m=B}if(S.da){if(!he(p,m,R=[S.ib],B=[S.hb]))return 2;p=R[0],m=B[0]}}E.width=p,E.height=m;t:{var q=E.width,G=E.height;if(p=E.S,0>=q||0>=G||!(p>=sv&&13>p))p=2;else{if(0>=E.Rd&&E.sd==null){z=B=R=m=0;var lt=(U=q*T4[p])*G;if(11>p||(B=(G+1)/2*(m=(q+1)/2),p==12&&(z=(R=q)*G)),(G=s(lt+2*B+z))==null){p=1;break t}E.sd=G,11>p?((q=E.f.RGBA).eb=G,q.fb=0,q.A=U,q.size=lt):((q=E.f.kb).y=G,q.O=0,q.fa=U,q.Fd=lt,q.f=G,q.N=0+lt,q.Ab=m,q.Cd=B,q.ea=G,q.W=0+lt+B,q.Db=m,q.Ed=B,p==12&&(q.F=G,q.J=0+lt+2*B),q.Tc=z,q.lb=R)}if(m=1,R=E.S,B=E.width,z=E.height,R>=sv&&13>R)if(11>R)p=E.f.RGBA,m&=(U=Math.abs(p.A))*(z-1)+B<=p.size,m&=U>=B*T4[R],m&=p.eb!=null;else{p=E.f.kb,U=(B+1)/2,lt=(z+1)/2,q=Math.abs(p.fa),G=Math.abs(p.Ab);var gt=Math.abs(p.Db),mt=Math.abs(p.lb),ft=mt*(z-1)+B;m&=q*(z-1)+B<=p.Fd,m&=G*(lt-1)+U<=p.Cd,m=(m&=gt*(lt-1)+U<=p.Ed)&q>=B&G>=U&gt>=U,m&=p.y!=null,m&=p.f!=null,m&=p.ea!=null,R==12&&(m&=mt>=B,m&=ft<=p.Tc,m&=p.F!=null)}else m=0;p=m?0:2}}return p!=0||S!=null&&S.fd&&(p=nm(E)),p}var Mr=64,af=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],lf=24,cf=32,rm=8,Ii=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Dt("Predictor0","PredictorAdd0"),D.Predictor0=function(){return 4278190080},D.Predictor1=function(p){return p},D.Predictor2=function(p,m,S){return m[S+0]},D.Predictor3=function(p,m,S){return m[S+1]},D.Predictor4=function(p,m,S){return m[S-1]},D.Predictor5=function(p,m,S){return zt(zt(p,m[S+1]),m[S+0])},D.Predictor6=function(p,m,S){return zt(p,m[S-1])},D.Predictor7=function(p,m,S){return zt(p,m[S+0])},D.Predictor8=function(p,m,S){return zt(m[S-1],m[S+0])},D.Predictor9=function(p,m,S){return zt(m[S+0],m[S+1])},D.Predictor10=function(p,m,S){return zt(zt(p,m[S-1]),zt(m[S+0],m[S+1]))},D.Predictor11=function(p,m,S){var E=m[S+0];return 0>=we(E>>24&255,p>>24&255,(m=m[S-1])>>24&255)+we(E>>16&255,p>>16&255,m>>16&255)+we(E>>8&255,p>>8&255,m>>8&255)+we(255&E,255&p,255&m)?E:p},D.Predictor12=function(p,m,S){var E=m[S+0];return(Zt((p>>24&255)+(E>>24&255)-((m=m[S-1])>>24&255))<<24|Zt((p>>16&255)+(E>>16&255)-(m>>16&255))<<16|Zt((p>>8&255)+(E>>8&255)-(m>>8&255))<<8|Zt((255&p)+(255&E)-(255&m)))>>>0},D.Predictor13=function(p,m,S){var E=m[S-1];return(de((p=zt(p,m[S+0]))>>24&255,E>>24&255)<<24|de(p>>16&255,E>>16&255)<<16|de(p>>8&255,E>>8&255)<<8|de(p>>0&255,E>>0&255))>>>0};var Cb=D.PredictorAdd0;D.PredictorAdd1=oe,Dt("Predictor2","PredictorAdd2"),Dt("Predictor3","PredictorAdd3"),Dt("Predictor4","PredictorAdd4"),Dt("Predictor5","PredictorAdd5"),Dt("Predictor6","PredictorAdd6"),Dt("Predictor7","PredictorAdd7"),Dt("Predictor8","PredictorAdd8"),Dt("Predictor9","PredictorAdd9"),Dt("Predictor10","PredictorAdd10"),Dt("Predictor11","PredictorAdd11"),Dt("Predictor12","PredictorAdd12"),Dt("Predictor13","PredictorAdd13");var im=D.PredictorAdd2;xe("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),xe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var Z2,Fs=D.ColorIndexInverseTransform,uf=D.MapARGB,tv=D.VP8LColorIndexInverseTransformAlpha,ev=D.MapAlpha,rc=D.VP8LPredictorsAdd=[];rc.length=16,(D.VP8LPredictors=[]).length=16,(D.VP8LPredictorsAdd_C=[]).length=16,(D.VP8LPredictors_C=[]).length=16;var Gu,Mi,pi,ic,Ga,Xa,hf,Ya,Un,sm,gi,Os,df,nv,om,Xu,Yu,sc,Ku,ff,Qu,oc,am,Ds,js,ln,cn,qn,cr=s(511),Ka=s(2041),lm=s(225),pf=s(767),rv=0,Nb=Ka,iv=lm,rs=pf,Bs=cr,sv=0,ov=1,b4=2,av=3,lv=4,Lb=5,x4=6,Pb=7,kb=8,cv=9,Tb=10,Z8=[2,3,7],tI=[3,3,11],A4=[280,256,256,256,40],eI=[0,1,1,1,0],nI=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],rI=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],iI=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],sI=8,Rb=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ib=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],cm=null,oI=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],aI=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],S4=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],lI=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],cI=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],uI=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],hI=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ac=[],fo=[],Qa=[],dI=1,_4=2,lc=[],zs=[];At("UpsampleRgbLinePair",Oe,3),At("UpsampleBgrLinePair",_n,3),At("UpsampleRgbaLinePair",ho,4),At("UpsampleBgraLinePair",br,4),At("UpsampleArgbLinePair",Yr,4),At("UpsampleRgba4444LinePair",Qn,2),At("UpsampleRgb565LinePair",Mn,2);var fI=D.UpsampleRgbLinePair,pI=D.UpsampleBgrLinePair,E4=D.UpsampleRgbaLinePair,C4=D.UpsampleBgraLinePair,N4=D.UpsampleArgbLinePair,L4=D.UpsampleRgba4444LinePair,gI=D.UpsampleRgb565LinePair,uv=16,hv=1<<uv-1,um=-227,Mb=482,mI=6,P4=0,vI=s(256),yI=s(256),wI=s(256),bI=s(256),xI=s(Mb-um),AI=s(Mb-um);ra("YuvToRgbRow",Oe,3),ra("YuvToBgrRow",_n,3),ra("YuvToRgbaRow",ho,4),ra("YuvToBgraRow",br,4),ra("YuvToArgbRow",Yr,4),ra("YuvToRgba4444Row",Qn,2),ra("YuvToRgb565Row",Mn,2);var k4=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],dv=[0,2,8],SI=[8,7,6,4,4,2,2,2,1,1,1,1],_I=1;this.WebPDecodeRGBA=function(p,m,S,E,R){var B=ov,z=new nf,U=new Zi;z.ba=U,U.S=B,U.width=[U.width],U.height=[U.height];var q=U.width,G=U.height,lt=new ts;if(lt==null||p==null)var gt=2;else t(lt!=null),gt=sf(p,m,S,lt.width,lt.height,lt.Pd,lt.Qd,lt.format,null);if(gt!=0?q=0:(q!=null&&(q[0]=lt.width[0]),G!=null&&(G[0]=lt.height[0]),q=1),q){U.width=U.width[0],U.height=U.height[0],E!=null&&(E[0]=U.width),R!=null&&(R[0]=U.height);t:{if(E=new Yd,(R=new Yg).data=p,R.w=m,R.ha=S,R.kd=1,m=[0],t(R!=null),((p=sf(R.data,R.w,R.ha,null,null,null,m,null,R))==0||p==7)&&m[0]&&(p=4),(m=p)==0){if(t(z!=null),E.data=R.data,E.w=R.w+R.offset,E.ha=R.ha-R.offset,E.put=Tn,E.ac=Ae,E.bc=Rn,E.ma=z,R.xa){if((p=Ms())==null){z=1;break t}if(function(mt,ft){var Ct=[0],bt=[0],ut=[0];e:for(;;){if(mt==null)return 0;if(ft==null)return mt.a=2,0;if(mt.l=ft,mt.a=0,W(mt.m,ft.data,ft.w,ft.ha),!te(mt.m,Ct,bt,ut)){mt.a=3;break e}if(mt.xb=_4,ft.width=Ct[0],ft.height=bt[0],!ta(Ct[0],bt[0],1,mt,null))break e;return 1}return t(mt.a!=0),0}(p,E)){if(E=(m=of(E.width,E.height,z.Oa,z.ba))==0){e:{E=p;n:for(;;){if(E==null){E=0;break e}if(t(E.s.yc!=null),t(E.s.Ya!=null),t(0<E.s.Wb),t((S=E.l)!=null),t((R=S.ma)!=null),E.xb!=0){if(E.ca=R.ba,E.tb=R.tb,t(E.ca!=null),!em(R.Oa,S,av)){E.a=2;break n}if(!qu(E,S.width)||S.da)break n;if((S.da||Ue(E.ca.S))&&pt(),11>E.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),E.ca.f.kb.F!=null&&pt()),E.Pb&&0<E.s.ua&&E.s.vb.X==null&&!ne(E.s.vb,E.s.Wa.Xa)){E.a=1;break n}E.xb=0}if(!lo(E,E.V,E.Ba,E.c,E.i,S.o,Hd))break n;R.Dc=E.Ma,E=1;break e}t(E.a!=0),E=0}E=!E}E&&(m=p.a)}else m=p.a}else{if((p=new ab)==null){z=1;break t}if(p.Fa=R.na,p.P=R.P,p.qc=R.Sa,D2(p,E)){if((m=of(E.width,E.height,z.Oa,z.ba))==0){if(p.Aa=0,S=z.Oa,t((R=p)!=null),S!=null){if(0<(q=0>(q=S.Md)?0:100<q?255:255*q/100)){for(G=lt=0;4>G;++G)12>(gt=R.pb[G]).lc&&(gt.ia=q*SI[0>gt.lc?0:gt.lc]>>3),lt|=gt.ia;lt&&(alert("todo:VP8InitRandom"),R.ia=1)}R.Ga=S.Id,100<R.Ga?R.Ga=100:0>R.Ga&&(R.Ga=0)}lb(p,E)||(m=p.a)}}else m=p.a}m==0&&z.Oa!=null&&z.Oa.fd&&(m=nm(z.ba))}z=m}B=z!=0?null:11>B?U.f.RGBA.eb:U.f.kb.y}else B=null;return B};var T4=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(D,V){for(var Q="",P=0;P<4;P++)Q+=String.fromCharCode(D[V++]);return Q}function h(D,V){return(D[V+0]<<0|D[V+1]<<8|D[V+2]<<16)>>>0}function d(D,V){return(D[V+0]<<0|D[V+1]<<8|D[V+2]<<16|D[V+3]<<24)>>>0}new l;var g=[0],f=[0],w=[],v=new l,x=n,y=function(D,V){var Q={},P=0,j=!1,Y=0,H=0;if(Q.frames=[],!function($,X,nt,ot){for(var at=0;at<ot;at++)if($[X+at]!=nt.charCodeAt(at))return!0;return!1}(D,V,"RIFF",4)){for(d(D,V+=4),V+=8;V<D.length;){var dt=c(D,V),J=d(D,V+=4);V+=4;var rt=J+(1&J);switch(dt){case"VP8 ":case"VP8L":Q.frames[P]===void 0&&(Q.frames[P]={}),(ct=Q.frames[P]).src_off=j?H:V-8,ct.src_size=Y+J+8,P++,j&&(j=!1,Y=0,H=0);break;case"VP8X":(ct=Q.header={}).feature_flags=D[V];var W=V+4;ct.canvas_width=1+h(D,W),W+=3,ct.canvas_height=1+h(D,W),W+=3;break;case"ALPH":j=!0,Y=rt+8,H=V-8;break;case"ANIM":(ct=Q.header).bgcolor=d(D,V),W=V+4,ct.loop_count=(St=D)[(T=W)+0]<<0|St[T+1]<<8,W+=2;break;case"ANMF":var tt,ct;(ct=Q.frames[P]={}).offset_x=2*h(D,V),V+=3,ct.offset_y=2*h(D,V),V+=3,ct.width=1+h(D,V),V+=3,ct.height=1+h(D,V),V+=3,ct.duration=h(D,V),V+=3,tt=D[V++],ct.dispose=1&tt,ct.blend=tt>>1&1}dt!="ANMF"&&(V+=rt)}var St,T;return Q}}(x,0);y.response=x,y.rgbaoutput=!0,y.dataurl=!1;var b=y.header?y.header:null,_=y.frames?y.frames:null;if(b){b.loop_counter=b.loop_count,g=[b.canvas_height],f=[b.canvas_width];for(var N=0;N<_.length&&_[N].blend!=0;N++);}var L=_[0],O=v.WebPDecodeRGBA(x,L.src_off,L.src_size,f,g);L.rgba=O,L.imgwidth=f[0],L.imgheight=g[0];for(var I=0;I<f[0]*g[0]*4;I++)w[I]=O[I];return this.width=f,this.height=g,this.data=w,this}(function(n){var t=function(){return typeof cS=="function"},e=function(g,f,w,v){var x=4,y=o;switch(v){case n.image_compression.FAST:x=1,y=s;break;case n.image_compression.MEDIUM:x=6,y=a;break;case n.image_compression.SLOW:x=9,y=l}g=r(g,f,w,y);var b=cS(g,{level:x});return n.__addimage__.arrayBufferToBinaryString(b)},r=function(g,f,w,v){for(var x,y,b,_=g.length/f,N=new Uint8Array(g.length+_),L=h(),O=0;O<_;O+=1){if(b=O*f,x=g.subarray(b,b+f),v)N.set(v(x,w,y),b+O);else{for(var I,D=L.length,V=[];I<D;I+=1)V[I]=L[I](x,w,y);var Q=d(V.concat());N.set(V[Q],b+O)}y=x}return N},i=function(g){var f=Array.apply([],g);return f.unshift(0),f},s=function(g,f){var w,v=[],x=g.length;v[0]=1;for(var y=0;y<x;y+=1)w=g[y-f]||0,v[y+1]=g[y]-w+256&255;return v},o=function(g,f,w){var v,x=[],y=g.length;x[0]=2;for(var b=0;b<y;b+=1)v=w&&w[b]||0,x[b+1]=g[b]-v+256&255;return x},a=function(g,f,w){var v,x,y=[],b=g.length;y[0]=3;for(var _=0;_<b;_+=1)v=g[_-f]||0,x=w&&w[_]||0,y[_+1]=g[_]+256-(v+x>>>1)&255;return y},l=function(g,f,w){var v,x,y,b,_=[],N=g.length;_[0]=4;for(var L=0;L<N;L+=1)v=g[L-f]||0,x=w&&w[L]||0,y=w&&w[L-f]||0,b=c(v,x,y),_[L+1]=g[L]-b+256&255;return _},c=function(g,f,w){if(g===f&&f===w)return g;var v=Math.abs(f-w),x=Math.abs(g-w),y=Math.abs(g+f-w-w);return v<=x&&v<=y?g:x<=y?f:w},h=function(){return[i,s,o,a,l]},d=function(g){var f=g.map(function(w){return w.reduce(function(v,x){return v+Math.abs(x)},0)});return f.indexOf(Math.min.apply(null,f))};n.processPNG=function(g,f,w,v){var x,y,b,_,N,L,O,I,D,V,Q,P,j,Y,H,dt=this.decode.FLATE_DECODE,J="";if(this.__addimage__.isArrayBuffer(g)&&(g=new Uint8Array(g)),this.__addimage__.isArrayBufferView(g)){if(g=(b=new YU(g)).imgData,y=b.bits,x=b.colorSpace,N=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){D=(I=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,Q=new Uint8Array(D*b.colors),V=new Uint8Array(D);var rt,W=b.pixelBitlength-b.bits;for(Y=0,H=0;Y<D;Y++){for(j=I[Y],rt=0;rt<W;)Q[H++]=j>>>rt&255,rt+=b.bits;V[Y]=j>>>rt&255}}if(b.bits===16){D=(I=new Uint32Array(b.decodePixels().buffer)).length,Q=new Uint8Array(D*(32/b.pixelBitlength)*b.colors),V=new Uint8Array(D*(32/b.pixelBitlength)),P=b.colors>1,Y=0,H=0;for(var tt=0;Y<D;)j=I[Y++],Q[H++]=j>>>0&255,P&&(Q[H++]=j>>>16&255,j=I[Y++],Q[H++]=j>>>0&255),V[tt++]=j>>>16&255;y=8}v!==n.image_compression.NONE&&t()?(g=e(Q,b.width*b.colors,b.colors,v),O=e(V,b.width,1,v)):(g=Q,O=V,dt=void 0)}if(b.colorType===3&&(x=this.color_spaces.INDEXED,L=b.palette,b.transparency.indexed)){var ct=b.transparency.indexed,St=0;for(Y=0,D=ct.length;Y<D;++Y)St+=ct[Y];if((St/=255)===D-1&&ct.indexOf(0)!==-1)_=[ct.indexOf(0)];else if(St!==D){for(I=b.decodePixels(),V=new Uint8Array(I.length),Y=0,D=I.length;Y<D;Y++)V[Y]=ct[I[Y]];O=e(V,b.width,1)}}var T=function($){var X;switch($){case n.image_compression.FAST:X=11;break;case n.image_compression.MEDIUM:X=13;break;case n.image_compression.SLOW:X=14;break;default:X=12}return X}(v);return dt===this.decode.FLATE_DECODE&&(J="/Predictor "+T+" "),J+="/Colors "+N+" /BitsPerComponent "+y+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),(O&&this.__addimage__.isArrayBuffer(O)||this.__addimage__.isArrayBufferView(O))&&(O=this.__addimage__.arrayBufferToBinaryString(O)),{alias:w,data:g,index:f,filter:dt,decodeParameters:J,transparency:_,palette:L,sMask:O,predictor:T,width:b.width,height:b.height,bitsPerComponent:y,colorSpace:x}}}})(le.API),function(n){n.processGIF89A=function(t,e,r,i){var s=new KU(t),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},h=new Fx(100).encode(c,100);return n.processJPEG.call(this,h,e,r,i)},n.processGIF87A=n.processGIF89A}(le.API),yo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var t=0;t<n;t++){var e=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:e,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},yo.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[n]()}catch(e){an.log("bit decode error:"+e)}},yo.prototype.bit1=function(){var n,t=Math.ceil(this.width/8),e=t%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}e!==0&&(this.pos+=4-e)}},yo.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),t=n%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<n;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,c=this.palette[a];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},yo.prototype.bit8=function(){for(var n=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},yo.prototype.bit15=function(){for(var n=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,a=(s>>5&t)/t*255|0,l=(s>>10&t)/t*255|0,c=s>>15?255:0,h=r*this.width*4+4*i;this.data[h]=l,this.data[h+1]=a,this.data[h+2]=o,this.data[h+3]=c}this.pos+=n}},yo.prototype.bit16=function(){for(var n=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&t)/t*255|0,l=(o>>5&e)/e*255|0,c=(o>>11)/t*255|0,h=i*this.width*4+4*s;this.data[h]=c,this.data[h+1]=l,this.data[h+2]=a,this.data[h+3]=255}this.pos+=n}},yo.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*e;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},yo.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*e;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},yo.prototype.getData=function(){return this.data},function(n){n.processBMP=function(t,e,r,i){var s=new yo(t,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new Fx(100).encode(l,100);return n.processJPEG.call(this,c,e,r,i)}}(le.API),bN.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(t,e,r,i){var s=new bN(t),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new Fx(100).encode(l,100);return n.processJPEG.call(this,c,e,r,i)}}(le.API),le.API.processRGBA=function(n,t,e){for(var r=n.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var h=r[c],d=r[c+1],g=r[c+2],f=r[c+3];s[a++]=h,s[a++]=d,s[a++]=g,o[l++]=f}var w=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:w,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},le.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},xf=le.API,Xv=xf.getCharWidthsArray=function(n,t){var e,r,i=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),a=t.widths?t.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=t.kerning?t.kerning:i.metadata.Unicode.kerning,h=c.fof?c.fof:1,d=t.doKerning!==!1,g=0,f=n.length,w=0,v=a[0]||l,x=[];for(e=0;e<f;e++)r=n.charCodeAt(e),typeof i.metadata.widthOfString=="function"?x.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(g=d&&Je(c[r])==="object"&&!isNaN(parseInt(c[r][w],10))?c[r][w]/h:0,x.push((a[r]||v)/l+g)),w=r;return x},mN=xf.getStringUnitWidth=function(n,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return xf.processArabic&&(n=xf.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,e,i)/e:Xv.apply(this,arguments).reduce(function(s,o){return s+o},0)},vN=function(n,t,e,r){for(var i=[],s=0,o=n.length,a=0;s!==o&&a+t[s]<e;)a+=t[s],s++;i.push(n.slice(0,s));var l=s;for(a=0;s!==o;)a+t[s]>r&&(i.push(n.slice(l,s)),a=0,l=s),a+=t[s],s++;return l!==s&&i.push(n.slice(l,s)),i},yN=function(n,t,e){e||(e={});var r,i,s,o,a,l,c,h=[],d=[h],g=e.textIndent||0,f=0,w=0,v=n.split(" "),x=Xv.apply(this,[" ",e])[0];if(l=e.lineIndent===-1?v[0].length+2:e.lineIndent||0){var y=Array(l).join(" "),b=[];v.map(function(N){(N=N.split(/\s*\n/)).length>1?b=b.concat(N.map(function(L,O){return(O&&L.length?`
`:"")+L})):b.push(N[0])}),v=b,l=mN.apply(this,[y,e])}for(s=0,o=v.length;s<o;s++){var _=0;if(r=v[s],l&&r[0]==`
`&&(r=r.substr(1),_=1),g+f+(w=(i=Xv.apply(this,[r,e])).reduce(function(N,L){return N+L},0))>t||_){if(w>t){for(a=vN.apply(this,[r,i,t-(g+f),t]),h.push(a.shift()),h=[a.pop()];a.length;)d.push([a.shift()]);w=i.slice(r.length-(h[0]?h[0].length:0)).reduce(function(N,L){return N+L},0)}else h=[r];d.push(h),g=w+l,f=x}else h.push(r),g+=f+w,f=x}return c=l?function(N,L){return(L?y:"")+N.join(" ")}:function(N){return N.join(" ")},d.map(c)},xf.splitTextToSize=function(n,t,e){var r,i=(e=e||{}).fontSize||this.internal.getFontSize(),s=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var d=this.internal.getFont(h.fontName,h.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;s.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=e.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(yN.apply(this,[r[a],o,s]));return c},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",e={},r={},i=0;i<t.length;i++)e[t[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=t[i];var s=function(d){return"0x"+parseInt(d,10).toString(16)},o=n.__fontmetrics__.compress=function(d){var g,f,w,v,x=["{"];for(var y in d){if(g=d[y],isNaN(parseInt(y,10))?f="'"+y+"'":(y=parseInt(y,10),f=(f=s(y).slice(2)).slice(0,-1)+r[f.slice(-1)]),typeof g=="number")g<0?(w=s(g).slice(3),v="-"):(w=s(g).slice(2),v=""),w=v+w.slice(0,-1)+r[w.slice(-1)];else{if(Je(g)!=="object")throw new Error("Don't know what to do with value type "+Je(g)+".");w=o(g)}x.push(f+w)}return x.push("}"),x.join("")},a=n.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,f,w,v,x={},y=1,b=x,_=[],N="",L="",O=d.length-1,I=1;I<O;I+=1)(v=d[I])=="'"?g?(w=g.join(""),g=void 0):g=[]:g?g.push(v):v=="{"?(_.push([b,w]),b={},w=void 0):v=="}"?((f=_.pop())[0][f[1]]=b,w=void 0,b=f[0]):v=="-"?y=-1:w===void 0?e.hasOwnProperty(v)?(N+=e[v],w=parseInt(N,16)*y,y=1,N=""):N+=v:e.hasOwnProperty(v)?(L+=e[v],b[w]=parseInt(L,16)*y,y=1,w=void 0,L=""):L+=v;return x},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},h={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(d){var g=d.font,f=h.Unicode[g.postScriptName];f&&(g.metadata.Unicode={},g.metadata.Unicode.widths=f.widths,g.metadata.Unicode.kerning=f.kerning);var w=c.Unicode[g.postScriptName];w&&(g.metadata.Unicode.encoding=w,g.encoding=w.codePages[0])}])}(le.API),function(n){var t=function(e){for(var r=e.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=e.charCodeAt(s);return i};n.API.events.push(["addFont",function(e){var r=void 0,i=e.font,s=e.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?t(a):t(h0(a)),o.metadata=n.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(le),function(n){function t(){return(ue.canvg?Promise.resolve(ue.canvg):iS(()=>import("./index.es-2FxEa2a7.js"),[])).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e})}le.API.addSvgAsImage=function(e,r,i,s,o,a,l,c){if(isNaN(r)||isNaN(i))throw an.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw an.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=s,h.height=o;var d=h.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,h.width,h.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return t().then(function(w){return w.fromString(d,e,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(w){return w.render(g)}).then(function(){f.addImage(h.toDataURL("image/jpeg",1),r,i,s,o,l,c)})}}(),le.API.putTotalPages=function(n){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(n,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,e);return this},le.API.viewerPreferences=function(n,t){var e;n=n||{},t=t||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,h=0,d=0;function g(w,v){var x,y=!1;for(x=0;x<w.length;x+=1)w[x]===v&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,n==="reset"||t===!0){var f=a.length;for(d=0;d<f;d+=1)e[a[d]].value=e[a[d]].defaultValue,e[a[d]].explicitSet=!1}if(Je(n)==="object"){for(i in n)if(s=n[i],g(a,i)&&s!==void 0){if(e[i].type==="boolean"&&typeof s=="boolean")e[i].value=s;else if(e[i].type==="name"&&g(e[i].valueSet,s))e[i].value=s;else if(e[i].type==="integer"&&Number.isInteger(s))e[i].value=s;else if(e[i].type==="array"){for(c=0;c<s.length;c+=1)if(r=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(h=0;h<s[c].length;h+=1)typeof s[c][h]!="number"&&(r=!1);r===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}e[i].value="["+l.join(" ")+"]"}else e[i].value=e[i].defaultValue;e[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var w,v=[];for(w in e)e[w].explicitSet===!0&&(e[w].type==="name"?v.push("/"+w+" /"+e[w].value):v.push("/"+w+" "+e[w].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},function(n){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}}(le.API),function(n){var t=n.API,e=t.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],h=[""],d=0,g=s.length;d<g;++d){if(a=o.metadata.characterToGlyph(s.charCodeAt(d)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(d),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return h.join("");a=a.toString(16),h.push(c[4-a.length],a)}return h.join("")},r=function(s){var o,a,l,c,h,d,g;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,g=(a=Object.keys(s).sort(function(f,w){return f-w})).length;d<g;d++)o=a[d],l.length>=100&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(c=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),h+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,h=o.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="Identity-H"){for(var d=a.metadata.Unicode.widths,g=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),f="",w=0;w<g.length;w++)f+=String.fromCharCode(g[w]);var v=c();h({data:f,addLength1:!0,objectId:v}),l("endobj");var x=c();h({data:r(a.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var y=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Sf(a.fontName)),l("/FontFile2 "+v+" 0 R"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var b=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Sf(a.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+n.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+x+" 0 R"),l("/BaseFont /"+Sf(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+b+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,h=o.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var d=a.metadata.rawData,g="",f=0;f<d.length;f++)g+=String.fromCharCode(d[f]);var w=c();h({data:g,addLength1:!0,objectId:w}),l("endobj");var v=c();h({data:r(a.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var x=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+w+" 0 R"),l("/Flags 96"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+Sf(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var y=0;y<a.metadata.hmtx.widths.length;y++)a.metadata.hmtx.widths[y]=parseInt(a.metadata.hmtx.widths[y]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+Sf(a.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,c=s.y,h=s.options||{},d=s.mutex||{},g=d.pdfEscape,f=d.activeFontKey,w=d.fonts,v=f,x="",y=0,b="",_=w[v].encoding;if(w[v].encoding!=="Identity-H")return{text:a,x:l,y:c,options:h,mutex:d};for(b=a,v=f,Array.isArray(a)&&(b=a[0]),y=0;y<b.length;y+=1)w[v].metadata.hasOwnProperty("cmap")&&(o=w[v].metadata.cmap.unicode.codeMap[b[y].charCodeAt(0)]),o||b[y].charCodeAt(0)<256&&w[v].metadata.hasOwnProperty("Unicode")?x+=b[y]:x+="";var N="";return parseInt(v.slice(1))<14||_==="WinAnsiEncoding"?N=g(x,v).split("").map(function(L){return L.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(N=e(x,w[v])),d.isHex=!0,{text:N,x:l,y:c,options:h,mutex:d}};t.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?a.push([i(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(i(Object.assign({},l,{text:o[c]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(le),function(n){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},n.addFileToVFS=function(e,r){return t.call(this),this.internal.vFS[e]=r,this},n.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}}(le.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,s,o,a,l,c,h,d=t,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],w={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,_=0;this.__bidiEngine__={};var N=function(P){var j=P.charCodeAt(),Y=j>>8,H=v[Y];return H!==void 0?d[256*H+(255&j)]:Y===252||Y===253?"AL":y.test(Y)?"L":Y===8?"R":"N"},L=function(P){for(var j,Y=0;Y<P.length;Y++){if((j=N(P.charAt(Y)))==="L")return!1;if(j==="R")return!0}return!1},O=function(P,j,Y,H){var dt,J,rt,W,tt=j[H];switch(tt){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&(tt="AN");break;case"AL":b=!0,tt="R";break;case"WS":tt="N";break;case"CS":H<1||H+1>=j.length||(dt=Y[H-1])!=="EN"&&dt!=="AN"||(J=j[H+1])!=="EN"&&J!=="AN"?tt="N":b&&(J="AN"),tt=J===dt?J:"N";break;case"ES":tt=(dt=H>0?Y[H-1]:"B")==="EN"&&H+1<j.length&&j[H+1]==="EN"?"EN":"N";break;case"ET":if(H>0&&Y[H-1]==="EN"){tt="EN";break}if(b){tt="N";break}for(rt=H+1,W=j.length;rt<W&&j[rt]==="ET";)rt++;tt=rt<W&&j[rt]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(W=j.length,rt=H+1;rt<W&&j[rt]==="NSM";)rt++;if(rt<W){var ct=P[H],St=ct>=1425&&ct<=2303||ct===64286;if(dt=j[rt],St&&(dt==="R"||dt==="AL")){tt="R";break}}}tt=H<1||(dt=j[H-1])==="B"?"N":Y[H-1];break;case"B":b=!1,i=!0,tt=_;break;case"S":s=!0,tt="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":tt="N"}return tt},I=function(P,j,Y){var H=P.split("");return Y&&D(H,Y,{hiLevel:_}),H.reverse(),j&&j.reverse(),H.join("")},D=function(P,j,Y){var H,dt,J,rt,W,tt=-1,ct=P.length,St=0,T=[],$=_?f:g,X=[];for(b=!1,i=!1,s=!1,dt=0;dt<ct;dt++)X[dt]=N(P[dt]);for(J=0;J<ct;J++){if(W=St,T[J]=O(P,X,T,J),H=240&(St=$[W][w[T[J]]]),St&=15,j[J]=rt=$[St][5],H>0)if(H===16){for(dt=tt;dt<J;dt++)j[dt]=1;tt=-1}else tt=-1;if($[St][6])tt===-1&&(tt=J);else if(tt>-1){for(dt=tt;dt<J;dt++)j[dt]=rt;tt=-1}X[J]==="B"&&(j[J]=0),Y.hiLevel|=rt}s&&function(nt,ot,at){for(var vt=0;vt<at;vt++)if(nt[vt]==="S"){ot[vt]=_;for(var yt=vt-1;yt>=0&&nt[yt]==="WS";yt--)ot[yt]=_}}(X,j,ct)},V=function(P,j,Y,H,dt){if(!(dt.hiLevel<P)){if(P===1&&_===1&&!i)return j.reverse(),void(Y&&Y.reverse());for(var J,rt,W,tt,ct=j.length,St=0;St<ct;){if(H[St]>=P){for(W=St+1;W<ct&&H[W]>=P;)W++;for(tt=St,rt=W-1;tt<rt;tt++,rt--)J=j[tt],j[tt]=j[rt],j[rt]=J,Y&&(J=Y[tt],Y[tt]=Y[rt],Y[rt]=J);St=W}St++}}},Q=function(P,j,Y){var H=P.split(""),dt={hiLevel:_};return Y||(Y=[]),D(H,Y,dt),function(J,rt,W){if(W.hiLevel!==0&&h)for(var tt,ct=0;ct<J.length;ct++)rt[ct]===1&&(tt=x.indexOf(J[ct]))>=0&&(J[ct]=x[tt+1])}(H,Y,dt),V(2,H,j,Y,dt),V(1,H,j,Y,dt),H.join("")};return this.__bidiEngine__.doBidiReorder=function(P,j,Y){if(function(dt,J){if(J)for(var rt=0;rt<dt.length;rt++)J[rt]=rt;a===void 0&&(a=L(dt)),c===void 0&&(c=L(dt))}(P,j),o||!l||c)if(o&&l&&a^c)_=a?1:0,P=I(P,j,Y);else if(!o&&l&&c)_=a?1:0,P=Q(P,j,Y),P=I(P,j);else if(!o||a||l||c){if(o&&!l&&a^c)P=I(P,j),a?(_=0,P=Q(P,j,Y)):(_=1,P=Q(P,j,Y),P=I(P,j));else if(o&&a&&!l&&c)_=1,P=Q(P,j,Y),P=I(P,j);else if(!o&&!l&&a^c){var H=h;a?(_=1,P=Q(P,j,Y),_=0,h=!1,P=Q(P,j,Y),h=H):(_=0,P=Q(P,j,Y),P=I(P,j),_=1,h=!1,P=Q(P,j,Y),h=H,P=I(P,j))}}else _=0,P=Q(P,j,Y);else _=a?1:0,P=Q(P,j,Y);return P},this.__bidiEngine__.setOptions=function(P){P&&(o=P.isInputVisual,l=P.isOutputVisual,a=P.isInputRtl,c=P.isOutputRtl,h=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,e.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([e.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([e.doBidiReorder(i[a])]);r.text=o}else r.text=e.doBidiReorder(i);e.setOptions({isInputVisual:!0})}])}(le),le.API.TTFFont=function(){function n(t){var e;if(this.rawData=t,e=this.contents=new Iu(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new hq(this),this.registerTTF()}return n.open=function(t){return new n(t)},n.prototype.parse=function(){return this.directory=new QU(this.contents),this.head=new ZU(this),this.name=new iq(this),this.cmap=new jT(this),this.toUnicode={},this.hhea=new tq(this),this.maxp=new sq(this),this.hmtx=new oq(this),this.post=new nq(this),this.os2=new eq(this),this.loca=new uq(this),this.glyf=new aq(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var t,e,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)t=l[o],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(e=i>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},n.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},n.prototype.widthOfString=function(t,e,r){var i,s,o,a;for(o=0,s=0,a=(t=""+t).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=t.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/e)||0;return o*(e/1e3)},n.prototype.lineHeight=function(t,e){var r;return e==null&&(e=!1),r=e?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},n}();var Qo,Iu=function(){function n(t){this.data=t??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(t){return this.data[this.pos++]=t},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},n.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},n.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},n.prototype.readString=function(t){var e,r;for(r=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)r[e]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(t){var e,r,i;for(i=[],e=0,r=t.length;0<=r?e<r:e>r;e=0<=r?++e:--e)i.push(this.writeByte(t.charCodeAt(e)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(t){return this.writeInt16(t)},n.prototype.readLongLong=function(){var t,e,r,i,s,o,a,l;return t=this.readByte(),e=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*t+281474976710656*e+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},n.prototype.writeLongLong=function(t){var e,r;return e=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(t){return this.writeInt32(t)},n.prototype.read=function(t){var e,r;for(e=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)e.push(this.readByte());return e},n.prototype.write=function(t){var e,r,i,s;for(s=[],r=0,i=t.length;r<i;r++)e=t[r],s.push(this.writeByte(e));return s},n}(),QU=function(){var n;function t(e){var r,i,s;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(e){var r,i,s,o,a,l,c,h,d,g,f,w,v;for(v in f=Object.keys(e).length,l=Math.log(2),d=16*Math.floor(Math.log(f)/l),o=Math.floor(d/l),h=16*f-d,(i=new Iu).writeInt(this.scalarType),i.writeShort(f),i.writeShort(d),i.writeShort(o),i.writeShort(h),s=16*f,c=i.pos+s,a=null,w=[],e)for(g=e[v],i.writeString(v),i.writeInt(n(g)),i.writeInt(c),i.writeInt(g.length),w=w.concat(g),v==="head"&&(a=c),c+=g.length;c%4;)w.push(0),c++;return i.write(w),r=2981146554-n(i.data),i.pos=a+8,i.writeUInt32(r),i.data},n=function(e){var r,i,s,o;for(e=BT.call(e);e.length%4;)e.push(0);for(s=new Iu(e),i=0,r=0,o=e.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},t}(),JU={}.hasOwnProperty,Ha=function(n,t){for(var e in t)JU.call(t,e)&&(n[e]=t[e]);function r(){this.constructor=n}return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n};Qo=function(){function n(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var ZU=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ha(t,Qo),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new Iu).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t}(),xN=function(){function n(t,e){var r,i,s,o,a,l,c,h,d,g,f,w,v,x,y,b,_;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),d=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(f=t.readUInt16(),g=f/2,t.pos+=6,s=function(){var N,L;for(L=[],l=N=0;0<=g?N<g:N>g;l=0<=g?++N:--N)L.push(t.readUInt16());return L}(),t.pos+=2,v=function(){var N,L;for(L=[],l=N=0;0<=g?N<g:N>g;l=0<=g?++N:--N)L.push(t.readUInt16());return L}(),c=function(){var N,L;for(L=[],l=N=0;0<=g?N<g:N>g;l=0<=g?++N:--N)L.push(t.readUInt16());return L}(),h=function(){var N,L;for(L=[],l=N=0;0<=g?N<g:N>g;l=0<=g?++N:--N)L.push(t.readUInt16());return L}(),i=(this.length-t.pos+this.offset)/2,a=function(){var N,L;for(L=[],l=N=0;0<=i?N<i:N>i;l=0<=i?++N:--N)L.push(t.readUInt16());return L}(),l=y=0,_=s.length;y<_;l=++y)for(x=s[l],r=b=w=v[l];w<=x?b<=x:b>=x;r=w<=x?++b:--b)h[l]===0?o=r+c[l]:(o=a[h[l]/2+(r-w)-(g-l)]||0)!==0&&(o+=c[l]),this.codeMap[r]=65535&o}t.pos=d}return n.encode=function(t,e){var r,i,s,o,a,l,c,h,d,g,f,w,v,x,y,b,_,N,L,O,I,D,V,Q,P,j,Y,H,dt,J,rt,W,tt,ct,St,T,$,X,nt,ot,at,vt,yt,Tt,Lt,Ft;switch(H=new Iu,o=Object.keys(t).sort(function(Mt,ne){return Mt-ne}),e){case"macroman":for(v=0,x=function(){var Mt=[];for(w=0;w<256;++w)Mt.push(0);return Mt}(),b={0:0},s={},dt=0,tt=o.length;dt<tt;dt++)b[yt=t[i=o[dt]]]==null&&(b[yt]=++v),s[i]={old:t[i],new:b[t[i]]},x[i]=b[t[i]];return H.writeUInt16(1),H.writeUInt16(0),H.writeUInt32(12),H.writeUInt16(0),H.writeUInt16(262),H.writeUInt16(0),H.write(x),{charMap:s,subtable:H.data,maxGlyphID:v+1};case"unicode":for(j=[],d=[],_=0,b={},r={},y=c=null,J=0,ct=o.length;J<ct;J++)b[L=t[i=o[J]]]==null&&(b[L]=++_),r[i]={old:L,new:b[L]},a=b[L]-i,y!=null&&a===c||(y&&d.push(y),j.push(i),c=a),y=i;for(y&&d.push(y),d.push(65535),j.push(65535),Q=2*(V=j.length),D=2*Math.pow(Math.log(V)/Math.LN2,2),g=Math.log(D/2)/Math.LN2,I=2*V-D,l=[],O=[],f=[],w=rt=0,St=j.length;rt<St;w=++rt){if(P=j[w],h=d[w],P===65535){l.push(0),O.push(0);break}if(P-(Y=r[P].new)>=32768)for(l.push(0),O.push(2*(f.length+V-w)),i=W=P;P<=h?W<=h:W>=h;i=P<=h?++W:--W)f.push(r[i].new);else l.push(Y-P),O.push(0)}for(H.writeUInt16(3),H.writeUInt16(1),H.writeUInt32(12),H.writeUInt16(4),H.writeUInt16(16+8*V+2*f.length),H.writeUInt16(0),H.writeUInt16(Q),H.writeUInt16(D),H.writeUInt16(g),H.writeUInt16(I),at=0,T=d.length;at<T;at++)i=d[at],H.writeUInt16(i);for(H.writeUInt16(0),vt=0,$=j.length;vt<$;vt++)i=j[vt],H.writeUInt16(i);for(Tt=0,X=l.length;Tt<X;Tt++)a=l[Tt],H.writeUInt16(a);for(Lt=0,nt=O.length;Lt<nt;Lt++)N=O[Lt],H.writeUInt16(N);for(Ft=0,ot=f.length;Ft<ot;Ft++)v=f[Ft],H.writeUInt16(v);return{charMap:r,subtable:H.data,maxGlyphID:_+1}}},n}(),jT=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ha(t,Qo),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,i,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new xN(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var i,s;return r==null&&(r="macroman"),i=xN.encode(e,r),(s=new Iu).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},t}(),tq=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ha(t,Qo),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),eq=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ha(t,Qo),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(e.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(e.readInt());return i}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(e.readInt());return i}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),nq=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ha(t,Qo),t.prototype.tag="post",t.prototype.parse=function(e){var r,i,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:break;case 131072:var o;for(i=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)r=e.readByte(),s.push(this.names.push(e.readString(r)));return s;case 151552:return i=e.readUInt16(),this.offsets=e.read(i);case 196608:break;case 262144:return this.map=(function(){var a,l,c;for(c=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)c.push(e.readUInt32());return c}).call(this)}},t}(),rq=function(n,t){this.raw=n,this.length=n.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},iq=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ha(t,Qo),t.prototype.tag="name",t.prototype.parse=function(e){var r,i,s,o,a,l,c,h,d,g,f;for(e.pos=this.offset,e.readShort(),r=e.readShort(),l=e.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(c={},o=d=0,g=i.length;d<g;o=++d)s=i[o],e.pos=s.offset,h=e.readString(s.length),a=new rq(h,s),c[f=s.nameID]==null&&(c[f]=[]),c[s.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t}(),sq=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ha(t,Qo),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),oq=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ha(t,Qo),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,i,s,o,a,l,c;for(e.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var h,d;for(d=[],r=h=0;0<=s?h<s:h>s;r=0<=s?++h:--h)d.push(e.readInt16());return d}(),this.widths=(function(){var h,d,g,f;for(f=[],h=0,d=(g=this.metrics).length;h<d;h++)o=g[h],f.push(o.advance);return f}).call(this),i=this.widths[this.widths.length-1],c=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)c.push(this.widths.push(i));return c},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),BT=[].slice,aq=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ha(t,Qo),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,i,s,o,a,l,c,h,d,g;return e in this.cache?this.cache[e]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(e),(s=o.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+i,a=(l=new Iu(r.read(s))).readShort(),h=l.readShort(),g=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[e]=a===-1?new cq(l,h,g,c,d):new lq(l,a,h,g,c,d),this.cache[e]))},t.prototype.encode=function(e,r,i){var s,o,a,l,c;for(a=[],o=[],l=0,c=r.length;l<c;l++)s=e[r[l]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},t}(),lq=function(){function n(t,e,r,i,s,o){this.raw=t,this.numberOfContours=e,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),cq=function(){function n(t,e,r,i,s){var o,a;for(this.raw=t,this.xMin=e,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return n.prototype.encode=function(){var t,e,r;for(e=new Iu(BT.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)e.pos=this.glyphOffsets[t];return e.data},n}(),uq=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Ha(t,Qo),t.prototype.tag="loca",t.prototype.parse=function(e){var r,i;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(e.readUInt32());return o}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var l=this.offsets[a],c=this.offsets[a+1]-l;c>0&&(s+=c)}for(var h=new Array(4*i.length),d=0;d<i.length;++d)h[4*d+3]=255&i[d],h[4*d+2]=(65280&i[d])>>8,h[4*d+1]=(16711680&i[d])>>16,h[4*d]=(4278190080&i[d])>>24;return h},t}(),hq=function(){function n(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var t,e,r,i,s;for(e in i=this.font.cmap.tables[0].codeMap,t={},s=this.subset)r=s[e],t[e]=i[r];return t},n.prototype.glyphsFor=function(t){var e,r,i,s,o,a,l;for(i={},o=0,a=t.length;o<a;o++)i[s=t[o]]=this.font.glyf.glyphFor(s);for(s in e=[],i)(r=i[s])!=null&&r.compound&&e.push.apply(e,r.glyphIDs);if(e.length>0)for(s in l=this.glyphsFor(e))r=l[s],i[s]=r;return i},n.prototype.encode=function(t,e){var r,i,s,o,a,l,c,h,d,g,f,w,v,x,y;for(i in r=jT.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),f={0:0},y=r.charMap)f[(l=y[i]).old]=l.new;for(w in g=r.maxGlyphID,o)w in f||(f[w]=g++);return h=function(b){var _,N;for(_ in N={},b)N[b[_]]=_;return N}(f),d=Object.keys(h).sort(function(b,_){return b-_}),v=function(){var b,_,N;for(N=[],b=0,_=d.length;b<_;b++)a=d[b],N.push(h[a]);return N}(),s=this.font.glyf.encode(o,v,f),c=this.font.loca.encode(s.offsets,v),x={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},n}();le.API.PDFObject=function(){var n;function t(){}return n=function(e,r){return(Array(r+1).join("0")+e).slice(-r)},t.convert=function(e){var r,i,s,o;if(Array.isArray(e))return"["+function(){var a,l,c;for(c=[],a=0,l=e.length;a<l;a++)r=e[a],c.push(t.convert(r));return c}().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e!=null&&e.isString)return"("+e+")";if(e instanceof Date)return"(D:"+n(e.getUTCFullYear(),4)+n(e.getUTCMonth(),2)+n(e.getUTCDate(),2)+n(e.getUTCHours(),2)+n(e.getUTCMinutes(),2)+n(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(i in s=["<<"],e)o=e[i],s.push("/"+i+" "+t.convert(o));return s.push(">>"),s.join(`
`)}return""+e},t}();const op=Z.forwardRef(({className:n,...t},e)=>it.jsx("div",{ref:e,className:Ir("rounded-lg border bg-card text-card-foreground shadow-sm",n),...t}));op.displayName="Card";const dq=Z.forwardRef(({className:n,...t},e)=>it.jsx("div",{ref:e,className:Ir("flex flex-col space-y-1.5 p-6",n),...t}));dq.displayName="CardHeader";const fq=Z.forwardRef(({className:n,...t},e)=>it.jsx("h3",{ref:e,className:Ir("text-2xl font-semibold leading-none tracking-tight",n),...t}));fq.displayName="CardTitle";const pq=Z.forwardRef(({className:n,...t},e)=>it.jsx("p",{ref:e,className:Ir("text-sm text-muted-foreground",n),...t}));pq.displayName="CardDescription";const gq=Z.forwardRef(({className:n,...t},e)=>it.jsx("div",{ref:e,className:Ir("p-6 pt-0",n),...t}));gq.displayName="CardContent";const mq=Z.forwardRef(({className:n,...t},e)=>it.jsx("div",{ref:e,className:Ir("flex items-center p-6 pt-0",n),...t}));mq.displayName="CardFooter";const t4=Z.forwardRef(({className:n,type:t,...e},r)=>it.jsx("input",{type:t,className:Ir("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:r,...e}));t4.displayName="Input";var vq="Label",zT=Z.forwardRef((n,t)=>it.jsx(fi.label,{...n,ref:t,onMouseDown:e=>{var i;e.target.closest("button, input, select, textarea")||((i=n.onMouseDown)==null||i.call(n,e),!e.defaultPrevented&&e.detail>1&&e.preventDefault())}}));zT.displayName=vq;var UT=zT;const yq=M_("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),e4=Z.forwardRef(({className:n,...t},e)=>it.jsx(UT,{ref:e,className:Ir(yq(),n),...t}));e4.displayName=UT.displayName;const n4=Z.forwardRef(({className:n,...t},e)=>it.jsx("textarea",{className:Ir("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:e,...t}));n4.displayName="Textarea";const wq=M_("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d0=Z.forwardRef(({className:n,variant:t,size:e,asChild:r=!1,...i},s)=>{const o=r?m7:"button";return it.jsx(o,{className:Ir(wq({variant:t,size:e,className:n})),ref:s,...i})});d0.displayName="Button";var bq="Separator",AN="horizontal",xq=["horizontal","vertical"],qT=Z.forwardRef((n,t)=>{const{decorative:e,orientation:r=AN,...i}=n,s=Aq(r)?r:AN,a=e?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return it.jsx(fi.div,{"data-orientation":s,...a,...i,ref:t})});qT.displayName=bq;function Aq(n){return xq.includes(n)}var HT=qT;const r4=Z.forwardRef(({className:n,orientation:t="horizontal",decorative:e=!0,...r},i)=>it.jsx(HT,{ref:i,decorative:e,orientation:t,className:Ir("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",n),...r}));r4.displayName=HT.displayName;const Sq=({onUpdate:n})=>{const t=Z.useRef(null),{toast:e}=L_(),[r,i]=Z.useState({fullName:"",email:"",phone:"",address:"",summary:"",skills:"",experience:"",education:""}),s=h=>{var f;const d=(f=h.target.files)==null?void 0:f[0];if(!d)return;const g=new FileReader;g.onload=w=>{var v;try{const x=(v=w.target)==null?void 0:v.result;let y={};d.type==="application/json"||d.name.endsWith(".json")?y=JSON.parse(x):d.type==="text/csv"||d.name.endsWith(".csv")?y=o(x):y=a(x);const b={...r,...y};i(b),n(b),e({title:"Profile Imported Successfully",description:`Imported data from ${d.name}. Please review and adjust as needed.`})}catch{e({title:"Import Failed",description:"Could not parse the file. Please check the format and try again.",variant:"destructive"})}},g.readAsText(d)},o=h=>{const d=h.split(`
`),g={};return d.forEach(f=>{const[w,...v]=f.split(","),x=v.join(",").trim().replace(/"/g,"");switch(w.toLowerCase().trim()){case"name":case"fullname":case"full_name":g.fullName=x;break;case"email":g.email=x;break;case"phone":g.phone=x;break;case"address":g.address=x;break;case"summary":g.summary=x;break;case"skills":g.skills=x;break;case"experience":g.experience=x;break;case"education":g.education=x;break}}),g},a=h=>{var N;const d={},g=h.split(`
`),f=/[\w\.-]+@[\w\.-]+\.\w+/,w=/[\+]?[1-9]?[\d\s\-\(\)]{10,}/,v=h.match(f);v&&(d.email=v[0]);const x=h.match(w);x&&(d.phone=x[0]);const y=(N=g[0])==null?void 0:N.trim();y&&y.length<50&&!y.includes("@")&&(d.fullName=y);const b=h.match(/(?:skills|technologies|technical skills):\s*(.+?)(?:\n\n|\n[A-Z]|$)/is);b&&(d.skills=b[1].trim());const _=h.match(/(?:summary|objective|profile):\s*(.+?)(?:\n\n|\n[A-Z]|$)/is);return _&&(d.summary=_[1].trim()),d},l=(h,d)=>{const g={...r,[h]:d};i(g),n(g)},c=[{title:"Personal Information",icon:hC,fields:[{key:"fullName",label:"Full Name",placeholder:"John Doe",icon:hC},{key:"email",label:"Email",placeholder:"john@example.com",icon:vO,type:"email"},{key:"phone",label:"Phone",placeholder:"+1 (555) 123-4567",icon:wO,type:"tel"},{key:"address",label:"Address",placeholder:"City, State, Country",icon:yO}]},{title:"Professional Profile",icon:uC,fields:[{key:"summary",label:"Professional Summary",placeholder:"Brief overview of your professional background...",icon:zA,isTextarea:!0},{key:"skills",label:"Skills",placeholder:"JavaScript, React, Node.js, Python...",icon:uC},{key:"experience",label:"Work Experience",placeholder:"Describe your work experience...",icon:$k,isTextarea:!0},{key:"education",label:"Education",placeholder:"Your educational background...",icon:gO,isTextarea:!0}]}];return it.jsxs("div",{className:"space-y-6",children:[it.jsxs("div",{className:"text-center mb-6",children:[it.jsx("h2",{className:"text-2xl font-bold bg-gradient-primary bg-clip-text text-transparent mb-2",children:"Build Your Professional Profile"}),it.jsx("p",{className:"text-muted-foreground",children:"Create a comprehensive profile to generate tailored resumes"})]}),it.jsxs(op,{className:"p-6 bg-gradient-secondary border-border/50 transition-all duration-300 hover:shadow-soft",children:[it.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[it.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary flex items-center justify-center shadow-sm",children:it.jsx(AO,{className:"w-5 h-5 text-primary-foreground"})}),it.jsxs("div",{children:[it.jsx("h3",{className:"text-lg font-semibold text-card-foreground",children:"Quick Import"}),it.jsx("p",{className:"text-sm text-muted-foreground",children:"Import from existing resume or profile data"})]})]}),it.jsxs("div",{className:"space-y-4",children:[it.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[it.jsxs(d0,{onClick:()=>{var h;return(h=t.current)==null?void 0:h.click()},variant:"outline",className:"h-20 flex-col gap-2 border-dashed border-2 hover:bg-muted/50 transition-all duration-300",children:[it.jsx(pO,{className:"w-6 h-6 text-primary"}),it.jsx("span",{className:"text-sm font-medium",children:"Upload Resume File"}),it.jsx("span",{className:"text-xs text-muted-foreground",children:"JSON, CSV, or Text"})]}),it.jsxs("div",{className:"h-20 flex flex-col justify-center px-4 bg-muted/30 rounded-lg border border-dashed",children:[it.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[it.jsx(my,{className:"w-4 h-4"}),it.jsx("span",{children:"Supports multiple formats"})]}),it.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[it.jsx(my,{className:"w-4 h-4"}),it.jsx("span",{children:"Auto-detects field mapping"})]}),it.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[it.jsx(my,{className:"w-4 h-4"}),it.jsx("span",{children:"Preserves existing data"})]})]})]}),it.jsx("input",{ref:t,type:"file",accept:".json,.csv,.txt",onChange:s,className:"hidden"}),it.jsxs("div",{className:"text-xs text-muted-foreground bg-muted/50 p-3 rounded-lg",children:[it.jsx("strong",{children:"Supported formats:"})," JSON (.json), CSV (.csv), Plain Text (.txt). The system will automatically detect and extract profile information like name, email, phone, skills, and experience."]})]})]}),it.jsx(r4,{className:"my-6"}),c.map(h=>{const d=h.icon;return it.jsxs(op,{className:"p-6 bg-card shadow-card border-border/50 transition-all duration-300 hover:shadow-soft",children:[it.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[it.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-primary flex items-center justify-center shadow-sm",children:it.jsx(d,{className:"w-5 h-5 text-primary-foreground"})}),it.jsx("h3",{className:"text-lg font-semibold text-card-foreground",children:h.title})]}),it.jsx("div",{className:"grid gap-4",children:h.fields.map(g=>{const f=g.icon;return it.jsxs("div",{className:"space-y-2",children:[it.jsxs(e4,{htmlFor:g.key,className:"text-sm font-medium text-card-foreground flex items-center gap-2",children:[it.jsx(f,{className:"w-4 h-4 text-muted-foreground"}),g.label]}),g.isTextarea?it.jsx(n4,{id:g.key,value:r[g.key],onChange:w=>l(g.key,w.target.value),placeholder:g.placeholder,className:"min-h-[100px] resize-y bg-input border-border focus:ring-ring focus:border-ring transition-colors"}):it.jsx(t4,{id:g.key,type:g.type||"text",value:r[g.key],onChange:w=>l(g.key,w.target.value),placeholder:g.placeholder,className:"bg-input border-border focus:ring-ring focus:border-ring transition-colors"})]},g.key)})})]},h.title)})]})},Si=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),mS=[.001,0,0,.001,0,0],Ox=1.35,bs={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Ec={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},_q="pdfjs_internal_editor_",ve={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},Fe={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},Eq={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},ni={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Ey={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},er={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},_f={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Kw={ERRORS:0,WARNINGS:1,INFOS:5},j5={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Yv={moveTo:0,lineTo:1,curveTo:2,closePath:3},Cq={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Qw=Kw.WARNINGS;function Nq(n){Number.isInteger(n)&&(Qw=n)}function Lq(){return Qw}function Jw(n){Qw>=Kw.INFOS&&console.log(`Info: ${n}`)}function ye(n){Qw>=Kw.WARNINGS&&console.log(`Warning: ${n}`)}function rn(n){throw new Error(n)}function ir(n,t){n||rn(t)}function Pq(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function $T(n,t=null,e=null){if(!n)return null;if(e&&typeof n=="string"){if(e.addDefaultProtocol&&n.startsWith("www.")){const i=n.match(/\./g);(i==null?void 0:i.length)>=2&&(n=`http://${n}`)}if(e.tryConvertEncoding)try{n=Mq(n)}catch{}}const r=t?URL.parse(n,t):URL.parse(n);return Pq(r)?r:null}function VT(n,t,e=!1){const r=URL.parse(n);return r?(r.hash=t,r.href):e&&$T(n,"http://example.com")?n.split("#",1)[0]+`${t?`#${t}`:""}`:""}function Me(n,t,e,r=!1){return Object.defineProperty(n,t,{value:e,enumerable:!r,configurable:!0,writable:!1}),e}const Ud=function(){function t(e,r){this.message=e,this.name=r}return t.prototype=new Error,t.constructor=t,t}();class SN extends Ud{constructor(t,e){super(t,"PasswordException"),this.code=e}}class Dx extends Ud{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class vS extends Ud{constructor(t){super(t,"InvalidPDFException")}}class B5 extends Ud{constructor(t,e,r){super(t,"ResponseException"),this.status=e,this.missing=r}}class kq extends Ud{constructor(t){super(t,"FormatError")}}class Mu extends Ud{constructor(t){super(t,"AbortException")}}function WT(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&rn("Invalid argument for bytesToString");const t=n.length,e=8192;if(t<e)return String.fromCharCode.apply(null,n);const r=[];for(let i=0;i<t;i+=e){const s=Math.min(i+e,t),o=n.subarray(i,s);r.push(String.fromCharCode.apply(null,o))}return r.join("")}function C2(n){typeof n!="string"&&rn("Invalid argument for stringToBytes");const t=n.length,e=new Uint8Array(t);for(let r=0;r<t;++r)e[r]=n.charCodeAt(r)&255;return e}function Tq(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function Rq(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function Iq(){try{return new Function(""),!0}catch{return!1}}class Wr{static get isLittleEndian(){return Me(this,"isLittleEndian",Rq())}static get isEvalSupported(){return Me(this,"isEvalSupported",Iq())}static get isOffscreenCanvasSupported(){return Me(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Me(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return Me(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){var t,e;return Me(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const jx=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var $l,Cy,yS;class re{static makeHexColor(t,e,r){return`#${jx[t]}${jx[e]}${jx[r]}`}static scaleMinMax(t,e){let r;t[0]?(t[0]<0&&(r=e[0],e[0]=e[2],e[2]=r),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(r=e[1],e[1]=e[3],e[3]=r),e[1]*=t[3],e[3]*=t[3]):(r=e[0],e[0]=e[1],e[1]=r,r=e[2],e[2]=e[3],e[3]=r,t[1]<0&&(r=e[1],e[1]=e[3],e[3]=r),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(r=e[0],e[0]=e[2],e[2]=r),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e,r=0){const i=t[r],s=t[r+1];t[r]=i*e[0]+s*e[2]+e[4],t[r+1]=i*e[1]+s*e[3]+e[5]}static applyTransformToBezier(t,e,r=0){const i=e[0],s=e[1],o=e[2],a=e[3],l=e[4],c=e[5];for(let h=0;h<6;h+=2){const d=t[r+h],g=t[r+h+1];t[r+h]=d*i+g*o+l,t[r+h+1]=d*s+g*a+c}}static applyInverseTransform(t,e){const r=t[0],i=t[1],s=e[0]*e[3]-e[1]*e[2];t[0]=(r*e[3]-i*e[2]+e[2]*e[5]-e[4]*e[3])/s,t[1]=(-r*e[1]+i*e[0]+e[4]*e[1]-e[5]*e[0])/s}static axialAlignedBoundingBox(t,e,r){const i=e[0],s=e[1],o=e[2],a=e[3],l=e[4],c=e[5],h=t[0],d=t[1],g=t[2],f=t[3];let w=i*h+l,v=w,x=i*g+l,y=x,b=a*d+c,_=b,N=a*f+c,L=N;if(s!==0||o!==0){const O=s*h,I=s*g,D=o*d,V=o*f;w+=D,y+=D,x+=V,v+=V,b+=O,L+=O,N+=I,_+=I}r[0]=Math.min(r[0],w,x,v,y),r[1]=Math.min(r[1],b,N,_,L),r[2]=Math.max(r[2],w,x,v,y),r[3]=Math.max(r[3],b,N,_,L)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const r=t[0],i=t[1],s=t[2],o=t[3],a=r**2+i**2,l=r*s+i*o,c=s**2+o**2,h=(a+c)/2,d=Math.sqrt(h**2-(a*c-l**2));e[0]=Math.sqrt(h+d||1),e[1]=Math.sqrt(h-d||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const r=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),i=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(r>i)return null;const s=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),o=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return s>o?null:[r,s,i,o]}static pointBoundingBox(t,e,r){r[0]=Math.min(r[0],t),r[1]=Math.min(r[1],e),r[2]=Math.max(r[2],t),r[3]=Math.max(r[3],e)}static rectBoundingBox(t,e,r,i,s){s[0]=Math.min(s[0],t,r),s[1]=Math.min(s[1],e,i),s[2]=Math.max(s[2],t,r),s[3]=Math.max(s[3],e,i)}static bezierBoundingBox(t,e,r,i,s,o,a,l,c){c[0]=Math.min(c[0],t,a),c[1]=Math.min(c[1],e,l),c[2]=Math.max(c[2],t,a),c[3]=Math.max(c[3],e,l),F(this,$l,yS).call(this,t,r,s,a,e,i,o,l,3*(-t+3*(r-s)+a),6*(t-2*r+s),3*(r-t),c),F(this,$l,yS).call(this,t,r,s,a,e,i,o,l,3*(-e+3*(i-o)+l),6*(e-2*i+o),3*(i-e),c)}}$l=new WeakSet,Cy=function(t,e,r,i,s,o,a,l,c,h){if(c<=0||c>=1)return;const d=1-c,g=c*c,f=g*c,w=d*(d*(d*t+3*c*e)+3*g*r)+f*i,v=d*(d*(d*s+3*c*o)+3*g*a)+f*l;h[0]=Math.min(h[0],w),h[1]=Math.min(h[1],v),h[2]=Math.max(h[2],w),h[3]=Math.max(h[3],v)},yS=function(t,e,r,i,s,o,a,l,c,h,d,g){if(Math.abs(c)<1e-12){Math.abs(h)>=1e-12&&F(this,$l,Cy).call(this,t,e,r,i,s,o,a,l,-d/h,g);return}const f=h**2-4*d*c;if(f<0)return;const w=Math.sqrt(f),v=2*c;F(this,$l,Cy).call(this,t,e,r,i,s,o,a,l,(-h+w)/v,g),F(this,$l,Cy).call(this,t,e,r,i,s,o,a,l,(-h-w)/v,g)},k(re,$l);function Mq(n){return decodeURIComponent(escape(n))}let Bx=null,_N=null;function Fq(n){return Bx||(Bx=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,_N=new Map([["ﬅ","ſt"]])),n.replaceAll(Bx,(t,e,r)=>e?e.normalize("NFKC"):_N.get(r))}function GT(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),WT(n)}const i4="pdfjs_internal_id_";function Oq(n,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[r,i,...s]=e;if(!n(r)&&!Number.isInteger(r)||!t(i))return!1;const o=s.length;let a=!0;switch(i.name){case"XYZ":if(o<2||o>3)return!1;break;case"Fit":case"FitB":return o===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(o>1)return!1;break;case"FitR":if(o!==4)return!1;a=!1;break;default:return!1}for(const l of s)if(!(typeof l=="number"||a&&l===null))return!1;return!0}function _i(n,t,e){return Math.min(Math.max(n,t),e)}function XT(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(WT(n))}function Dq(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):C2(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...t){return new Promise(e=>{e(n(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((t,e)=>t+e,0)});const rl="http://www.w3.org/2000/svg",oh=class oh{};It(oh,"CSS",96),It(oh,"PDF",72),It(oh,"PDF_TO_CSS_UNITS",oh.CSS/oh.PDF);let Fu=oh;async function N2(n,t="text"){if(Om(n,document.baseURI)){const e=await fetch(n);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,r)=>{const i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType=t,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(i.response);return}e(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class L2{constructor({viewBox:t,userUnit:e,scale:r,rotation:i,offsetX:s=0,offsetY:o=0,dontFlip:a=!1}){this.viewBox=t,this.userUnit=e,this.scale=r,this.rotation=i,this.offsetX=s,this.offsetY=o,r*=e;const l=(t[2]+t[0])/2,c=(t[3]+t[1])/2;let h,d,g,f;switch(i%=360,i<0&&(i+=360),i){case 180:h=-1,d=0,g=0,f=1;break;case 90:h=0,d=1,g=1,f=0;break;case 270:h=0,d=-1,g=-1,f=0;break;case 0:h=1,d=0,g=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(g=-g,f=-f);let w,v,x,y;h===0?(w=Math.abs(c-t[1])*r+s,v=Math.abs(l-t[0])*r+o,x=(t[3]-t[1])*r,y=(t[2]-t[0])*r):(w=Math.abs(l-t[0])*r+s,v=Math.abs(c-t[1])*r+o,x=(t[2]-t[0])*r,y=(t[3]-t[1])*r),this.transform=[h*r,d*r,g*r,f*r,w-h*r*l-g*r*c,v-d*r*l-f*r*c],this.width=x,this.height=y}get rawDims(){const t=this.viewBox;return Me(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new L2({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:r,offsetY:i,dontFlip:s})}convertToViewportPoint(t,e){const r=[t,e];return re.applyTransform(r,this.transform),r}convertToViewportRectangle(t){const e=[t[0],t[1]];re.applyTransform(e,this.transform);const r=[t[2],t[3]];return re.applyTransform(r,this.transform),[e[0],e[1],r[0],r[1]]}convertToPdfPoint(t,e){const r=[t,e];return re.applyInverseTransform(r,this.transform),r}}class s4 extends Ud{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function Zw(n){const t=n.length;let e=0;for(;e<t&&n[e].trim()==="";)e++;return n.substring(e,e+5).toLowerCase()==="data:"}function o4(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function jq(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function Bq(n,t="document.pdf"){if(typeof n!="string")return t;if(Zw(n))return ye('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=e.exec(n);let s=r.exec(i[1])||r.exec(i[2])||r.exec(i[3]);if(s&&(s=s[0],s.includes("%")))try{s=r.exec(decodeURIComponent(s))[0]}catch{}return s||t}class EN{constructor(){It(this,"started",Object.create(null));It(this,"times",[])}time(t){t in this.started&&ye(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||ye(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:r}of this.times)e=Math.max(r.length,e);for(const{name:r,start:i,end:s}of this.times)t.push(`${r.padEnd(e)} ${s-i}ms
`);return t.join("")}}function Om(n,t){const e=t?URL.parse(n,t):URL.parse(n);return(e==null?void 0:e.protocol)==="http:"||(e==null?void 0:e.protocol)==="https:"}function Go(n){n.preventDefault()}function nr(n){n.preventDefault(),n.stopPropagation()}function zq(n){console.log("Deprecated API usage: "+n)}var U0;class a4{static toDateObject(t){if(!t||typeof t!="string")return null;u(this,U0)||C(this,U0,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=u(this,U0).exec(t);if(!e)return null;const r=parseInt(e[1],10);let i=parseInt(e[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(e[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(e[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(e[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(e[6],10);l=l>=0&&l<=59?l:0;const c=e[7]||"Z";let h=parseInt(e[8],10);h=h>=0&&h<=23?h:0;let d=parseInt(e[9],10)||0;return d=d>=0&&d<=59?d:0,c==="-"?(o+=h,a+=d):c==="+"&&(o-=h,a-=d),new Date(Date.UTC(r,i,s,o,a,l))}}U0=new WeakMap,k(a4,U0);function Uq(n,{scale:t=1,rotation:e=0}){const{width:r,height:i}=n.attributes.style,s=[0,0,parseInt(r),parseInt(i)];return new L2({viewBox:s,userUnit:1,scale:t,rotation:e})}function l4(n){if(n.startsWith("#")){const t=parseInt(n.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(t=>parseInt(t)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(ye(`Not a valid color format: "${n}"`),[0,0,0])}function qq(n){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of n.keys()){t.style.color=e;const r=window.getComputedStyle(t).color;n.set(e,l4(r))}t.remove()}function Cn(n){const{a:t,b:e,c:r,d:i,e:s,f:o}=n.getTransform();return[t,e,r,i,s,o]}function aa(n){const{a:t,b:e,c:r,d:i,e:s,f:o}=n.getTransform().invertSelf();return[t,e,r,i,s,o]}function Fd(n,t,e=!1,r=!0){if(t instanceof L2){const{pageWidth:i,pageHeight:s}=t.rawDims,{style:o}=n,a=Wr.isCSSRoundSupported,l=`var(--total-scale-factor) * ${i}px`,c=`var(--total-scale-factor) * ${s}px`,h=a?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,d=a?`round(down, ${c}, var(--scale-round-y))`:`calc(${c})`;!e||t.rotation%180===0?(o.width=h,o.height=d):(o.width=d,o.height=h)}r&&n.setAttribute("data-main-rotation",t.rotation)}class za{constructor(){const{pixelRatio:t}=za;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,r,i,s=-1){let o=1/0,a=1/0,l=1/0;r=za.capPixels(r,s),r>0&&(o=Math.sqrt(r/(t*e))),i!==-1&&(a=i/t,l=i/e);const c=Math.min(o,a,l);return this.sx>c||this.sy>c?(this.sx=c,this.sy=c,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const r=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,r):r}return t}}const wS=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];var Tc,yh,$s,Rc,q0,mp,H0,G5,YT,$r,KT,QT,Dm,JT,Ny;const al=class al{constructor(t){k(this,$r);k(this,Tc,null);k(this,yh,null);k(this,$s);k(this,Rc,null);k(this,q0,null);k(this,mp,null);C(this,$s,t),u(al,H0)||C(al,H0,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const t=C(this,Tc,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=u(this,$s)._uiManager._signal;t.addEventListener("contextmenu",Go,{signal:e}),t.addEventListener("pointerdown",F(al,G5,YT),{signal:e});const r=C(this,Rc,document.createElement("div"));r.className="buttons",t.append(r);const i=u(this,$s).toolbarPosition;if(i){const{style:s}=t,o=u(this,$s)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*o}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return F(this,$r,JT).call(this),t}get div(){return u(this,Tc)}hide(){var t;u(this,Tc).classList.add("hidden"),(t=u(this,yh))==null||t.hideDropdown()}show(){var t;u(this,Tc).classList.remove("hidden"),(t=u(this,q0))==null||t.shown()}async addAltText(t){const e=await t.render();F(this,$r,Dm).call(this,e),u(this,Rc).prepend(e,u(this,$r,Ny)),C(this,q0,t)}addColorPicker(t){C(this,yh,t);const e=t.renderButton();F(this,$r,Dm).call(this,e),u(this,Rc).prepend(e,u(this,$r,Ny))}async addEditSignatureButton(t){const e=C(this,mp,await t.renderEditButton(u(this,$s)));F(this,$r,Dm).call(this,e),u(this,Rc).prepend(e,u(this,$r,Ny))}updateEditSignatureButton(t){u(this,mp)&&(u(this,mp).title=t)}remove(){var t;u(this,Tc).remove(),(t=u(this,yh))==null||t.destroy(),C(this,yh,null)}};Tc=new WeakMap,yh=new WeakMap,$s=new WeakMap,Rc=new WeakMap,q0=new WeakMap,mp=new WeakMap,H0=new WeakMap,G5=new WeakSet,YT=function(t){t.stopPropagation()},$r=new WeakSet,KT=function(t){u(this,$s)._focusEventsAllowed=!1,nr(t)},QT=function(t){u(this,$s)._focusEventsAllowed=!0,nr(t)},Dm=function(t){const e=u(this,$s)._uiManager._signal;t.addEventListener("focusin",F(this,$r,KT).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",F(this,$r,QT).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Go,{signal:e})},JT=function(){const{editorType:t,_uiManager:e}=u(this,$s),r=document.createElement("button");r.className="delete",r.tabIndex=0,r.setAttribute("data-l10n-id",u(al,H0)[t]),F(this,$r,Dm).call(this,r),r.addEventListener("click",i=>{e.delete()},{signal:e._signal}),u(this,Rc).append(r)},Ny=function(){const t=document.createElement("div");return t.className="divider",t},k(al,G5),k(al,H0,null);let bS=al;var $0,wh,bh,Ou,ZT,tR,eR;class Hq{constructor(t){k(this,Ou);k(this,$0,null);k(this,wh,null);k(this,bh);C(this,bh,t)}show(t,e,r){const[i,s]=F(this,Ou,tR).call(this,e,r),{style:o}=u(this,wh)||C(this,wh,F(this,Ou,ZT).call(this));t.append(u(this,wh)),o.insetInlineEnd=`${100*i}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){u(this,wh).remove()}}$0=new WeakMap,wh=new WeakMap,bh=new WeakMap,Ou=new WeakSet,ZT=function(){const t=C(this,wh,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",Go,{signal:u(this,bh)._signal});const e=C(this,$0,document.createElement("div"));return e.className="buttons",t.append(e),F(this,Ou,eR).call(this),t},tR=function(t,e){let r=0,i=0;for(const s of t){const o=s.y+s.height;if(o<r)continue;const a=s.x+(e?s.width:0);if(o>r){i=a,r=o;continue}e?a>i&&(i=a):a<i&&(i=a)}return[e?1-i:i,r]},eR=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const r=u(this,bh)._signal;t.addEventListener("contextmenu",Go,{signal:r}),t.addEventListener("click",()=>{u(this,bh).highlightSelection("floating_button")},{signal:r}),u(this,$0).append(t)};function nR(n,t,e){for(const r of e)t.addEventListener(r,n[r].bind(n))}var X5;class $q{constructor(){k(this,X5,0)}get id(){return`${_q}${Sr(this,X5)._++}`}}X5=new WeakMap;var vp,V0,si,yp,Ly;const g4=class g4{constructor(){k(this,yp);k(this,vp,GT());k(this,V0,0);k(this,si,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=t;const s=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return Me(this,"_isSVGFittingCanvas",s)}async getFromFile(t){const{lastModified:e,name:r,size:i,type:s}=t;return F(this,yp,Ly).call(this,`${e}_${r}_${i}_${s}`,t)}async getFromUrl(t){return F(this,yp,Ly).call(this,t,t)}async getFromBlob(t,e){const r=await e;return F(this,yp,Ly).call(this,t,r)}async getFromId(t){u(this,si)||C(this,si,new Map);const e=u(this,si).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:r}=e;return delete e.blobPromise,this.getFromBlob(e.id,r)}return this.getFromUrl(e.url)}getFromCanvas(t,e){u(this,si)||C(this,si,new Map);let r=u(this,si).get(t);if(r!=null&&r.bitmap)return r.refCounter+=1,r;const i=new OffscreenCanvas(e.width,e.height);return i.getContext("2d").drawImage(e,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${u(this,vp)}_${Sr(this,V0)._++}`,refCounter:1,isSvg:!1},u(this,si).set(t,r),u(this,si).set(r.id,r),r}getSvgUrl(t){const e=u(this,si).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var i;u(this,si)||C(this,si,new Map);const e=u(this,si).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:r}=e;if(!e.url&&!e.file){const s=new OffscreenCanvas(r.width,r.height);s.getContext("bitmaprenderer").transferFromImageBitmap(r),e.blobPromise=s.convertToBlob()}(i=r.close)==null||i.call(r),e.bitmap=null}isValidId(t){return t.startsWith(`image_${u(this,vp)}_`)}};vp=new WeakMap,V0=new WeakMap,si=new WeakMap,yp=new WeakSet,Ly=async function(t,e){u(this,si)||C(this,si,new Map);let r=u(this,si).get(t);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${u(this,vp)}_${Sr(this,V0)._++}`,refCounter:0,isSvg:!1});let i;if(typeof e=="string"?(r.url=e,i=await N2(e,"blob")):e instanceof File?i=r.file=e:e instanceof Blob&&(i=e),i.type==="image/svg+xml"){const s=g4._isSVGFittingCanvas,o=new FileReader,a=new Image,l=new Promise((c,h)=>{a.onload=()=>{r.bitmap=a,r.isSvg=!0,c()},o.onload=async()=>{const d=r.svgUrl=o.result;a.src=await s?`${d}#svgView(preserveAspectRatio(none))`:d},a.onerror=o.onerror=h});o.readAsDataURL(i),await l}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){ye(i),r=null}return u(this,si).set(t,r),r&&u(this,si).set(r.id,r),r};let xS=g4;var Hn,Ic,W0,En;class Vq{constructor(t=128){k(this,Hn,[]);k(this,Ic,!1);k(this,W0);k(this,En,-1);C(this,W0,t)}add({cmd:t,undo:e,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(i&&t(),u(this,Ic))return;const l={cmd:t,undo:e,post:r,type:s};if(u(this,En)===-1){u(this,Hn).length>0&&(u(this,Hn).length=0),C(this,En,0),u(this,Hn).push(l);return}if(o&&u(this,Hn)[u(this,En)].type===s){a&&(l.undo=u(this,Hn)[u(this,En)].undo),u(this,Hn)[u(this,En)]=l;return}const c=u(this,En)+1;c===u(this,W0)?u(this,Hn).splice(0,1):(C(this,En,c),c<u(this,Hn).length&&u(this,Hn).splice(c)),u(this,Hn).push(l)}undo(){if(u(this,En)===-1)return;C(this,Ic,!0);const{undo:t,post:e}=u(this,Hn)[u(this,En)];t(),e==null||e(),C(this,Ic,!1),C(this,En,u(this,En)-1)}redo(){if(u(this,En)<u(this,Hn).length-1){C(this,En,u(this,En)+1),C(this,Ic,!0);const{cmd:t,post:e}=u(this,Hn)[u(this,En)];t(),e==null||e(),C(this,Ic,!1)}}hasSomethingToUndo(){return u(this,En)!==-1}hasSomethingToRedo(){return u(this,En)<u(this,Hn).length-1}cleanType(t){if(u(this,En)!==-1){for(let e=u(this,En);e>=0;e--)if(u(this,Hn)[e].type!==t){u(this,Hn).splice(e+1,u(this,En)-e),C(this,En,e);return}u(this,Hn).length=0,C(this,En,-1)}}destroy(){C(this,Hn,null)}}Hn=new WeakMap,Ic=new WeakMap,W0=new WeakMap,En=new WeakMap;var Y5,rR;class P2{constructor(t){k(this,Y5);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Wr.platform;for(const[r,i,s={}]of t)for(const o of r){const a=o.startsWith("mac+");e&&a?(this.callbacks.set(o.slice(4),{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1))):!e&&!a&&(this.callbacks.set(o,{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const r=this.callbacks.get(F(this,Y5,rR).call(this,e));if(!r)return;const{callback:i,options:{bubbles:s=!1,args:o=[],checker:a=null}}=r;a&&!a(t,e)||(i.bind(t,...o,e)(),s||nr(e))}}Y5=new WeakSet,rR=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const K5=class K5{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return qq(t),Me(this,"_colors",t)}convert(t){const e=l4(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[r,i]of this._colors)if(i.every((s,o)=>s===e[o]))return K5._colorsMapping.get(r);return e}getHexCode(t){const e=this._colors.get(t);return e?re.makeHexColor(...e):t}};It(K5,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let AS=K5;var wp,as,dr,Or,bp,hl,xp,Vs,Mc,Fc,Ap,xh,ga,Eo,Ah,G0,X0,Sp,Y0,ma,Oc,_p,Dc,va,Q5,jc,K0,Bc,Sh,_h,zc,Q0,_r,Qe,dl,Uc,Eh,J0,Z0,qc,ya,fl,t1,Ws,Ut,Py,SS,iR,sR,ky,oR,aR,lR,_S,cR,ES,CS,uR,vi,il,hR,dR,NS,fR,jm,LS;const Vf=class Vf{constructor(t,e,r,i,s,o,a,l,c,h,d,g,f,w){k(this,Ut);k(this,wp,new AbortController);k(this,as,null);k(this,dr,new Map);k(this,Or,new Map);k(this,bp,null);k(this,hl,null);k(this,xp,null);k(this,Vs,new Vq);k(this,Mc,null);k(this,Fc,null);k(this,Ap,0);k(this,xh,new Set);k(this,ga,null);k(this,Eo,null);k(this,Ah,new Set);It(this,"_editorUndoBar",null);k(this,G0,!1);k(this,X0,!1);k(this,Sp,!1);k(this,Y0,null);k(this,ma,null);k(this,Oc,null);k(this,_p,null);k(this,Dc,!1);k(this,va,null);k(this,Q5,new $q);k(this,jc,!1);k(this,K0,!1);k(this,Bc,null);k(this,Sh,null);k(this,_h,null);k(this,zc,null);k(this,Q0,null);k(this,_r,ve.NONE);k(this,Qe,new Set);k(this,dl,null);k(this,Uc,null);k(this,Eh,null);k(this,J0,null);k(this,Z0,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});k(this,qc,[0,0]);k(this,ya,null);k(this,fl,null);k(this,t1,null);k(this,Ws,null);const v=this._signal=u(this,wp).signal;C(this,fl,t),C(this,t1,e),C(this,bp,r),C(this,Uc,i),this._eventBus=s,s._on("editingaction",this.onEditingAction.bind(this),{signal:v}),s._on("pagechanging",this.onPageChanging.bind(this),{signal:v}),s._on("scalechanging",this.onScaleChanging.bind(this),{signal:v}),s._on("rotationchanging",this.onRotationChanging.bind(this),{signal:v}),s._on("setpreference",this.onSetPreference.bind(this),{signal:v}),s._on("switchannotationeditorparams",x=>this.updateParams(x.type,x.value),{signal:v}),F(this,Ut,oR).call(this),F(this,Ut,uR).call(this),F(this,Ut,_S).call(this),C(this,hl,o.annotationStorage),C(this,Y0,o.filterFactory),C(this,Eh,a),C(this,_p,l||null),C(this,G0,c),C(this,X0,h),C(this,Sp,d),C(this,Q0,g||null),this.viewParameters={realScale:Fu.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=f||null,this._supportsPinchToZoom=w!==!1}static get _keyboardManager(){const t=Vf.prototype,e=o=>u(o,fl).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),r=(o,{target:a})=>{if(a instanceof HTMLInputElement){const{type:l}=a;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return Me(this,"_keyboardManager",new P2([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],t.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:r}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&u(o,fl).contains(a)&&!o.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&u(o,fl).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-i,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-s,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[i,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[s,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-i],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-s],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,i],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,s],checker:e}]]))}destroy(){var t,e,r,i,s,o,a,l;(t=u(this,Ws))==null||t.resolve(),C(this,Ws,null),(e=u(this,wp))==null||e.abort(),C(this,wp,null),this._signal=null;for(const c of u(this,Or).values())c.destroy();u(this,Or).clear(),u(this,dr).clear(),u(this,Ah).clear(),(r=u(this,zc))==null||r.clear(),C(this,as,null),u(this,Qe).clear(),u(this,Vs).destroy(),(i=u(this,bp))==null||i.destroy(),(s=u(this,Uc))==null||s.destroy(),(o=u(this,va))==null||o.hide(),C(this,va,null),(a=u(this,_h))==null||a.destroy(),C(this,_h,null),u(this,ma)&&(clearTimeout(u(this,ma)),C(this,ma,null)),u(this,ya)&&(clearTimeout(u(this,ya)),C(this,ya,null)),(l=this._editorUndoBar)==null||l.destroy()}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return u(this,Q0)}get useNewAltTextFlow(){return u(this,X0)}get useNewAltTextWhenAddingImage(){return u(this,Sp)}get hcmFilter(){return Me(this,"hcmFilter",u(this,Eh)?u(this,Y0).addHCMFilter(u(this,Eh).foreground,u(this,Eh).background):"none")}get direction(){return Me(this,"direction",getComputedStyle(u(this,fl)).direction)}get highlightColors(){return Me(this,"highlightColors",u(this,_p)?new Map(u(this,_p).split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return Me(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),C(this,Fc,t)}setMainHighlightColorPicker(t){C(this,_h,t)}editAltText(t,e=!1){var r;(r=u(this,bp))==null||r.editAltText(this,t,e)}getSignature(t){var e;(e=u(this,Uc))==null||e.getSignature({uiManager:this,editor:t})}get signatureManager(){return u(this,Uc)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":C(this,Sp,e);break}}onPageChanging({pageNumber:t}){C(this,Ap,t-1)}focusMainContainer(){u(this,fl).focus()}findParent(t,e){for(const r of u(this,Or).values()){const{x:i,y:s,width:o,height:a}=r.div.getBoundingClientRect();if(t>=i&&t<=i+o&&e>=s&&e<=s+a)return r}return null}disableUserSelect(t=!1){u(this,t1).classList.toggle("noUserSelect",t)}addShouldRescale(t){u(this,Ah).add(t)}removeShouldRescale(t){u(this,Ah).delete(t)}onScaleChanging({scale:t}){var e;this.commitOrRemove(),this.viewParameters.realScale=t*Fu.PDF_TO_CSS_UNITS;for(const r of u(this,Ah))r.onScaleChanging();(e=u(this,Fc))==null||e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o}=e,a=e.toString(),c=F(this,Ut,Py).call(this,e).closest(".textLayer"),h=this.getSelectionBoxes(c);if(!h)return;e.empty();const d=F(this,Ut,SS).call(this,c),g=u(this,_r)===ve.NONE,f=()=>{d==null||d.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:h,anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o,text:a}),g&&this.showAllEditors("highlight",!0,!0)};if(g){this.switchToMode(ve.HIGHLIGHT,f);return}f()}addToAnnotationStorage(t){!t.isEmpty()&&u(this,hl)&&!u(this,hl).has(t.id)&&u(this,hl).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,u(this,Dc)&&(C(this,Dc,!1),F(this,Ut,ky).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of u(this,Qe))if(e.div.contains(t)){C(this,Sh,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!u(this,Sh))return;const[t,e]=u(this,Sh);C(this,Sh,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){F(this,Ut,_S).call(this),F(this,Ut,ES).call(this)}removeEditListeners(){F(this,Ut,cR).call(this),F(this,Ut,CS).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const r of u(this,Eo))if(r.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const r of u(this,Eo))if(r.isHandlingMimeForPasting(e.type)){r.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var r;if(t.preventDefault(),(r=u(this,as))==null||r.commitOrRemove(),!this.hasSelection)return;const e=[];for(const i of u(this,Qe)){const s=i.serialize(!0);s&&e.push(s)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const s of e.items)for(const o of u(this,Eo))if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer);return}let r=e.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(s){ye(`paste: "${s.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const l of r){const c=await i.deserialize(l);if(!c)return;s.push(c)}const o=()=>{for(const l of s)F(this,Ut,NS).call(this,l);F(this,Ut,LS).call(this,s)},a=()=>{for(const l of s)l.remove()};this.addCommands({cmd:o,undo:a,mustExec:!0})}catch(s){ye(`paste: "${s.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),u(this,_r)!==ve.NONE&&!this.isEditorHandlingKeyboard&&Vf._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,u(this,Dc)&&(C(this,Dc,!1),F(this,Ut,ky).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(F(this,Ut,aR).call(this),F(this,Ut,ES).call(this),F(this,Ut,vi).call(this,{isEditing:u(this,_r)!==ve.NONE,isEmpty:F(this,Ut,jm).call(this),hasSomethingToUndo:u(this,Vs).hasSomethingToUndo(),hasSomethingToRedo:u(this,Vs).hasSomethingToRedo(),hasSelectedEditor:!1})):(F(this,Ut,lR).call(this),F(this,Ut,CS).call(this),F(this,Ut,vi).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!u(this,Eo)){C(this,Eo,t);for(const e of u(this,Eo))F(this,Ut,il).call(this,e.defaultPropertiesToUpdate)}}getId(){return u(this,Q5).id}get currentLayer(){return u(this,Or).get(u(this,Ap))}getLayer(t){return u(this,Or).get(t)}get currentPageIndex(){return u(this,Ap)}addLayer(t){u(this,Or).set(t.pageIndex,t),u(this,jc)?t.enable():t.disable()}removeLayer(t){u(this,Or).delete(t.pageIndex)}async updateMode(t,e=null,r=!1){var i,s,o;if(u(this,_r)!==t&&!(u(this,Ws)&&(await u(this,Ws).promise,!u(this,Ws)))){if(C(this,Ws,Promise.withResolvers()),(i=u(this,Fc))==null||i.commitOrRemove(),C(this,_r,t),t===ve.NONE){this.setEditingState(!1),F(this,Ut,dR).call(this),(s=this._editorUndoBar)==null||s.hide(),u(this,Ws).resolve();return}t===ve.SIGNATURE&&await((o=u(this,Uc))==null?void 0:o.loadSignatures()),this.setEditingState(!0),await F(this,Ut,hR).call(this),this.unselectAll();for(const a of u(this,Or).values())a.updateMode(t);if(!e){r&&this.addNewEditorFromKeyboard(),u(this,Ws).resolve();return}for(const a of u(this,dr).values())a.annotationElementId===e||a.id===e?(this.setSelected(a),a.enterInEditMode()):a.unselect();u(this,Ws).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==u(this,_r)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){var r;if(u(this,Eo)){switch(t){case Fe.CREATE:this.currentLayer.addNewEditor(e);return;case Fe.HIGHLIGHT_DEFAULT_COLOR:(r=u(this,_h))==null||r.updateColor(e);break;case Fe.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(u(this,J0)||C(this,J0,new Map)).set(t,e),this.showAllEditors("highlight",e);break}for(const i of u(this,Qe))i.updateParams(t,e);for(const i of u(this,Eo))i.updateDefaultParams(t,e)}}showAllEditors(t,e,r=!1){var s;for(const o of u(this,dr).values())o.editorType===t&&o.show(e);(((s=u(this,J0))==null?void 0:s.get(Fe.HIGHLIGHT_SHOW_ALL))??!0)!==e&&F(this,Ut,il).call(this,[[Fe.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(u(this,K0)!==t){C(this,K0,t);for(const e of u(this,Or).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const r of u(this,dr).values())r.pageIndex===t&&e.push(r);return e}getEditor(t){return u(this,dr).get(t)}addEditor(t){u(this,dr).set(t.id,t)}removeEditor(t){var e,r;t.div.contains(document.activeElement)&&(u(this,ma)&&clearTimeout(u(this,ma)),C(this,ma,setTimeout(()=>{this.focusMainContainer(),C(this,ma,null)},0))),u(this,dr).delete(t.id),t.annotationElementId&&((e=u(this,zc))==null||e.delete(t.annotationElementId)),this.unselect(t),(!t.annotationElementId||!u(this,xh).has(t.annotationElementId))&&((r=u(this,hl))==null||r.remove(t.id))}addDeletedAnnotationElement(t){u(this,xh).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return u(this,xh).has(t)}removeDeletedAnnotationElement(t){u(this,xh).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){u(this,as)!==t&&(C(this,as,t),t&&F(this,Ut,il).call(this,t.propertiesToUpdate))}updateUI(t){u(this,Ut,fR)===t&&F(this,Ut,il).call(this,t.propertiesToUpdate)}updateUIForDefaultProperties(t){F(this,Ut,il).call(this,t.defaultPropertiesToUpdate)}toggleSelected(t){if(u(this,Qe).has(t)){u(this,Qe).delete(t),t.unselect(),F(this,Ut,vi).call(this,{hasSelectedEditor:this.hasSelection});return}u(this,Qe).add(t),t.select(),F(this,Ut,il).call(this,t.propertiesToUpdate),F(this,Ut,vi).call(this,{hasSelectedEditor:!0})}setSelected(t){var e;(e=u(this,Fc))==null||e.commitOrRemove();for(const r of u(this,Qe))r!==t&&r.unselect();u(this,Qe).clear(),u(this,Qe).add(t),t.select(),F(this,Ut,il).call(this,t.propertiesToUpdate),F(this,Ut,vi).call(this,{hasSelectedEditor:!0})}isSelected(t){return u(this,Qe).has(t)}get firstSelectedEditor(){return u(this,Qe).values().next().value}unselect(t){t.unselect(),u(this,Qe).delete(t),F(this,Ut,vi).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return u(this,Qe).size!==0}get isEnterHandled(){return u(this,Qe).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var t;u(this,Vs).undo(),F(this,Ut,vi).call(this,{hasSomethingToUndo:u(this,Vs).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:F(this,Ut,jm).call(this)}),(t=this._editorUndoBar)==null||t.hide()}redo(){u(this,Vs).redo(),F(this,Ut,vi).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:u(this,Vs).hasSomethingToRedo(),isEmpty:F(this,Ut,jm).call(this)})}addCommands(t){u(this,Vs).add(t),F(this,Ut,vi).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:F(this,Ut,jm).call(this)})}cleanUndoStack(t){u(this,Vs).cleanType(t)}delete(){var s;this.commitOrRemove();const t=(s=this.currentLayer)==null?void 0:s.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...u(this,Qe)],r=()=>{var o;(o=this._editorUndoBar)==null||o.show(i,e.length===1?e[0].editorType:e.length);for(const a of e)a.remove()},i=()=>{for(const o of e)F(this,Ut,NS).call(this,o)};this.addCommands({cmd:r,undo:i,mustExec:!0})}commitOrRemove(){var t;(t=u(this,as))==null||t.commitOrRemove()}hasSomethingToControl(){return u(this,as)||this.hasSelection}selectAll(){for(const t of u(this,Qe))t.commit();F(this,Ut,LS).call(this,u(this,dr).values())}unselectAll(){var t;if(!(u(this,as)&&(u(this,as).commitOrRemove(),u(this,_r)!==ve.NONE))&&!((t=u(this,Fc))!=null&&t.commitOrRemove())&&this.hasSelection){for(const e of u(this,Qe))e.unselect();u(this,Qe).clear(),F(this,Ut,vi).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;u(this,qc)[0]+=t,u(this,qc)[1]+=e;const[i,s]=u(this,qc),o=[...u(this,Qe)],a=1e3;u(this,ya)&&clearTimeout(u(this,ya)),C(this,ya,setTimeout(()=>{C(this,ya,null),u(this,qc)[0]=u(this,qc)[1]=0,this.addCommands({cmd:()=>{for(const l of o)u(this,dr).has(l.id)&&(l.translateInPage(i,s),l.translationDone())},undo:()=>{for(const l of o)u(this,dr).has(l.id)&&(l.translateInPage(-i,-s),l.translationDone())},mustExec:!1})},a));for(const l of o)l.translateInPage(t,e),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),C(this,ga,new Map);for(const t of u(this,Qe))u(this,ga).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!u(this,ga))return!1;this.disableUserSelect(!1);const t=u(this,ga);C(this,ga,null);let e=!1;for(const[{x:i,y:s,pageIndex:o},a]of t)a.newX=i,a.newY=s,a.newPageIndex=o,e||(e=i!==a.savedX||s!==a.savedY||o!==a.savedPageIndex);if(!e)return!1;const r=(i,s,o,a)=>{if(u(this,dr).has(i.id)){const l=u(this,Or).get(a);l?i._setParentAndPosition(l,s,o):(i.pageIndex=a,i.x=s,i.y=o)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:o,newPageIndex:a}]of t)r(i,s,o,a)},undo:()=>{for(const[i,{savedX:s,savedY:o,savedPageIndex:a}]of t)r(i,s,o,a)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(u(this,ga))for(const r of u(this,ga).keys())r.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||u(this,Qe).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return u(this,as)===t}getActive(){return u(this,as)}getMode(){return u(this,_r)}get imageManager(){return Me(this,"imageManager",new xS)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let c=0,h=e.rangeCount;c<h;c++)if(!t.contains(e.getRangeAt(c).commonAncestorContainer))return null;const{x:r,y:i,width:s,height:o}=t.getBoundingClientRect();let a;switch(t.getAttribute("data-main-rotation")){case"90":a=(c,h,d,g)=>({x:(h-i)/o,y:1-(c+d-r)/s,width:g/o,height:d/s});break;case"180":a=(c,h,d,g)=>({x:1-(c+d-r)/s,y:1-(h+g-i)/o,width:d/s,height:g/o});break;case"270":a=(c,h,d,g)=>({x:1-(h+g-i)/o,y:(c-r)/s,width:g/o,height:d/s});break;default:a=(c,h,d,g)=>({x:(c-r)/s,y:(h-i)/o,width:d/s,height:g/o});break}const l=[];for(let c=0,h=e.rangeCount;c<h;c++){const d=e.getRangeAt(c);if(!d.collapsed)for(const{x:g,y:f,width:w,height:v}of d.getClientRects())w===0||v===0||l.push(a(g,f,w,v))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:t,id:e}){(u(this,xp)||C(this,xp,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=u(this,xp))==null||e.delete(t)}renderAnnotationElement(t){var i;const e=(i=u(this,xp))==null?void 0:i.get(t.data.id);if(!e)return;const r=u(this,hl).getRawValue(e);r&&(u(this,_r)===ve.NONE&&!r.hasBeenModified||r.renderAnnotationElement(t))}setMissingCanvas(t,e,r){var s;const i=(s=u(this,zc))==null?void 0:s.get(t);i&&(i.setCanvas(e,r),u(this,zc).delete(t))}addMissingCanvas(t,e){(u(this,zc)||C(this,zc,new Map)).set(t,e)}};wp=new WeakMap,as=new WeakMap,dr=new WeakMap,Or=new WeakMap,bp=new WeakMap,hl=new WeakMap,xp=new WeakMap,Vs=new WeakMap,Mc=new WeakMap,Fc=new WeakMap,Ap=new WeakMap,xh=new WeakMap,ga=new WeakMap,Eo=new WeakMap,Ah=new WeakMap,G0=new WeakMap,X0=new WeakMap,Sp=new WeakMap,Y0=new WeakMap,ma=new WeakMap,Oc=new WeakMap,_p=new WeakMap,Dc=new WeakMap,va=new WeakMap,Q5=new WeakMap,jc=new WeakMap,K0=new WeakMap,Bc=new WeakMap,Sh=new WeakMap,_h=new WeakMap,zc=new WeakMap,Q0=new WeakMap,_r=new WeakMap,Qe=new WeakMap,dl=new WeakMap,Uc=new WeakMap,Eh=new WeakMap,J0=new WeakMap,Z0=new WeakMap,qc=new WeakMap,ya=new WeakMap,fl=new WeakMap,t1=new WeakMap,Ws=new WeakMap,Ut=new WeakSet,Py=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},SS=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const r of u(this,Or).values())if(r.hasTextLayer(t))return r;return null},iR=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const r=F(this,Ut,Py).call(this,t).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(u(this,va)||C(this,va,new Hq(this)),u(this,va).show(r,i,this.direction==="ltr"))},sR=function(){var s,o,a;const t=document.getSelection();if(!t||t.isCollapsed){u(this,dl)&&((s=u(this,va))==null||s.hide(),C(this,dl,null),F(this,Ut,vi).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===u(this,dl))return;const i=F(this,Ut,Py).call(this,t).closest(".textLayer");if(!i){u(this,dl)&&((o=u(this,va))==null||o.hide(),C(this,dl,null),F(this,Ut,vi).call(this,{hasSelectedText:!1}));return}if((a=u(this,va))==null||a.hide(),C(this,dl,e),F(this,Ut,vi).call(this,{hasSelectedText:!0}),!(u(this,_r)!==ve.HIGHLIGHT&&u(this,_r)!==ve.NONE)&&(u(this,_r)===ve.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),C(this,Dc,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=u(this,_r)===ve.HIGHLIGHT?F(this,Ut,SS).call(this,i):null;l==null||l.toggleDrawing();const c=new AbortController,h=this.combinedSignal(c),d=g=>{g.type==="pointerup"&&g.button!==0||(c.abort(),l==null||l.toggleDrawing(!0),g.type==="pointerup"&&F(this,Ut,ky).call(this,"main_toolbar"))};window.addEventListener("pointerup",d,{signal:h}),window.addEventListener("blur",d,{signal:h})}},ky=function(t=""){u(this,_r)===ve.HIGHLIGHT?this.highlightSelection(t):u(this,G0)&&F(this,Ut,iR).call(this)},oR=function(){document.addEventListener("selectionchange",F(this,Ut,sR).bind(this),{signal:this._signal})},aR=function(){if(u(this,Oc))return;C(this,Oc,new AbortController);const t=this.combinedSignal(u(this,Oc));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},lR=function(){var t;(t=u(this,Oc))==null||t.abort(),C(this,Oc,null)},_S=function(){if(u(this,Bc))return;C(this,Bc,new AbortController);const t=this.combinedSignal(u(this,Bc));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},cR=function(){var t;(t=u(this,Bc))==null||t.abort(),C(this,Bc,null)},ES=function(){if(u(this,Mc))return;C(this,Mc,new AbortController);const t=this.combinedSignal(u(this,Mc));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},CS=function(){var t;(t=u(this,Mc))==null||t.abort(),C(this,Mc,null)},uR=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},vi=function(t){Object.entries(t).some(([r,i])=>u(this,Z0)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(u(this,Z0),t)}),u(this,_r)===ve.HIGHLIGHT&&t.hasSelectedEditor===!1&&F(this,Ut,il).call(this,[[Fe.HIGHLIGHT_FREE,!0]]))},il=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},hR=async function(){if(!u(this,jc)){C(this,jc,!0);const t=[];for(const e of u(this,Or).values())t.push(e.enable());await Promise.all(t);for(const e of u(this,dr).values())e.enable()}},dR=function(){if(this.unselectAll(),u(this,jc)){C(this,jc,!1);for(const t of u(this,Or).values())t.disable();for(const t of u(this,dr).values())t.disable()}},NS=function(t){const e=u(this,Or).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},fR=function(){let t=null;for(t of u(this,Qe));return t},jm=function(){if(u(this,dr).size===0)return!0;if(u(this,dr).size===1)for(const t of u(this,dr).values())return t.isEmpty();return!1},LS=function(t){for(const e of u(this,Qe))e.unselect();u(this,Qe).clear();for(const e of t)e.isEmpty()||(u(this,Qe).add(e),e.select());F(this,Ut,vi).call(this,{hasSelectedEditor:this.hasSelection})},It(Vf,"TRANSLATE_SMALL",1),It(Vf,"TRANSLATE_BIG",10);let Od=Vf;var Er,wa,Co,Ep,ba,ls,Cp,xa,Bi,pl,Ch,Aa,Hc,zo,Bm,Ty;const yi=class yi{constructor(t){k(this,zo);k(this,Er,null);k(this,wa,!1);k(this,Co,null);k(this,Ep,null);k(this,ba,null);k(this,ls,null);k(this,Cp,!1);k(this,xa,null);k(this,Bi,null);k(this,pl,null);k(this,Ch,null);k(this,Aa,!1);C(this,Bi,t),C(this,Aa,t._uiManager.useNewAltTextFlow),u(yi,Hc)||C(yi,Hc,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){yi._l10n??(yi._l10n=t)}async render(){const t=C(this,Co,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=C(this,Ep,document.createElement("span"));t.append(e),u(this,Aa)?(t.classList.add("new"),t.setAttribute("data-l10n-id",u(yi,Hc).missing),e.setAttribute("data-l10n-id",u(yi,Hc)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=u(this,Bi)._uiManager._signal;t.addEventListener("contextmenu",Go,{signal:r}),t.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),u(this,Bi)._uiManager.editAltText(u(this,Bi)),u(this,Aa)&&u(this,Bi)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:u(this,zo,Bm)}})};return t.addEventListener("click",i,{capture:!0,signal:r}),t.addEventListener("keydown",s=>{s.target===t&&s.key==="Enter"&&(C(this,Cp,!0),i(s))},{signal:r}),await F(this,zo,Ty).call(this),t}finish(){u(this,Co)&&(u(this,Co).focus({focusVisible:u(this,Cp)}),C(this,Cp,!1))}isEmpty(){return u(this,Aa)?u(this,Er)===null:!u(this,Er)&&!u(this,wa)}hasData(){return u(this,Aa)?u(this,Er)!==null||!!u(this,pl):this.isEmpty()}get guessedText(){return u(this,pl)}async setGuessedText(t){u(this,Er)===null&&(C(this,pl,t),C(this,Ch,await yi._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),F(this,zo,Ty).call(this))}toggleAltTextBadge(t=!1){var e;if(!u(this,Aa)||u(this,Er)){(e=u(this,xa))==null||e.remove(),C(this,xa,null);return}if(!u(this,xa)){const r=C(this,xa,document.createElement("div"));r.className="noAltTextBadge",u(this,Bi).div.append(r)}u(this,xa).classList.toggle("hidden",!t)}serialize(t){let e=u(this,Er);return!t&&u(this,pl)===e&&(e=u(this,Ch)),{altText:e,decorative:u(this,wa),guessedText:u(this,pl),textWithDisclaimer:u(this,Ch)}}get data(){return{altText:u(this,Er),decorative:u(this,wa)}}set data({altText:t,decorative:e,guessedText:r,textWithDisclaimer:i,cancel:s=!1}){r&&(C(this,pl,r),C(this,Ch,i)),!(u(this,Er)===t&&u(this,wa)===e)&&(s||(C(this,Er,t),C(this,wa,e)),F(this,zo,Ty).call(this))}toggle(t=!1){u(this,Co)&&(!t&&u(this,ls)&&(clearTimeout(u(this,ls)),C(this,ls,null)),u(this,Co).disabled=!t)}shown(){u(this,Bi)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:u(this,zo,Bm)}})}destroy(){var t,e;(t=u(this,Co))==null||t.remove(),C(this,Co,null),C(this,Ep,null),C(this,ba,null),(e=u(this,xa))==null||e.remove(),C(this,xa,null)}};Er=new WeakMap,wa=new WeakMap,Co=new WeakMap,Ep=new WeakMap,ba=new WeakMap,ls=new WeakMap,Cp=new WeakMap,xa=new WeakMap,Bi=new WeakMap,pl=new WeakMap,Ch=new WeakMap,Aa=new WeakMap,Hc=new WeakMap,zo=new WeakSet,Bm=function(){return u(this,Er)&&"added"||u(this,Er)===null&&this.guessedText&&"review"||"missing"},Ty=async function(){var i,s,o;const t=u(this,Co);if(!t)return;if(u(this,Aa)){if(t.classList.toggle("done",!!u(this,Er)),t.setAttribute("data-l10n-id",u(yi,Hc)[u(this,zo,Bm)]),(i=u(this,Ep))==null||i.setAttribute("data-l10n-id",u(yi,Hc)[`${u(this,zo,Bm)}-label`]),!u(this,Er)){(s=u(this,ba))==null||s.remove();return}}else{if(!u(this,Er)&&!u(this,wa)){t.classList.remove("done"),(o=u(this,ba))==null||o.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=u(this,ba);if(!e){C(this,ba,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${u(this,Bi).id}`;const a=100,l=u(this,Bi)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(u(this,ls)),C(this,ls,null)},{once:!0}),t.addEventListener("mouseenter",()=>{C(this,ls,setTimeout(()=>{C(this,ls,null),u(this,ba).classList.add("show"),u(this,Bi)._reportTelemetry({action:"alt_text_tooltip"})},a))},{signal:l}),t.addEventListener("mouseleave",()=>{var c;u(this,ls)&&(clearTimeout(u(this,ls)),C(this,ls,null)),(c=u(this,ba))==null||c.classList.remove("show")},{signal:l})}u(this,wa)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=u(this,Er)),e.parentNode||t.append(e);const r=u(this,Bi).getElementForAltText();r==null||r.setAttribute("aria-describedby",e.id)},k(yi,Hc,null),It(yi,"_l10n",null);let z5=yi;var Np,Nh,e1,n1,r1,i1,s1,gl,Lh,ml,Ph,vl,Du,pR,gR,mR;const m4=class m4{constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:r=null,onPinchStart:i=null,onPinching:s=null,onPinchEnd:o=null,signal:a}){k(this,Du);k(this,Np);k(this,Nh,!1);k(this,e1,null);k(this,n1);k(this,r1);k(this,i1);k(this,s1);k(this,gl,null);k(this,Lh);k(this,ml,null);k(this,Ph);k(this,vl,null);C(this,Np,t),C(this,e1,r),C(this,n1,e),C(this,r1,i),C(this,i1,s),C(this,s1,o),C(this,Ph,new AbortController),C(this,Lh,AbortSignal.any([a,u(this,Ph).signal])),t.addEventListener("touchstart",F(this,Du,pR).bind(this),{passive:!1,signal:u(this,Lh)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/za.pixelRatio}destroy(){var t,e;(t=u(this,Ph))==null||t.abort(),C(this,Ph,null),(e=u(this,gl))==null||e.abort(),C(this,gl,null)}};Np=new WeakMap,Nh=new WeakMap,e1=new WeakMap,n1=new WeakMap,r1=new WeakMap,i1=new WeakMap,s1=new WeakMap,gl=new WeakMap,Lh=new WeakMap,ml=new WeakMap,Ph=new WeakMap,vl=new WeakMap,Du=new WeakSet,pR=function(t){var i,s,o;if((i=u(this,n1))!=null&&i.call(this))return;if(t.touches.length===1){if(u(this,gl))return;const a=C(this,gl,new AbortController),l=AbortSignal.any([u(this,Lh),a.signal]),c=u(this,Np),h={capture:!0,signal:l,passive:!1},d=g=>{var f;g.pointerType==="touch"&&((f=u(this,gl))==null||f.abort(),C(this,gl,null))};c.addEventListener("pointerdown",g=>{g.pointerType==="touch"&&(nr(g),d(g))},h),c.addEventListener("pointerup",d,h),c.addEventListener("pointercancel",d,h);return}if(!u(this,vl)){C(this,vl,new AbortController);const a=AbortSignal.any([u(this,Lh),u(this,vl).signal]),l=u(this,Np),c={signal:a,capture:!1,passive:!1};l.addEventListener("touchmove",F(this,Du,gR).bind(this),c);const h=F(this,Du,mR).bind(this);l.addEventListener("touchend",h,c),l.addEventListener("touchcancel",h,c),c.capture=!0,l.addEventListener("pointerdown",nr,c),l.addEventListener("pointermove",nr,c),l.addEventListener("pointercancel",nr,c),l.addEventListener("pointerup",nr,c),(s=u(this,r1))==null||s.call(this)}if(nr(t),t.touches.length!==2||(o=u(this,e1))!=null&&o.call(this)){C(this,ml,null);return}let[e,r]=t.touches;e.identifier>r.identifier&&([e,r]=[r,e]),C(this,ml,{touch0X:e.screenX,touch0Y:e.screenY,touch1X:r.screenX,touch1Y:r.screenY})},gR=function(t){var N;if(!u(this,ml)||t.touches.length!==2)return;nr(t);let[e,r]=t.touches;e.identifier>r.identifier&&([e,r]=[r,e]);const{screenX:i,screenY:s}=e,{screenX:o,screenY:a}=r,l=u(this,ml),{touch0X:c,touch0Y:h,touch1X:d,touch1Y:g}=l,f=d-c,w=g-h,v=o-i,x=a-s,y=Math.hypot(v,x)||1,b=Math.hypot(f,w)||1;if(!u(this,Nh)&&Math.abs(b-y)<=m4.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=i,l.touch0Y=s,l.touch1X=o,l.touch1Y=a,!u(this,Nh)){C(this,Nh,!0);return}const _=[(i+o)/2,(s+a)/2];(N=u(this,i1))==null||N.call(this,_,b,y)},mR=function(t){var e;t.touches.length>=2||(u(this,vl)&&(u(this,vl).abort(),C(this,vl,null),(e=u(this,s1))==null||e.call(this)),u(this,ml)&&(nr(t),C(this,ml,null),C(this,Nh,!1)))};let U5=m4;var kh,No,mn,Lp,$c,o1,Th,Dr,Rh,yl,Vc,a1,Ih,cs,l1,Mh,wl,Sa,Pp,kp,Gs,Fh,c1,J5,ae,PS,u1,kS,Ry,vR,yR,TS,Iy,RS,wR,bR,xR,IS,AR,MS,SR,_R,ER,FS,zm;const Le=class Le{constructor(t){k(this,ae);k(this,kh,null);k(this,No,null);k(this,mn,null);k(this,Lp,!1);k(this,$c,null);k(this,o1,"");k(this,Th,!1);k(this,Dr,null);k(this,Rh,null);k(this,yl,null);k(this,Vc,null);k(this,a1,"");k(this,Ih,!1);k(this,cs,null);k(this,l1,!1);k(this,Mh,!1);k(this,wl,!1);k(this,Sa,null);k(this,Pp,0);k(this,kp,0);k(this,Gs,null);k(this,Fh,null);It(this,"isSelected",!1);It(this,"_isCopy",!1);It(this,"_editToolbar",null);It(this,"_initialOptions",Object.create(null));It(this,"_initialData",null);It(this,"_isVisible",!0);It(this,"_uiManager",null);It(this,"_focusEventsAllowed",!0);k(this,c1,!1);k(this,J5,Le._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[s,o];const[a,l]=this.parentDimensions;this.x=t.x/a,this.y=t.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=Le.prototype._resizeWithKeyboard,e=Od.TRANSLATE_SMALL,r=Od.TRANSLATE_BIG;return Me(this,"_resizerKeyboardManager",new P2([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,r]}],[["Escape","mac+Escape"],Le.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get isDrawer(){return!1}static get _defaultLineColor(){return Me(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new Wq({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(Le._l10n??(Le._l10n=t),Le._l10nResizer||(Le._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Le._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);Le._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){rn("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return u(this,c1)}set _isDraggable(t){var e;C(this,c1,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=u(this,J5)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):F(this,ae,zm).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(u(this,Ih)?C(this,Ih,!1):this.parent.setSelected(this))}focusout(t){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,r,i){const[s,o]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(t+r)/s,this.y=(e+i)/o,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[r,i]=this.parentDimensions;this.setAt(t*r,e*i,this.width*r,this.height*i),this._onTranslated()}translate(t,e){F(this,ae,PS).call(this,this.parentDimensions,t,e)}translateInPage(t,e){u(this,cs)||C(this,cs,[this.x,this.y,this.width,this.height]),F(this,ae,PS).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){u(this,cs)||C(this,cs,[this.x,this.y,this.width,this.height]);const{div:r,parentDimensions:[i,s]}=this;if(this.x+=t/i,this.y+=e/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:d,y:g}=this.div.getBoundingClientRect();this.parent.findNewParent(this,d,g)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:a}=this;const[l,c]=this.getBaseTranslation();o+=l,a+=c;const{style:h}=r;h.left=`${(100*o).toFixed(2)}%`,h.top=`${(100*a).toFixed(2)}%`,this._onTranslating(o,a),r.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!u(this,cs)&&(u(this,cs)[0]!==this.x||u(this,cs)[1]!==this.y)}get _hasBeenResized(){return!!u(this,cs)&&(u(this,cs)[2]!==this.width||u(this,cs)[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:r}=Le,i=r/t,s=r/e;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[r,i]}=this;let{x:s,y:o,width:a,height:l}=this;if(a*=r,l*=i,s*=r,o*=i,this._mustFixPosition)switch(t){case 0:s=_i(s,0,r-a),o=_i(o,0,i-l);break;case 90:s=_i(s,0,r-l),o=_i(o,a,i);break;case 180:s=_i(s,a,r),o=_i(o,l,i);break;case 270:s=_i(s,l,r),o=_i(o,0,i-a);break}this.x=s/=r,this.y=o/=i;const[c,h]=this.getBaseTranslation();s+=c,o+=h,e.left=`${(100*s).toFixed(2)}%`,e.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var r;return F(r=Le,u1,kS).call(r,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var r;return F(r=Le,u1,kS).call(r,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,r]}=this;return[e*t,r*t]}setDims(t,e){const[r,i]=this.parentDimensions,{style:s}=this.div;s.width=`${(100*t/r).toFixed(2)}%`,u(this,Th)||(s.height=`${(100*e/i).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:r}=t,i=r.endsWith("%"),s=!u(this,Th)&&e.endsWith("%");if(i&&s)return;const[o,a]=this.parentDimensions;i||(t.width=`${(100*parseFloat(r)/o).toFixed(2)}%`),!u(this,Th)&&!s&&(t.height=`${(100*parseFloat(e)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(t){return Math.round(t*1e4)/1e4}_onResizing(){}altTextFinish(){var t;(t=u(this,mn))==null||t.finish()}async addEditToolbar(){return this._editToolbar||u(this,Mh)?this._editToolbar:(this._editToolbar=new bS(this),this.div.append(this._editToolbar.render()),u(this,mn)&&await this._editToolbar.addAltText(u(this,mn)),this._editToolbar)}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(t=u(this,mn))==null||t.destroy())}addContainer(t){var r;const e=(r=this._editToolbar)==null?void 0:r.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){u(this,mn)||(z5.initialize(Le._l10n),C(this,mn,new z5(this)),u(this,kh)&&(u(this,mn).data=u(this,kh),C(this,kh,null)),await this.addEditToolbar())}get altTextData(){var t;return(t=u(this,mn))==null?void 0:t.data}set altTextData(t){u(this,mn)&&(u(this,mn).data=t)}get guessedAltText(){var t;return(t=u(this,mn))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=u(this,mn))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=u(this,mn))==null?void 0:e.serialize(t)}hasAltText(){return!!u(this,mn)&&!u(this,mn).isEmpty()}hasAltTextData(){var t;return((t=u(this,mn))==null?void 0:t.hasData())??!1}render(){var o;const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=u(this,Lp)?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),F(this,ae,MS).call(this);const[e,r]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*r/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/r).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),nR(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(u(this,Fh)||C(this,Fh,new U5({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:F(this,ae,wR).bind(this),onPinching:F(this,ae,bR).bind(this),onPinchEnd:F(this,ae,xR).bind(this),signal:this._uiManager._signal}))),(o=this._uiManager._editorUndoBar)==null||o.hide(),t}pointerdown(t){const{isMac:e}=Wr.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(C(this,Ih,!0),this._isDraggable){F(this,ae,AR).call(this,t);return}F(this,ae,IS).call(this,t)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){u(this,Sa)&&clearTimeout(u(this,Sa)),C(this,Sa,setTimeout(()=>{var t;C(this,Sa,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,r){t.changeParent(this),this.x=e,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,r=this.rotation){const i=this.parentScale,[s,o]=this.pageDimensions,[a,l]=this.pageTranslation,c=t/i,h=e/i,d=this.x*s,g=this.y*o,f=this.width*s,w=this.height*o;switch(r){case 0:return[d+c+a,o-g-h-w+l,d+c+f+a,o-g-h+l];case 90:return[d+h+a,o-g+c+l,d+h+w+a,o-g+c+f+l];case 180:return[d-c-f+a,o-g+h+l,d-c+a,o-g+h+w+l];case 270:return[d-h-w+a,o-g-c-f+l,d-h+a,o-g-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[r,i,s,o]=t,a=s-r,l=o-i;switch(this.rotation){case 0:return[r,e-o,a,l];case 90:return[r,e-i,l,a];case 180:return[s,e-i,a,l];case 270:return[s,e-o,l,a];default:throw new Error("Invalid rotation")}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),C(this,Mh,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),C(this,Mh,!1),!0):!1}isInEditMode(){return u(this,Mh)}shouldGetKeyboardEvents(){return u(this,wl)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:r,right:i}=this.getClientDimensions(),{innerHeight:s,innerWidth:o}=window;return e<o&&i>0&&t<s&&r>0}rebuild(){F(this,ae,MS).call(this)}rotate(t){}resize(){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){rn("An editor must be serializable")}static async deserialize(t,e,r){const i=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:r});i.rotation=t.rotation,C(i,kh,t.accessibilityData),i._isCopy=t.isCopy||!1;const[s,o]=i.pageDimensions,[a,l,c,h]=i.getRectInCurrentCoords(t.rect,o);return i.x=a/s,i.y=l/o,i.width=c/s,i.height=h/o,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t,e;if((t=u(this,Vc))==null||t.abort(),C(this,Vc,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),u(this,Sa)&&(clearTimeout(u(this,Sa)),C(this,Sa,null)),F(this,ae,zm).call(this),this.removeEditToolbar(),u(this,Gs)){for(const r of u(this,Gs).values())clearTimeout(r);C(this,Gs,null)}this.parent=null,(e=u(this,Fh))==null||e.destroy(),C(this,Fh,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(F(this,ae,vR).call(this),u(this,Dr).classList.remove("hidden"))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),C(this,yl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=u(this,Dr).children;if(!u(this,No)){C(this,No,Array.from(e));const o=F(this,ae,SR).bind(this),a=F(this,ae,_R).bind(this),l=this._uiManager._signal;for(const c of u(this,No)){const h=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",o,{signal:l}),c.addEventListener("blur",a,{signal:l}),c.addEventListener("focus",F(this,ae,ER).bind(this,h),{signal:l}),c.setAttribute("data-l10n-id",Le._l10nResizer[h])}}const r=u(this,No)[0];let i=0;for(const o of e){if(o===r)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(u(this,No).length/4);if(s!==i){if(s<i)for(let a=0;a<i-s;a++)u(this,Dr).append(u(this,Dr).firstChild);else if(s>i)for(let a=0;a<s-i;a++)u(this,Dr).firstChild.before(u(this,Dr).lastChild);let o=0;for(const a of e){const c=u(this,No)[o++].getAttribute("data-resizer-name");a.setAttribute("data-l10n-id",Le._l10nResizer[c])}}F(this,ae,FS).call(this,0),C(this,wl,!0),u(this,Dr).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){u(this,wl)&&F(this,ae,RS).call(this,u(this,a1),{deltaX:t,deltaY:e,fromKeyboard:!0})}_stopResizingWithKeyboard(){F(this,ae,zm).call(this),this.div.focus()}select(){var t,e,r;if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,s;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(e=this._editToolbar)==null||e.show(),(r=u(this,mn))==null||r.toggleAltTextBadge(!1)}}unselect(){var t,e,r,i,s;this.isSelected&&(this.isSelected=!1,(t=u(this,Dr))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(s=u(this,mn))==null||s.toggleAltTextBadge(!0))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return u(this,l1)}set isEditing(t){C(this,l1,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){C(this,Th,!0);const r=t/e,{style:i}=this.div;i.aspectRatio=r,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){u(this,Gs)||C(this,Gs,new Map);const{action:r}=t;let i=u(this,Gs).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(t),u(this,Gs).delete(r),u(this,Gs).size===0&&C(this,Gs,null)},Le._telemetryTimeout),u(this,Gs).set(r,i);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),C(this,Lp,!1)}disable(){this.div&&(this.div.tabIndex=-1),C(this,Lp,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const r=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),r.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};kh=new WeakMap,No=new WeakMap,mn=new WeakMap,Lp=new WeakMap,$c=new WeakMap,o1=new WeakMap,Th=new WeakMap,Dr=new WeakMap,Rh=new WeakMap,yl=new WeakMap,Vc=new WeakMap,a1=new WeakMap,Ih=new WeakMap,cs=new WeakMap,l1=new WeakMap,Mh=new WeakMap,wl=new WeakMap,Sa=new WeakMap,Pp=new WeakMap,kp=new WeakMap,Gs=new WeakMap,Fh=new WeakMap,c1=new WeakMap,J5=new WeakMap,ae=new WeakSet,PS=function([t,e],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/t,this.y+=i/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},u1=new WeakSet,kS=function(t,e,r){switch(r){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},Ry=function(t){switch(t){case 90:{const[e,r]=this.pageDimensions;return[0,-e/r,r/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,r]=this.pageDimensions;return[0,e/r,-r/e,0]}default:return[1,0,0,1]}},vR=function(){if(u(this,Dr))return;C(this,Dr,document.createElement("div")),u(this,Dr).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const r of t){const i=document.createElement("div");u(this,Dr).append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",F(this,ae,yR).bind(this,r),{signal:e}),i.addEventListener("contextmenu",Go,{signal:e}),i.tabIndex=-1}this.div.prepend(u(this,Dr))},yR=function(t,e){var h;e.preventDefault();const{isMac:r}=Wr.platform;if(e.button!==0||e.ctrlKey&&r)return;(h=u(this,mn))==null||h.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,C(this,Rh,[e.screenX,e.screenY]);const s=new AbortController,o=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",F(this,ae,RS).bind(this,t),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",nr,{passive:!1,signal:o}),window.addEventListener("contextmenu",Go,{signal:o}),C(this,yl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const a=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const c=()=>{var d;s.abort(),this.parent.togglePointerEvents(!0),(d=u(this,mn))==null||d.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=a,this.div.style.cursor=l,F(this,ae,Iy).call(this)};window.addEventListener("pointerup",c,{signal:o}),window.addEventListener("blur",c,{signal:o})},TS=function(t,e,r,i){this.width=r,this.height=i,this.x=t,this.y=e;const[s,o]=this.parentDimensions;this.setDims(s*r,o*i),this.fixAndSetPosition(),this._onResized()},Iy=function(){if(!u(this,yl))return;const{savedX:t,savedY:e,savedWidth:r,savedHeight:i}=u(this,yl);C(this,yl,null);const s=this.x,o=this.y,a=this.width,l=this.height;s===t&&o===e&&a===r&&l===i||this.addCommands({cmd:F(this,ae,TS).bind(this,s,o,a,l),undo:F(this,ae,TS).bind(this,t,e,r,i),mustExec:!0})},RS=function(t,e){const[r,i]=this.parentDimensions,s=this.x,o=this.y,a=this.width,l=this.height,c=Le.MIN_SIZE/r,h=Le.MIN_SIZE/i,d=F(this,ae,Ry).call(this,this.rotation),g=(J,rt)=>[d[0]*J+d[2]*rt,d[1]*J+d[3]*rt],f=F(this,ae,Ry).call(this,360-this.rotation),w=(J,rt)=>[f[0]*J+f[2]*rt,f[1]*J+f[3]*rt];let v,x,y=!1,b=!1;switch(t){case"topLeft":y=!0,v=(J,rt)=>[0,0],x=(J,rt)=>[J,rt];break;case"topMiddle":v=(J,rt)=>[J/2,0],x=(J,rt)=>[J/2,rt];break;case"topRight":y=!0,v=(J,rt)=>[J,0],x=(J,rt)=>[0,rt];break;case"middleRight":b=!0,v=(J,rt)=>[J,rt/2],x=(J,rt)=>[0,rt/2];break;case"bottomRight":y=!0,v=(J,rt)=>[J,rt],x=(J,rt)=>[0,0];break;case"bottomMiddle":v=(J,rt)=>[J/2,rt],x=(J,rt)=>[J/2,0];break;case"bottomLeft":y=!0,v=(J,rt)=>[0,rt],x=(J,rt)=>[J,0];break;case"middleLeft":b=!0,v=(J,rt)=>[0,rt/2],x=(J,rt)=>[J,rt/2];break}const _=v(a,l),N=x(a,l);let L=g(...N);const O=Le._round(s+L[0]),I=Le._round(o+L[1]);let D=1,V=1,Q,P;if(e.fromKeyboard)({deltaX:Q,deltaY:P}=e);else{const{screenX:J,screenY:rt}=e,[W,tt]=u(this,Rh);[Q,P]=this.screenToPageTranslation(J-W,rt-tt),u(this,Rh)[0]=J,u(this,Rh)[1]=rt}if([Q,P]=w(Q/r,P/i),y){const J=Math.hypot(a,l);D=V=Math.max(Math.min(Math.hypot(N[0]-_[0]-Q,N[1]-_[1]-P)/J,1/a,1/l),c/a,h/l)}else b?D=_i(Math.abs(N[0]-_[0]-Q),c,1)/a:V=_i(Math.abs(N[1]-_[1]-P),h,1)/l;const j=Le._round(a*D),Y=Le._round(l*V);L=g(...x(j,Y));const H=O-L[0],dt=I-L[1];u(this,cs)||C(this,cs,[this.x,this.y,this.width,this.height]),this.width=j,this.height=Y,this.x=H,this.y=dt,this.setDims(r*j,i*Y),this.fixAndSetPosition(),this._onResizing()},wR=function(){var t;C(this,yl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(t=u(this,mn))==null||t.toggle(!1),this.parent.togglePointerEvents(!1)},bR=function(t,e,r){let s=.7*(r/e)+1-.7;if(s===1)return;const o=F(this,ae,Ry).call(this,this.rotation),a=(O,I)=>[o[0]*O+o[2]*I,o[1]*O+o[3]*I],[l,c]=this.parentDimensions,h=this.x,d=this.y,g=this.width,f=this.height,w=Le.MIN_SIZE/l,v=Le.MIN_SIZE/c;s=Math.max(Math.min(s,1/g,1/f),w/g,v/f);const x=Le._round(g*s),y=Le._round(f*s);if(x===g&&y===f)return;u(this,cs)||C(this,cs,[h,d,g,f]);const b=a(g/2,f/2),_=Le._round(h+b[0]),N=Le._round(d+b[1]),L=a(x/2,y/2);this.x=_-L[0],this.y=N-L[1],this.width=x,this.height=y,this.setDims(l*x,c*y),this.fixAndSetPosition(),this._onResizing()},xR=function(){var t;(t=u(this,mn))==null||t.toggle(!0),this.parent.togglePointerEvents(!0),F(this,ae,Iy).call(this)},IS=function(t){const{isMac:e}=Wr.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},AR=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let r=!1;const i=new AbortController,s=this._uiManager.combinedSignal(i),o={capture:!0,passive:!1,signal:s},a=c=>{i.abort(),C(this,$c,null),C(this,Ih,!1),this._uiManager.endDragSession()||F(this,ae,IS).call(this,c),r&&this._onStopDragging()};e&&(C(this,Pp,t.clientX),C(this,kp,t.clientY),C(this,$c,t.pointerId),C(this,o1,t.pointerType),window.addEventListener("pointermove",c=>{r||(r=!0,this._onStartDragging());const{clientX:h,clientY:d,pointerId:g}=c;if(g!==u(this,$c)){nr(c);return}const[f,w]=this.screenToPageTranslation(h-u(this,Pp),d-u(this,kp));C(this,Pp,h),C(this,kp,d),this._uiManager.dragSelectedEditors(f,w)},o),window.addEventListener("touchmove",nr,o),window.addEventListener("pointerdown",c=>{c.pointerType===u(this,o1)&&(u(this,Fh)||c.isPrimary)&&a(c),nr(c)},o));const l=c=>{if(!u(this,$c)||u(this,$c)===c.pointerId){a(c);return}nr(c)};window.addEventListener("pointerup",l,{signal:s}),window.addEventListener("blur",l,{signal:s})},MS=function(){if(u(this,Vc)||!this.div)return;C(this,Vc,new AbortController);const t=this._uiManager.combinedSignal(u(this,Vc));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},SR=function(t){Le._resizerKeyboardManager.exec(this,t)},_R=function(t){var e;u(this,wl)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==u(this,Dr)&&F(this,ae,zm).call(this)},ER=function(t){C(this,a1,u(this,wl)?t:"")},FS=function(t){if(u(this,No))for(const e of u(this,No))e.tabIndex=t},zm=function(){C(this,wl,!1),F(this,ae,FS).call(this,-1),F(this,ae,Iy).call(this)},k(Le,u1),It(Le,"_l10n",null),It(Le,"_l10nResizer",null),It(Le,"_borderLineWidth",-1),It(Le,"_colorManager",new AS),It(Le,"_zIndex",1),It(Le,"_telemetryTimeout",1e3);let dn=Le;class Wq extends dn{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const CN=3285377520,qs=4294901760,la=65535;class CR{constructor(t){this.h1=t?t&4294967295:CN,this.h2=t?t&4294967295:CN}update(t){let e,r;if(typeof t=="string"){e=new Uint8Array(t.length*2),r=0;for(let v=0,x=t.length;v<x;v++){const y=t.charCodeAt(v);y<=255?e[r++]=y:(e[r++]=y>>>8,e[r++]=y&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),r=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,s=r-i*4,o=new Uint32Array(e.buffer,0,i);let a=0,l=0,c=this.h1,h=this.h2;const d=3432918353,g=461845907,f=d&la,w=g&la;for(let v=0;v<i;v++)v&1?(a=o[v],a=a*d&qs|a*f&la,a=a<<15|a>>>17,a=a*g&qs|a*w&la,c^=a,c=c<<13|c>>>19,c=c*5+3864292196):(l=o[v],l=l*d&qs|l*f&la,l=l<<15|l>>>17,l=l*g&qs|l*w&la,h^=l,h=h<<13|h>>>19,h=h*5+3864292196);switch(a=0,s){case 3:a^=e[i*4+2]<<16;case 2:a^=e[i*4+1]<<8;case 1:a^=e[i*4],a=a*d&qs|a*f&la,a=a<<15|a>>>17,a=a*g&qs|a*w&la,i&1?c^=a:h^=a}this.h1=c,this.h2=h}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&qs|t*36045&la,e=e*4283543511&qs|((e<<16|t>>>16)*2950163797&qs)>>>16,t^=e>>>1,t=t*444984403&qs|t*60499&la,e=e*3301882366&qs|((e<<16|t>>>16)*3120437893&qs)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const OS=Object.freeze({map:null,hash:"",transfer:void 0});var Oh,Dh,jr,Z5,NR;class c4{constructor(){k(this,Z5);k(this,Oh,!1);k(this,Dh,null);k(this,jr,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const r=u(this,jr).get(t);return r===void 0?e:Object.assign(e,r)}getRawValue(t){return u(this,jr).get(t)}remove(t){if(u(this,jr).delete(t),u(this,jr).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of u(this,jr).values())if(e instanceof dn)return;this.onAnnotationEditor(null)}}setValue(t,e){const r=u(this,jr).get(t);let i=!1;if(r!==void 0)for(const[s,o]of Object.entries(e))r[s]!==o&&(i=!0,r[s]=o);else i=!0,u(this,jr).set(t,e);i&&F(this,Z5,NR).call(this),e instanceof dn&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return u(this,jr).has(t)}get size(){return u(this,jr).size}resetModified(){u(this,Oh)&&(C(this,Oh,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new LR(this)}get serializable(){if(u(this,jr).size===0)return OS;const t=new Map,e=new CR,r=[],i=Object.create(null);let s=!1;for(const[o,a]of u(this,jr)){const l=a instanceof dn?a.serialize(!1,i):a;l&&(t.set(o,l),e.update(`${o}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const o of t.values())o.bitmap&&r.push(o.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:r}:OS}get editorStats(){let t=null;const e=new Map;for(const r of u(this,jr).values()){if(!(r instanceof dn))continue;const i=r.telemetryFinalData;if(!i)continue;const{type:s}=i;e.has(s)||e.set(s,Object.getPrototypeOf(r).constructor),t||(t=Object.create(null));const o=t[s]||(t[s]=new Map);for(const[a,l]of Object.entries(i)){if(a==="type")continue;let c=o.get(a);c||(c=new Map,o.set(a,c));const h=c.get(l)??0;c.set(l,h+1)}}for(const[r,i]of e)t[r]=i.computeTelemetryFinalData(t[r]);return t}resetModifiedIds(){C(this,Dh,null)}get modifiedIds(){if(u(this,Dh))return u(this,Dh);const t=[];for(const e of u(this,jr).values())!(e instanceof dn)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return C(this,Dh,{ids:new Set(t),hash:t.join(",")})}[Symbol.iterator](){return u(this,jr).entries()}}Oh=new WeakMap,Dh=new WeakMap,jr=new WeakMap,Z5=new WeakSet,NR=function(){u(this,Oh)||(C(this,Oh,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var h1;class LR extends c4{constructor(e){super();k(this,h1);const{map:r,hash:i,transfer:s}=e.serializable,o=structuredClone(r,s?{transfer:s}:null);C(this,h1,{map:o,hash:i,transfer:s})}get print(){rn("Should not call PrintAnnotationStorage.print")}get serializable(){return u(this,h1)}get modifiedIds(){return Me(this,"modifiedIds",{ids:new Set,hash:""})}}h1=new WeakMap;var Tp;class Gq{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){k(this,Tp,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),u(this,Tp).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:r}){if(!(!t||u(this,Tp).has(t.loadedName))){if(ir(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:s,style:o}=t,a=new FontFace(i,s,o);this.addNativeFontFace(a);try{await a.load(),u(this,Tp).add(i),r==null||r(t)}catch{ye(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}rn("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const r=t.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw ye(`Failed to load font '${r.family}': '${i}'.`),t.disableFontFace=!0,i}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(t,i)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return Me(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return Me(this,"isSyncFontLoadingSupported",Si||Wr.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(ir(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const s=r.shift();setTimeout(s.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:e,callback:t};return r.push(i),i}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Me(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function r(N,L){return N.charCodeAt(L)<<24|N.charCodeAt(L+1)<<16|N.charCodeAt(L+2)<<8|N.charCodeAt(L+3)&255}function i(N,L,O,I){const D=N.substring(0,L),V=N.substring(L+O);return D+I+V}let s,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let c=0;function h(N,L){if(++c>30){ye("Load test font never loaded."),L();return}if(l.font="30px "+N,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){L();return}setTimeout(h.bind(null,N,L))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let g=this._loadTestFont;g=i(g,976,d.length,d);const w=16,v=1482184792;let x=r(g,w);for(s=0,o=d.length-3;s<o;s+=4)x=x-v+r(d,s)|0;s<d.length&&(x=x-v+r(d+"XXX",s)|0),g=i(g,w,4,Tq(x));const y=`url(data:font/opentype;base64,${btoa(g)});`,b=`@font-face {font-family:"${d}";src:${y}}`;this.insertRule(b);const _=this._document.createElement("div");_.style.visibility="hidden",_.style.width=_.style.height="10px",_.style.position="absolute",_.style.top=_.style.left="0px";for(const N of[t.loadedName,d]){const L=this._document.createElement("span");L.textContent="Hi",L.style.fontFamily=N,_.append(L)}this._document.body.append(_),h(d,()=>{_.remove(),e.complete()})}}Tp=new WeakMap;class Xq{constructor(t,e=null){this.compiledGlyphs=Object.create(null);for(const r in t)this[r]=t[r];this._inspectFont=e}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${XT(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${t}}`}return(r=this._inspectFont)==null||r.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const r=this.loadedName+"_path_"+e;let i;try{i=t.get(r)}catch(o){ye(`getPathGenerator - ignoring character: "${o}".`)}const s=new Path2D(i||"");return this.fontExtraProperties||t.delete(r),this.compiledGlyphs[e]=s}}function Yq(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(Si)return n;const t=URL.parse(n,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Kq(n){if(Si&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return C2(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Kv(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const DS=n=>typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0,Qq=n=>typeof n=="object"&&typeof(n==null?void 0:n.name)=="string",Jq=Oq.bind(null,DS,Qq);var bl,tw;class Zq{constructor(){k(this,bl,new Map);k(this,tw,Promise.resolve())}postMessage(t,e){const r={data:structuredClone(t,e?{transfer:e}:null)};u(this,tw).then(()=>{for(const[i]of u(this,bl))i.call(this,r)})}addEventListener(t,e,r=null){let i=null;if((r==null?void 0:r.signal)instanceof AbortSignal){const{signal:s}=r;if(s.aborted){ye("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(t,e);i=()=>s.removeEventListener("abort",o),s.addEventListener("abort",o)}u(this,bl).set(e,i)}removeEventListener(t,e){const r=u(this,bl).get(e);r==null||r(),u(this,bl).delete(e)}terminate(){for(const[,t]of u(this,bl))t==null||t();u(this,bl).clear()}}bl=new WeakMap,tw=new WeakMap;const Qv={DATA:1,ERROR:2},tr={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function NN(){}function Di(n){if(n instanceof Mu||n instanceof vS||n instanceof SN||n instanceof B5||n instanceof Dx)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||rn('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Mu(n.message);case"InvalidPDFException":return new vS(n.message);case"PasswordException":return new SN(n.message,n.code);case"ResponseException":return new B5(n.message,n.status,n.missing);case"UnknownErrorException":return new Dx(n.message,n.details)}return new Dx(n.message,n.toString())}var Rp,ro,PR,kR,TR,My;class Um{constructor(t,e,r){k(this,ro);k(this,Rp,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",F(this,ro,PR).bind(this),{signal:u(this,Rp).signal})}on(t,e){const r=this.actionHandler;if(r[t])throw new Error(`There is already an actionName called "${t}"`);r[t]=e}send(t,e,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},r)}sendWithPromise(t,e,r){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:i,data:e},r)}catch(o){s.reject(o)}return s.promise}sendWithStream(t,e,r,i){const s=this.streamId++,o=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const h=Promise.withResolvers();return this.streamControllers[s]={controller:c,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:o,targetName:a,action:t,streamId:s,data:e,desiredSize:c.desiredSize},i),h.promise},pull:c=>{const h=Promise.withResolvers();return this.streamControllers[s].pullCall=h,l.postMessage({sourceName:o,targetName:a,stream:tr.PULL,streamId:s,desiredSize:c.desiredSize}),h.promise},cancel:c=>{ir(c instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[s].cancelCall=h,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:o,targetName:a,stream:tr.CANCEL,streamId:s,reason:Di(c)}),h.promise}},r)}destroy(){var t;(t=u(this,Rp))==null||t.abort(),C(this,Rp,null)}}Rp=new WeakMap,ro=new WeakSet,PR=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){F(this,ro,TR).call(this,t);return}if(t.callback){const r=t.callbackId,i=this.callbackCapabilities[r];if(!i)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],t.callback===Qv.DATA)i.resolve(t.data);else if(t.callback===Qv.ERROR)i.reject(Di(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const r=this.sourceName,i=t.sourceName,s=this.comObj;Promise.try(e,t.data).then(function(o){s.postMessage({sourceName:r,targetName:i,callback:Qv.DATA,callbackId:t.callbackId,data:o})},function(o){s.postMessage({sourceName:r,targetName:i,callback:Qv.ERROR,callbackId:t.callbackId,reason:Di(o)})});return}if(t.streamId){F(this,ro,kR).call(this,t);return}e(t.data)},kR=function(t){const e=t.streamId,r=this.sourceName,i=t.sourceName,s=this.comObj,o=this,a=this.actionHandler[t.action],l={enqueue(c,h=1,d){if(this.isCancelled)return;const g=this.desiredSize;this.desiredSize-=h,g>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:r,targetName:i,stream:tr.ENQUEUE,streamId:e,chunk:c},d)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:tr.CLOSE,streamId:e}),delete o.streamSinks[e])},error(c){ir(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:tr.ERROR,streamId:e,reason:Di(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[e]=l,Promise.try(a,t.data,l).then(function(){s.postMessage({sourceName:r,targetName:i,stream:tr.START_COMPLETE,streamId:e,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:tr.START_COMPLETE,streamId:e,reason:Di(c)})})},TR=function(t){const e=t.streamId,r=this.sourceName,i=t.sourceName,s=this.comObj,o=this.streamControllers[e],a=this.streamSinks[e];switch(t.stream){case tr.START_COMPLETE:t.success?o.startCall.resolve():o.startCall.reject(Di(t.reason));break;case tr.PULL_COMPLETE:t.success?o.pullCall.resolve():o.pullCall.reject(Di(t.reason));break;case tr.PULL:if(!a){s.postMessage({sourceName:r,targetName:i,stream:tr.PULL_COMPLETE,streamId:e,success:!0});break}a.desiredSize<=0&&t.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=t.desiredSize,Promise.try(a.onPull||NN).then(function(){s.postMessage({sourceName:r,targetName:i,stream:tr.PULL_COMPLETE,streamId:e,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:tr.PULL_COMPLETE,streamId:e,reason:Di(c)})});break;case tr.ENQUEUE:if(ir(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(t.chunk);break;case tr.CLOSE:if(ir(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),F(this,ro,My).call(this,o,e);break;case tr.ERROR:ir(o,"error should have stream controller"),o.controller.error(Di(t.reason)),F(this,ro,My).call(this,o,e);break;case tr.CANCEL_COMPLETE:t.success?o.cancelCall.resolve():o.cancelCall.reject(Di(t.reason)),F(this,ro,My).call(this,o,e);break;case tr.CANCEL:if(!a)break;const l=Di(t.reason);Promise.try(a.onCancel||NN,l).then(function(){s.postMessage({sourceName:r,targetName:i,stream:tr.CANCEL_COMPLETE,streamId:e,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:tr.CANCEL_COMPLETE,streamId:e,reason:Di(c)})}),a.sinkCapability.reject(l),a.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},My=async function(t,e){var r,i,s;await Promise.allSettled([(r=t.startCall)==null?void 0:r.promise,(i=t.pullCall)==null?void 0:i.promise,(s=t.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[e]};var d1;class RR{constructor({enableHWA:t=!1}){k(this,d1,!1);C(this,d1,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(t,e);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!u(this,d1)})}}reset(t,e,r){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||r<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=r}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){rn("Abstract method `_createCanvas` called.")}}d1=new WeakMap;class tH extends RR{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const r=this._document.createElement("canvas");return r.width=t,r.height=e,r}}class IR{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){rn("Abstract method `_fetch` called.")}}class LN extends IR{async _fetch(t){const e=await N2(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):C2(e)}}class MR{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,r,i,s){return"none"}destroy(t=!1){}}var jh,Ip,xl,Al,oi,Bh,zh,Gt,ri,qm,Ef,Fy,Cf,FR,jS,Nf,Hm,$m,BS,Vm;class eH extends MR{constructor({docId:e,ownerDocument:r=globalThis.document}){super();k(this,Gt);k(this,jh);k(this,Ip);k(this,xl);k(this,Al);k(this,oi);k(this,Bh);k(this,zh,0);C(this,Al,e),C(this,oi,r)}addFilter(e){if(!e)return"none";let r=u(this,Gt,ri).get(e);if(r)return r;const[i,s,o]=F(this,Gt,Fy).call(this,e),a=e.length===1?i:`${i}${s}${o}`;if(r=u(this,Gt,ri).get(a),r)return u(this,Gt,ri).set(e,r),r;const l=`g_${u(this,Al)}_transfer_map_${Sr(this,zh)._++}`,c=F(this,Gt,Cf).call(this,l);u(this,Gt,ri).set(e,c),u(this,Gt,ri).set(a,c);const h=F(this,Gt,Nf).call(this,l);return F(this,Gt,$m).call(this,i,s,o,h),c}addHCMFilter(e,r){var w;const i=`${e}-${r}`,s="base";let o=u(this,Gt,qm).get(s);if((o==null?void 0:o.key)===i||(o?((w=o.filter)==null||w.remove(),o.key=i,o.url="none",o.filter=null):(o={key:i,url:"none",filter:null},u(this,Gt,qm).set(s,o)),!e||!r))return o.url;const a=F(this,Gt,Vm).call(this,e);e=re.makeHexColor(...a);const l=F(this,Gt,Vm).call(this,r);if(r=re.makeHexColor(...l),u(this,Gt,Ef).style.color="",e==="#000000"&&r==="#ffffff"||e===r)return o.url;const c=new Array(256);for(let v=0;v<=255;v++){const x=v/255;c[v]=x<=.03928?x/12.92:((x+.055)/1.055)**2.4}const h=c.join(","),d=`g_${u(this,Al)}_hcm_filter`,g=o.filter=F(this,Gt,Nf).call(this,d);F(this,Gt,$m).call(this,h,h,h,g),F(this,Gt,jS).call(this,g);const f=(v,x)=>{const y=a[v]/255,b=l[v]/255,_=new Array(x+1);for(let N=0;N<=x;N++)_[N]=y+N/x*(b-y);return _.join(",")};return F(this,Gt,$m).call(this,f(0,5),f(1,5),f(2,5),g),o.url=F(this,Gt,Cf).call(this,d),o.url}addAlphaFilter(e){let r=u(this,Gt,ri).get(e);if(r)return r;const[i]=F(this,Gt,Fy).call(this,[e]),s=`alpha_${i}`;if(r=u(this,Gt,ri).get(s),r)return u(this,Gt,ri).set(e,r),r;const o=`g_${u(this,Al)}_alpha_map_${Sr(this,zh)._++}`,a=F(this,Gt,Cf).call(this,o);u(this,Gt,ri).set(e,a),u(this,Gt,ri).set(s,a);const l=F(this,Gt,Nf).call(this,o);return F(this,Gt,BS).call(this,i,l),a}addLuminosityFilter(e){let r=u(this,Gt,ri).get(e||"luminosity");if(r)return r;let i,s;if(e?([i]=F(this,Gt,Fy).call(this,[e]),s=`luminosity_${i}`):s="luminosity",r=u(this,Gt,ri).get(s),r)return u(this,Gt,ri).set(e,r),r;const o=`g_${u(this,Al)}_luminosity_map_${Sr(this,zh)._++}`,a=F(this,Gt,Cf).call(this,o);u(this,Gt,ri).set(e,a),u(this,Gt,ri).set(s,a);const l=F(this,Gt,Nf).call(this,o);return F(this,Gt,FR).call(this,l),e&&F(this,Gt,BS).call(this,i,l),a}addHighlightHCMFilter(e,r,i,s,o){var b;const a=`${r}-${i}-${s}-${o}`;let l=u(this,Gt,qm).get(e);if((l==null?void 0:l.key)===a||(l?((b=l.filter)==null||b.remove(),l.key=a,l.url="none",l.filter=null):(l={key:a,url:"none",filter:null},u(this,Gt,qm).set(e,l)),!r||!i))return l.url;const[c,h]=[r,i].map(F(this,Gt,Vm).bind(this));let d=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),g=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[f,w]=[s,o].map(F(this,Gt,Vm).bind(this));g<d&&([d,g,f,w]=[g,d,w,f]),u(this,Gt,Ef).style.color="";const v=(_,N,L)=>{const O=new Array(256),I=(g-d)/L,D=_/255,V=(N-_)/(255*L);let Q=0;for(let P=0;P<=L;P++){const j=Math.round(d+P*I),Y=D+P*V;for(let H=Q;H<=j;H++)O[H]=Y;Q=j+1}for(let P=Q;P<256;P++)O[P]=O[Q-1];return O.join(",")},x=`g_${u(this,Al)}_hcm_${e}_filter`,y=l.filter=F(this,Gt,Nf).call(this,x);return F(this,Gt,jS).call(this,y),F(this,Gt,$m).call(this,v(f[0],w[0],5),v(f[1],w[1],5),v(f[2],w[2],5),y),l.url=F(this,Gt,Cf).call(this,x),l.url}destroy(e=!1){var r,i,s,o;e&&((r=u(this,Bh))!=null&&r.size)||((i=u(this,xl))==null||i.parentNode.parentNode.remove(),C(this,xl,null),(s=u(this,Ip))==null||s.clear(),C(this,Ip,null),(o=u(this,Bh))==null||o.clear(),C(this,Bh,null),C(this,zh,0))}}jh=new WeakMap,Ip=new WeakMap,xl=new WeakMap,Al=new WeakMap,oi=new WeakMap,Bh=new WeakMap,zh=new WeakMap,Gt=new WeakSet,ri=function(){return u(this,Ip)||C(this,Ip,new Map)},qm=function(){return u(this,Bh)||C(this,Bh,new Map)},Ef=function(){if(!u(this,xl)){const e=u(this,oi).createElement("div"),{style:r}=e;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=u(this,oi).createElementNS(rl,"svg");i.setAttribute("width",0),i.setAttribute("height",0),C(this,xl,u(this,oi).createElementNS(rl,"defs")),e.append(i),i.append(u(this,xl)),u(this,oi).body.append(e)}return u(this,xl)},Fy=function(e){if(e.length===1){const c=e[0],h=new Array(256);for(let g=0;g<256;g++)h[g]=c[g]/255;const d=h.join(",");return[d,d,d]}const[r,i,s]=e,o=new Array(256),a=new Array(256),l=new Array(256);for(let c=0;c<256;c++)o[c]=r[c]/255,a[c]=i[c]/255,l[c]=s[c]/255;return[o.join(","),a.join(","),l.join(",")]},Cf=function(e){if(u(this,jh)===void 0){C(this,jh,"");const r=u(this,oi).URL;r!==u(this,oi).baseURI&&(Zw(r)?ye('#createUrl: ignore "data:"-URL for performance reasons.'):C(this,jh,VT(r,"")))}return`url(${u(this,jh)}#${e})`},FR=function(e){const r=u(this,oi).createElementNS(rl,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(r)},jS=function(e){const r=u(this,oi).createElementNS(rl,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(r)},Nf=function(e){const r=u(this,oi).createElementNS(rl,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",e),u(this,Gt,Ef).append(r),r},Hm=function(e,r,i){const s=u(this,oi).createElementNS(rl,r);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),e.append(s)},$m=function(e,r,i,s){const o=u(this,oi).createElementNS(rl,"feComponentTransfer");s.append(o),F(this,Gt,Hm).call(this,o,"feFuncR",e),F(this,Gt,Hm).call(this,o,"feFuncG",r),F(this,Gt,Hm).call(this,o,"feFuncB",i)},BS=function(e,r){const i=u(this,oi).createElementNS(rl,"feComponentTransfer");r.append(i),F(this,Gt,Hm).call(this,i,"feFuncA",e)},Vm=function(e){return u(this,Gt,Ef).style.color=e,l4(getComputedStyle(u(this,Gt,Ef)).getPropertyValue("color"))};class OR{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(r=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){rn("Abstract method `_fetch` called.")}}class PN extends OR{async _fetch(t){const e=await N2(t,"arraybuffer");return new Uint8Array(e)}}class DR{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(r=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){rn("Abstract method `_fetch` called.")}}class kN extends DR{async _fetch(t){const e=await N2(t,"arraybuffer");return new Uint8Array(e)}}Si&&ye("Please use the `legacy` build in Node.js environments.");async function u4(n){const e=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(e)}class nH extends MR{}class rH extends RR{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class iH extends IR{async _fetch(t){return u4(t)}}class sH extends OR{async _fetch(t){return u4(t)}}class oH extends DR{async _fetch(t){return u4(t)}}const qr={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function zS(n,t){if(!t)return;const e=t[2]-t[0],r=t[3]-t[1],i=new Path2D;i.rect(t[0],t[1],e,r),n.clip(i)}class h4{isModifyingCurrentTransform(){return!1}getPattern(){rn("Abstract method `getPattern` called.")}}class aH extends h4{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)e.addColorStop(r[0],r[1]);return e}getPattern(t,e,r,i){let s;if(i===qr.STROKE||i===qr.FILL){const o=e.current.getClippedPathBoundingBox(i,Cn(t))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,l=Math.ceil(o[3]-o[1])||1,c=e.cachedCanvases.getCanvas("pattern",a,l),h=c.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-o[0],-o[1]),r=re.transform(r,[1,0,0,1,o[0],o[1]]),h.transform(...e.baseTransform),this.matrix&&h.transform(...this.matrix),zS(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),s=t.createPattern(c.canvas,"no-repeat");const d=new DOMMatrix(r);s.setTransform(d)}else zS(t,this._bbox),s=this._createGradient(t);return s}}function zx(n,t,e,r,i,s,o,a){const l=t.coords,c=t.colors,h=n.data,d=n.width*4;let g;l[e+1]>l[r+1]&&(g=e,e=r,r=g,g=s,s=o,o=g),l[r+1]>l[i+1]&&(g=r,r=i,i=g,g=o,o=a,a=g),l[e+1]>l[r+1]&&(g=e,e=r,r=g,g=s,s=o,o=g);const f=(l[e]+t.offsetX)*t.scaleX,w=(l[e+1]+t.offsetY)*t.scaleY,v=(l[r]+t.offsetX)*t.scaleX,x=(l[r+1]+t.offsetY)*t.scaleY,y=(l[i]+t.offsetX)*t.scaleX,b=(l[i+1]+t.offsetY)*t.scaleY;if(w>=b)return;const _=c[s],N=c[s+1],L=c[s+2],O=c[o],I=c[o+1],D=c[o+2],V=c[a],Q=c[a+1],P=c[a+2],j=Math.round(w),Y=Math.round(b);let H,dt,J,rt,W,tt,ct,St;for(let T=j;T<=Y;T++){if(T<x){const at=T<w?0:(w-T)/(w-x);H=f-(f-v)*at,dt=_-(_-O)*at,J=N-(N-I)*at,rt=L-(L-D)*at}else{let at;T>b?at=1:x===b?at=0:at=(x-T)/(x-b),H=v-(v-y)*at,dt=O-(O-V)*at,J=I-(I-Q)*at,rt=D-(D-P)*at}let $;T<w?$=0:T>b?$=1:$=(w-T)/(w-b),W=f-(f-y)*$,tt=_-(_-V)*$,ct=N-(N-Q)*$,St=L-(L-P)*$;const X=Math.round(Math.min(H,W)),nt=Math.round(Math.max(H,W));let ot=d*T+X*4;for(let at=X;at<=nt;at++)$=(H-at)/(H-W),$<0?$=0:$>1&&($=1),h[ot++]=dt-(dt-tt)*$|0,h[ot++]=J-(J-ct)*$|0,h[ot++]=rt-(rt-St)*$|0,h[ot++]=255}}function lH(n,t,e){const r=t.coords,i=t.colors;let s,o;switch(t.type){case"lattice":const a=t.verticesPerRow,l=Math.floor(r.length/a)-1,c=a-1;for(s=0;s<l;s++){let h=s*a;for(let d=0;d<c;d++,h++)zx(n,e,r[h],r[h+1],r[h+a],i[h],i[h+1],i[h+a]),zx(n,e,r[h+a+1],r[h+1],r[h+a],i[h+a+1],i[h+1],i[h+a])}break;case"triangles":for(s=0,o=r.length;s<o;s+=3)zx(n,e,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class cH extends h4{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,r){const a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-a,h=Math.ceil(this._bounds[3])-l,d=Math.min(Math.ceil(Math.abs(c*t[0]*1.1)),3e3),g=Math.min(Math.ceil(Math.abs(h*t[1]*1.1)),3e3),f=c/d,w=h/g,v={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/f,scaleY:1/w},x=d+2*2,y=g+2*2,b=r.getCanvas("mesh",x,y),_=b.context,N=_.createImageData(d,g);if(e){const O=N.data;for(let I=0,D=O.length;I<D;I+=4)O[I]=e[0],O[I+1]=e[1],O[I+2]=e[2],O[I+3]=255}for(const O of this._figures)lH(N,O,v);return _.putImageData(N,2,2),{canvas:b.canvas,offsetX:a-2*f,offsetY:l-2*w,scaleX:f,scaleY:w}}isModifyingCurrentTransform(){return!0}getPattern(t,e,r,i){zS(t,this._bbox);const s=new Float32Array(2);if(i===qr.SHADING)re.singularValueDecompose2dScale(Cn(t),s);else if(this.matrix){re.singularValueDecompose2dScale(this.matrix,s);const[a,l]=s;re.singularValueDecompose2dScale(e.baseTransform,s),s[0]*=a,s[1]*=l}else re.singularValueDecompose2dScale(e.baseTransform,s);const o=this._createMeshCanvas(s,i===qr.SHADING?null:this._background,e.cachedCanvases);return i!==qr.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(o.offsetX,o.offsetY),t.scale(o.scaleX,o.scaleY),t.createPattern(o.canvas,"no-repeat")}}class uH extends h4{getPattern(){return"hotpink"}}function hH(n){switch(n[0]){case"RadialAxial":return new aH(n);case"Mesh":return new cH(n);case"Dummy":return new uH}throw new Error(`Unknown IR type: ${n[0]}`)}const TN={COLORED:1,UNCOLORED:2},ew=class ew{constructor(t,e,r,i){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(t){const{bbox:e,operatorList:r,paintType:i,tilingType:s,color:o,canvasGraphicsFactory:a}=this;let{xstep:l,ystep:c}=this;l=Math.abs(l),c=Math.abs(c),Jw("TilingType: "+s);const h=e[0],d=e[1],g=e[2],f=e[3],w=g-h,v=f-d,x=new Float32Array(2);re.singularValueDecompose2dScale(this.matrix,x);const[y,b]=x;re.singularValueDecompose2dScale(this.baseTransform,x);const _=y*x[0],N=b*x[1];let L=w,O=v,I=!1,D=!1;const V=Math.ceil(l*_),Q=Math.ceil(c*N),P=Math.ceil(w*_),j=Math.ceil(v*N);V>=P?L=l:I=!0,Q>=j?O=c:D=!0;const Y=this.getSizeAndScale(L,this.ctx.canvas.width,_),H=this.getSizeAndScale(O,this.ctx.canvas.height,N),dt=t.cachedCanvases.getCanvas("pattern",Y.size,H.size),J=dt.context,rt=a.createCanvasGraphics(J);if(rt.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(rt,i,o),J.translate(-Y.scale*h,-H.scale*d),rt.transform(Y.scale,0,0,H.scale,0,0),J.save(),this.clipBbox(rt,h,d,g,f),rt.baseTransform=Cn(rt.ctx),rt.executeOperatorList(r),rt.endDrawing(),J.restore(),I||D){const W=dt.canvas;I&&(L=l),D&&(O=c);const tt=this.getSizeAndScale(L,this.ctx.canvas.width,_),ct=this.getSizeAndScale(O,this.ctx.canvas.height,N),St=tt.size,T=ct.size,$=t.cachedCanvases.getCanvas("pattern-workaround",St,T),X=$.context,nt=I?Math.floor(w/l):0,ot=D?Math.floor(v/c):0;for(let at=0;at<=nt;at++)for(let vt=0;vt<=ot;vt++)X.drawImage(W,St*at,T*vt,St,T,0,0,St,T);return{canvas:$.canvas,scaleX:tt.scale,scaleY:ct.scale,offsetX:h,offsetY:d}}return{canvas:dt.canvas,scaleX:Y.scale,scaleY:H.scale,offsetX:h,offsetY:d}}getSizeAndScale(t,e,r){const i=Math.max(ew.MAX_PATTERN_SIZE,e);let s=Math.ceil(t*r);return s>=i?s=i:r=s/t,{scale:r,size:s}}clipBbox(t,e,r,i,s){const o=i-e,a=s-r;t.ctx.rect(e,r,o,a),re.axialAlignedBoundingBox([e,r,i,s],Cn(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,r){const i=t.ctx,s=t.current;switch(e){case TN.COLORED:const{fillStyle:o,strokeStyle:a}=this.ctx;i.fillStyle=s.fillColor=o,i.strokeStyle=s.strokeColor=a;break;case TN.UNCOLORED:i.fillStyle=i.strokeStyle=r,s.fillColor=s.strokeColor=r;break;default:throw new kq(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,r,i){let s=r;i!==qr.SHADING&&(s=re.transform(s,e.baseTransform),this.matrix&&(s=re.transform(s,this.matrix)));const o=this.createPatternCanvas(e);let a=new DOMMatrix(s);a=a.translate(o.offsetX,o.offsetY),a=a.scale(1/o.scaleX,1/o.scaleY);const l=t.createPattern(o.canvas,"repeat");return l.setTransform(a),l}};It(ew,"MAX_PATTERN_SIZE",3e3);let US=ew;function dH({src:n,srcPos:t=0,dest:e,width:r,height:i,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const a=Wr.isLittleEndian?4278190080:255,[l,c]=o?[s,a]:[a,s],h=r>>3,d=r&7,g=n.length;e=new Uint32Array(e.buffer);let f=0;for(let w=0;w<i;w++){for(const x=t+h;t<x;t++){const y=t<g?n[t]:255;e[f++]=y&128?c:l,e[f++]=y&64?c:l,e[f++]=y&32?c:l,e[f++]=y&16?c:l,e[f++]=y&8?c:l,e[f++]=y&4?c:l,e[f++]=y&2?c:l,e[f++]=y&1?c:l}if(d===0)continue;const v=t<g?n[t++]:255;for(let x=0;x<d;x++)e[f++]=v&1<<7-x?c:l}return{srcPos:t,destPos:f}}const RN=16,IN=100,fH=15,MN=10,Hi=16,Ux=new DOMMatrix,As=new Float32Array(2),$f=new Float32Array([1/0,1/0,-1/0,-1/0]);function pH(n,t){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){t.save(),this.__originalSave()},n.restore=function(){t.restore(),this.__originalRestore()},n.translate=function(e,r){t.translate(e,r),this.__originalTranslate(e,r)},n.scale=function(e,r){t.scale(e,r),this.__originalScale(e,r)},n.transform=function(e,r,i,s,o,a){t.transform(e,r,i,s,o,a),this.__originalTransform(e,r,i,s,o,a)},n.setTransform=function(e,r,i,s,o,a){t.setTransform(e,r,i,s,o,a),this.__originalSetTransform(e,r,i,s,o,a)},n.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},n.rotate=function(e){t.rotate(e),this.__originalRotate(e)},n.clip=function(e){t.clip(e),this.__originalClip(e)},n.moveTo=function(e,r){t.moveTo(e,r),this.__originalMoveTo(e,r)},n.lineTo=function(e,r){t.lineTo(e,r),this.__originalLineTo(e,r)},n.bezierCurveTo=function(e,r,i,s,o,a){t.bezierCurveTo(e,r,i,s,o,a),this.__originalBezierCurveTo(e,r,i,s,o,a)},n.rect=function(e,r,i,s){t.rect(e,r,i,s),this.__originalRect(e,r,i,s)},n.closePath=function(){t.closePath(),this.__originalClosePath()},n.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class gH{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,r){let i;return this.cache[t]!==void 0?(i=this.cache[t],this.canvasFactory.reset(i,e,r)):(i=this.canvasFactory.create(e,r),this.cache[t]=i),i}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function Jv(n,t,e,r,i,s,o,a,l,c){const[h,d,g,f,w,v]=Cn(n);if(d===0&&g===0){const b=o*h+w,_=Math.round(b),N=a*f+v,L=Math.round(N),O=(o+l)*h+w,I=Math.abs(Math.round(O)-_)||1,D=(a+c)*f+v,V=Math.abs(Math.round(D)-L)||1;return n.setTransform(Math.sign(h),0,0,Math.sign(f),_,L),n.drawImage(t,e,r,i,s,0,0,I,V),n.setTransform(h,d,g,f,w,v),[I,V]}if(h===0&&f===0){const b=a*g+w,_=Math.round(b),N=o*d+v,L=Math.round(N),O=(a+c)*g+w,I=Math.abs(Math.round(O)-_)||1,D=(o+l)*d+v,V=Math.abs(Math.round(D)-L)||1;return n.setTransform(0,Math.sign(d),Math.sign(g),0,_,L),n.drawImage(t,e,r,i,s,0,0,V,I),n.setTransform(h,d,g,f,w,v),[V,I]}n.drawImage(t,e,r,i,s,o,a,l,c);const x=Math.hypot(h,d),y=Math.hypot(g,f);return[x*l,y*c]}class FN{constructor(t,e){It(this,"alphaIsShape",!1);It(this,"fontSize",0);It(this,"fontSizeScale",1);It(this,"textMatrix",null);It(this,"textMatrixScale",1);It(this,"fontMatrix",mS);It(this,"leading",0);It(this,"x",0);It(this,"y",0);It(this,"lineX",0);It(this,"lineY",0);It(this,"charSpacing",0);It(this,"wordSpacing",0);It(this,"textHScale",1);It(this,"textRenderingMode",ni.FILL);It(this,"textRise",0);It(this,"fillColor","#000000");It(this,"strokeColor","#000000");It(this,"patternFill",!1);It(this,"patternStroke",!1);It(this,"fillAlpha",1);It(this,"strokeAlpha",1);It(this,"lineWidth",1);It(this,"activeSMask",null);It(this,"transferMaps","none");this.clipBox=new Float32Array([0,0,t,e]),this.minMax=$f.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=qr.FILL,e=null){const r=this.minMax.slice();if(t===qr.STROKE){e||rn("Stroke bounding box must include transform."),re.singularValueDecompose2dScale(e,As);const i=As[0]*this.lineWidth/2,s=As[1]*this.lineWidth/2;r[0]-=i,r[1]-=s,r[2]+=i,r[3]+=s}return r}updateClipFromPath(){const t=re.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set($f,0)}getClippedPathBoundingBox(t=qr.FILL,e=null){return re.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function ON(n,t){if(t instanceof ImageData){n.putImageData(t,0,0);return}const e=t.height,r=t.width,i=e%Hi,s=(e-i)/Hi,o=i===0?s:s+1,a=n.createImageData(r,Hi);let l=0,c;const h=t.data,d=a.data;let g,f,w,v;if(t.kind===Ey.GRAYSCALE_1BPP){const x=h.byteLength,y=new Uint32Array(d.buffer,0,d.byteLength>>2),b=y.length,_=r+7>>3,N=4294967295,L=Wr.isLittleEndian?4278190080:255;for(g=0;g<o;g++){for(w=g<s?Hi:i,c=0,f=0;f<w;f++){const O=x-l;let I=0;const D=O>_?r:O*8-7,V=D&-8;let Q=0,P=0;for(;I<V;I+=8)P=h[l++],y[c++]=P&128?N:L,y[c++]=P&64?N:L,y[c++]=P&32?N:L,y[c++]=P&16?N:L,y[c++]=P&8?N:L,y[c++]=P&4?N:L,y[c++]=P&2?N:L,y[c++]=P&1?N:L;for(;I<D;I++)Q===0&&(P=h[l++],Q=128),y[c++]=P&Q?N:L,Q>>=1}for(;c<b;)y[c++]=0;n.putImageData(a,0,g*Hi)}}else if(t.kind===Ey.RGBA_32BPP){for(f=0,v=r*Hi*4,g=0;g<s;g++)d.set(h.subarray(l,l+v)),l+=v,n.putImageData(a,0,f),f+=Hi;g<o&&(v=r*i*4,d.set(h.subarray(l,l+v)),n.putImageData(a,0,f))}else if(t.kind===Ey.RGB_24BPP)for(w=Hi,v=r*w,g=0;g<o;g++){for(g>=s&&(w=i,v=r*w),c=0,f=v;f--;)d[c++]=h[l++],d[c++]=h[l++],d[c++]=h[l++],d[c++]=255;n.putImageData(a,0,g*Hi)}else throw new Error(`bad image kind: ${t.kind}`)}function DN(n,t){if(t.bitmap){n.drawImage(t.bitmap,0,0);return}const e=t.height,r=t.width,i=e%Hi,s=(e-i)/Hi,o=i===0?s:s+1,a=n.createImageData(r,Hi);let l=0;const c=t.data,h=a.data;for(let d=0;d<o;d++){const g=d<s?Hi:i;({srcPos:l}=dH({src:c,srcPos:l,dest:h,width:r,height:g,nonBlackColor:0})),n.putImageData(a,0,d*Hi)}}function Lm(n,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of e)n[r]!==void 0&&(t[r]=n[r]);n.setLineDash!==void 0&&(t.setLineDash(n.getLineDash()),t.lineDashOffset=n.lineDashOffset)}function Zv(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:t}=n;t!=="none"&&t!==""&&(n.filter="none")}function jN(n,t){if(t)return!0;re.singularValueDecompose2dScale(n,As);const e=Math.fround(za.pixelRatio*Fu.PDF_TO_CSS_UNITS);return As[0]<=e&&As[1]<=e}const mH=["butt","round","square"],vH=["miter","round","bevel"],yH={},BN={};var Xo,qS,HS,$S;const v4=class v4{constructor(t,e,r,i,s,{optionalContentConfig:o,markedContentStack:a=null},l,c){k(this,Xo);this.ctx=t,this.current=new FN(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=r,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new gH(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:r=!1,background:i=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=a,r){const l=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Cn(this.compositeCtx))}this.ctx.save(),Zv(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=Cn(this.ctx)}executeOperatorList(t,e,r,i){const s=t.argsArray,o=t.fnArray;let a=e||0;const l=s.length;if(l===a)return a;const c=l-a>MN&&typeof r=="function",h=c?Date.now()+fH:0;let d=0;const g=this.commonObjs,f=this.objs;let w;for(;;){if(i!==void 0&&a===i.nextBreakPoint)return i.breakIt(a,r),a;if(w=o[a],w!==j5.dependency)this[w].apply(this,s[a]);else for(const v of s[a]){const x=v.startsWith("g_")?g:f;if(!x.has(v))return x.get(v,r),a}if(a++,a===l)return a;if(c&&++d>MN){if(Date.now()>h)return r(),a;d=0}}}endDrawing(){F(this,Xo,qS).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),F(this,Xo,HS).call(this)}_scaleImage(t,e){const r=t.width??t.displayWidth,i=t.height??t.displayHeight;let s=Math.max(Math.hypot(e[0],e[1]),1),o=Math.max(Math.hypot(e[2],e[3]),1),a=r,l=i,c="prescale1",h,d;for(;s>2&&a>1||o>2&&l>1;){let g=a,f=l;s>2&&a>1&&(g=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),s/=a/g),o>2&&l>1&&(f=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,o/=l/f),h=this.cachedCanvases.getCanvas(c,g,f),d=h.context,d.clearRect(0,0,g,f),d.drawImage(t,0,0,a,l,0,0,g,f),t=h.canvas,a=g,l=f,c=c==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:a,paintHeight:l}}_createMaskCanvas(t){const e=this.ctx,{width:r,height:i}=t,s=this.current.fillColor,o=this.current.patternFill,a=Cn(e);let l,c,h,d;if((t.bitmap||t.data)&&t.count>1){const V=t.bitmap||t.data.buffer;c=JSON.stringify(o?a:[a.slice(0,4),s]),l=this._cachedBitmapsMap.get(V),l||(l=new Map,this._cachedBitmapsMap.set(V,l));const Q=l.get(c);if(Q&&!o){const P=Math.round(Math.min(a[0],a[2])+a[4]),j=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:Q,offsetX:P,offsetY:j}}h=Q}h||(d=this.cachedCanvases.getCanvas("maskCanvas",r,i),DN(d.context,t));let g=re.transform(a,[1/r,0,0,-1/i,0,0]);g=re.transform(g,[1,0,0,1,0,-i]);const f=$f.slice();re.axialAlignedBoundingBox([0,0,r,i],g,f);const[w,v,x,y]=f,b=Math.round(x-w)||1,_=Math.round(y-v)||1,N=this.cachedCanvases.getCanvas("fillCanvas",b,_),L=N.context,O=w,I=v;L.translate(-O,-I),L.transform(...g),h||(h=this._scaleImage(d.canvas,aa(L)),h=h.img,l&&o&&l.set(c,h)),L.imageSmoothingEnabled=jN(Cn(L),t.interpolate),Jv(L,h,0,0,h.width,h.height,0,0,r,i),L.globalCompositeOperation="source-in";const D=re.transform(aa(L),[1,0,0,1,-O,-I]);return L.fillStyle=o?s.getPattern(e,this,D,qr.FILL):s,L.fillRect(0,0,r,i),l&&!o&&(this.cachedCanvases.delete("fillCanvas"),l.set(c,N.canvas)),{canvas:N.canvas,offsetX:Math.round(O),offsetY:Math.round(I)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=mH[t]}setLineJoin(t){this.ctx.lineJoin=vH[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(t),r.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,r]of t)switch(e){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(r,t,e);this.suspendedCtx=this.ctx;const s=this.ctx=i.context;s.setTransform(this.suspendedCtx.getTransform()),Lm(this.suspendedCtx,s),pH(s,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Lm(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,r,i){const s=i[0],o=i[1],a=i[2]-s,l=i[3]-o;a===0||l===0||(this.genericComposeSMask(e.context,r,a,l,e.subtype,e.backdrop,e.transferMap,s,o,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(r.canvas,0,0),t.restore())}genericComposeSMask(t,e,r,i,s,o,a,l,c,h,d){let g=t.canvas,f=l-h,w=c-d;if(o)if(f<0||w<0||f+r>g.width||w+i>g.height){const x=this.cachedCanvases.getCanvas("maskExtension",r,i),y=x.context;y.drawImage(g,-f,-w),y.globalCompositeOperation="destination-atop",y.fillStyle=o,y.fillRect(0,0,r,i),y.globalCompositeOperation="source-over",g=x.canvas,f=w=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const x=new Path2D;x.rect(f,w,r,i),t.clip(x),t.globalCompositeOperation="destination-atop",t.fillStyle=o,t.fillRect(f,w,r,i),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),s==="Alpha"&&a?e.filter=this.filterFactory.addAlphaFilter(a):s==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(a));const v=new Path2D;v.rect(l,c,r,i),e.clip(v),e.globalCompositeOperation="destination-in",e.drawImage(g,f,w,r,i,l,c,r,i),e.restore()}save(){this.inSMaskMode&&Lm(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Lm(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,r,i,s,o){this.ctx.transform(t,e,r,i,s,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,r){let[i]=e;if(!r){i||(i=e[0]=new Path2D),this[t](i);return}if(!(i instanceof Path2D)){const s=e[0]=new Path2D;for(let o=0,a=i.length;o<a;)switch(i[o++]){case Yv.moveTo:s.moveTo(i[o++],i[o++]);break;case Yv.lineTo:s.lineTo(i[o++],i[o++]);break;case Yv.curveTo:s.bezierCurveTo(i[o++],i[o++],i[o++],i[o++],i[o++],i[o++]);break;case Yv.closePath:s.closePath();break;default:ye(`Unrecognized drawing path operator: ${i[o-1]}`);break}i=s}re.axialAlignedBoundingBox(r,Cn(this.ctx),this.current.minMax),this[t](i)}closePath(){this.ctx.closePath()}stroke(t,e=!0){const r=this.ctx,i=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof i=="object"&&(i!=null&&i.getPattern)){const s=i.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=i.getPattern(r,this,aa(r),qr.STROKE),s){const o=new Path2D;o.addPath(t,r.getTransform().invertSelf().multiplySelf(s)),t=o}this.rescaleAndStroke(t,!1),r.restore()}else this.rescaleAndStroke(t,!0);e&&this.consumePath(t,this.current.getClippedPathBoundingBox(qr.STROKE,Cn(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(t){this.stroke(t)}fill(t,e=!0){const r=this.ctx,i=this.current.fillColor,s=this.current.patternFill;let o=!1;if(s){const l=i.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.fillStyle=i.getPattern(r,this,aa(r),qr.FILL),l){const c=new Path2D;c.addPath(t,r.getTransform().invertSelf().multiplySelf(l)),t=c}o=!0}const a=this.current.getClippedPathBoundingBox();this.contentVisible&&a!==null&&(this.pendingEOFill?(r.fill(t,"evenodd"),this.pendingEOFill=!1):r.fill(t)),o&&r.restore(),e&&this.consumePath(t,a)}eoFill(t){this.pendingEOFill=!0,this.fill(t)}fillStroke(t){this.fill(t,!1),this.stroke(t,!1),this.consumePath(t)}eoFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}closeFillStroke(t){this.fillStroke(t)}closeEOFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}endPath(t){this.consumePath(t)}rawFillPath(t){this.ctx.fill(t)}clip(){this.pendingClip=yH}eoClip(){this.pendingClip=BN}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0)return;const r=new Path2D,i=e.getTransform().invertSelf();for(const{transform:s,x:o,y:a,fontSize:l,path:c}of t)r.addPath(c,new DOMMatrix(s).preMultiplySelf(i).translate(o,a).scale(l,-l));e.clip(r),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var h;const r=this.commonObjs.get(t),i=this.current;if(!r)throw new Error(`Can't find font for ${t}`);if(i.fontMatrix=r.fontMatrix||mS,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&ye("Invalid font matrix for font "+t),e<0?(e=-e,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=e,r.isType3Font)return;const s=r.loadedName||"sans-serif",o=((h=r.systemFontInfo)==null?void 0:h.css)||`"${s}", ${r.fallbackName}`;let a="normal";r.black?a="900":r.bold&&(a="bold");const l=r.italic?"italic":"normal";let c=e;e<RN?c=RN:e>IN&&(c=IN),this.current.fontSizeScale=e/c,this.ctx.font=`${l} ${a} ${c}px ${o}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t){const{current:e}=this;e.textMatrix=t,e.textMatrixScale=Math.hypot(t[0],t[1]),e.x=e.lineX=0,e.y=e.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,r,i,s){const o=this.ctx,a=this.current,l=a.font,c=a.textRenderingMode,h=a.fontSize/a.fontSizeScale,d=c&ni.FILL_STROKE_MASK,g=!!(c&ni.ADD_TO_PATH_FLAG),f=a.patternFill&&!l.missingFile,w=a.patternStroke&&!l.missingFile;let v;if((l.disableFontFace||g||f||w)&&(v=l.getPathGenerator(this.commonObjs,t)),l.disableFontFace||f||w){o.save(),o.translate(e,r),o.scale(h,-h);let x;if((d===ni.FILL||d===ni.FILL_STROKE)&&(i?(x=o.getTransform(),o.setTransform(...i),o.fill(F(this,Xo,$S).call(this,v,x,i))):o.fill(v)),d===ni.STROKE||d===ni.FILL_STROKE)if(s){x||(x=o.getTransform()),o.setTransform(...s);const{a:y,b,c:_,d:N}=x,L=re.inverseTransform(s),O=re.transform([y,b,_,N,0,0],L);re.singularValueDecompose2dScale(O,As),o.lineWidth*=Math.max(As[0],As[1])/h,o.stroke(F(this,Xo,$S).call(this,v,x,s))}else o.lineWidth/=h,o.stroke(v);o.restore()}else(d===ni.FILL||d===ni.FILL_STROKE)&&o.fillText(t,e,r),(d===ni.STROKE||d===ni.FILL_STROKE)&&o.strokeText(t,e,r);g&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Cn(o),x:e,y:r,fontSize:h,path:v})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<e.length;i+=4)if(e[i]>0&&e[i]<255){r=!0;break}return Me(this,"isFontSubpixelAAEnabled",r)}showText(t){const e=this.current,r=e.font;if(r.isType3Font)return this.showType3Text(t);const i=e.fontSize;if(i===0)return;const s=this.ctx,o=e.fontSizeScale,a=e.charSpacing,l=e.wordSpacing,c=e.fontDirection,h=e.textHScale*c,d=t.length,g=r.vertical,f=g?1:-1,w=r.defaultVMetrics,v=i*e.fontMatrix[0],x=e.textRenderingMode===ni.FILL&&!r.disableFontFace&&!e.patternFill;s.save(),e.textMatrix&&s.transform(...e.textMatrix),s.translate(e.x,e.y+e.textRise),c>0?s.scale(h,-1):s.scale(h,1);let y,b;if(e.patternFill){s.save();const I=e.fillColor.getPattern(s,this,aa(s),qr.FILL);y=Cn(s),s.restore(),s.fillStyle=I}if(e.patternStroke){s.save();const I=e.strokeColor.getPattern(s,this,aa(s),qr.STROKE);b=Cn(s),s.restore(),s.strokeStyle=I}let _=e.lineWidth;const N=e.textMatrixScale;if(N===0||_===0){const I=e.textRenderingMode&ni.FILL_STROKE_MASK;(I===ni.STROKE||I===ni.FILL_STROKE)&&(_=this.getSinglePixelWidth())}else _/=N;if(o!==1&&(s.scale(o,o),_/=o),s.lineWidth=_,r.isInvalidPDFjsFont){const I=[];let D=0;for(const V of t)I.push(V.unicode),D+=V.width;s.fillText(I.join(""),0,0),e.x+=D*v*h,s.restore(),this.compose();return}let L=0,O;for(O=0;O<d;++O){const I=t[O];if(typeof I=="number"){L+=f*I*i/1e3;continue}let D=!1;const V=(I.isSpace?l:0)+a,Q=I.fontChar,P=I.accent;let j,Y,H=I.width;if(g){const J=I.vmetric||w,rt=-(I.vmetric?J[1]:H*.5)*v,W=J[2]*v;H=J?-J[0]:H,j=rt/o,Y=(L+W)/o}else j=L/o,Y=0;if(r.remeasure&&H>0){const J=s.measureText(Q).width*1e3/i*o;if(H<J&&this.isFontSubpixelAAEnabled){const rt=H/J;D=!0,s.save(),s.scale(rt,1),j/=rt}else H!==J&&(j+=(H-J)/2e3*i/o)}if(this.contentVisible&&(I.isInFont||r.missingFile)){if(x&&!P)s.fillText(Q,j,Y);else if(this.paintChar(Q,j,Y,y,b),P){const J=j+i*P.offset.x/o,rt=Y-i*P.offset.y/o;this.paintChar(P.fontChar,J,rt,y,b)}}const dt=g?H*v-V*c:H*v+V*c;L+=dt,D&&s.restore()}g?e.y-=L:e.x+=L*h,s.restore(),this.compose()}showType3Text(t){const e=this.ctx,r=this.current,i=r.font,s=r.fontSize,o=r.fontDirection,a=i.vertical?1:-1,l=r.charSpacing,c=r.wordSpacing,h=r.textHScale*o,d=r.fontMatrix||mS,g=t.length,f=r.textRenderingMode===ni.INVISIBLE;let w,v,x,y;if(!(f||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),r.textMatrix&&e.transform(...r.textMatrix),e.translate(r.x,r.y+r.textRise),e.scale(h,o),w=0;w<g;++w){if(v=t[w],typeof v=="number"){y=a*v*s/1e3,this.ctx.translate(y,0),r.x+=y*h;continue}const b=(v.isSpace?c:0)+l,_=i.charProcOperatorList[v.operatorListId];_?this.contentVisible&&(this.save(),e.scale(s,s),e.transform(...d),this.executeOperatorList(_),this.restore()):ye(`Type3 character "${v.operatorListId}" is not available.`);const N=[v.width,0];re.applyTransform(N,d),x=N[0]*s+b,e.translate(x,0),r.x+=x*h}e.restore()}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,r,i,s,o){const a=new Path2D;a.rect(r,i,s-r,o-i),this.ctx.clip(a),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const r=this.baseTransform||Cn(this.ctx),i={createCanvasGraphics:s=>new v4(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new US(t,this.ctx,i,r)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t){this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t){this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let r;return this.cachedPatterns.has(t)?r=this.cachedPatterns.get(t):(r=hH(this.getObject(t)),this.cachedPatterns.set(t,r)),e&&(r.matrix=e),r}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const r=this._getPattern(t);e.fillStyle=r.getPattern(e,this,aa(e),qr.SHADING);const i=aa(e);if(i){const{width:s,height:o}=e.canvas,a=$f.slice();re.axialAlignedBoundingBox([0,0,s,o],i,a);const[l,c,h,d]=a;this.ctx.fillRect(l,c,h-l,d-c)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){rn("Should not call beginInlineImage")}beginImageData(){rn("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=Cn(this.ctx),e)){re.axialAlignedBoundingBox(e,this.baseTransform,this.current.minMax);const[r,i,s,o]=e,a=new Path2D;a.rect(r,i,s-r,o-i),this.ctx.clip(a),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||Jw("TODO: Support non-isolated groups."),t.knockout&&ye("Knockout groups not supported.");const r=Cn(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let i=$f.slice();re.axialAlignedBoundingBox(t.bbox,Cn(e),i);const s=[0,0,e.canvas.width,e.canvas.height];i=re.intersect(i,s)||[0,0,0,0];const o=Math.floor(i[0]),a=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-o,1),c=Math.max(Math.ceil(i[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,c]);let h="groupAt"+this.groupLevel;t.smask&&(h+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(h,l,c),g=d.context;g.translate(-o,-a),g.transform(...r);let f=new Path2D;const[w,v,x,y]=t.bbox;if(f.rect(w,v,x-w,y-v),t.matrix){const b=new Path2D;b.addPath(f,new DOMMatrix(t.matrix)),f=b}g.clip(f),t.smask?this.smaskStack.push({canvas:d.canvas,context:g,offsetX:o,offsetY:a,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(o,a),e.save()),Lm(e,g),this.ctx=g,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=Cn(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const s=$f.slice();re.axialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],i,s),this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(t,e,r,i,s){if(F(this,Xo,qS).call(this),Zv(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const o=e[2]-e[0],a=e[3]-e[1];if(s&&this.annotationCanvasMap){r=r.slice(),r[4]-=e[0],r[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=o,e[3]=a,re.singularValueDecompose2dScale(Cn(this.ctx),As);const{viewportScale:l}=this,c=Math.ceil(o*this.outputScaleX*l),h=Math.ceil(a*this.outputScaleY*l);this.annotationCanvas=this.canvasFactory.create(c,h);const{canvas:d,context:g}=this.annotationCanvas;this.annotationCanvasMap.set(t,d),this.annotationCanvas.savedCtx=this.ctx,this.ctx=g,this.ctx.save(),this.ctx.setTransform(As[0],0,0,-As[1],0,a*As[1]),Zv(this.ctx)}else{Zv(this.ctx),this.endPath();const l=new Path2D;l.rect(e[0],e[1],o,a),this.ctx.clip(l)}}this.current=new FN(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),F(this,Xo,HS).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const r=this.ctx,i=this._createMaskCanvas(t),s=i.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(s,i.offsetX,i.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,r=0,i=0,s,o){if(!this.contentVisible)return;t=this.getObject(t.data,t);const a=this.ctx;a.save();const l=Cn(a);a.transform(e,r,i,s,0,0);const c=this._createMaskCanvas(t);a.setTransform(1,0,0,1,c.offsetX-l[4],c.offsetY-l[5]);for(let h=0,d=o.length;h<d;h+=2){const g=re.transform(l,[e,r,i,s,o[h],o[h+1]]);a.drawImage(c.canvas,g[4],g[5])}a.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,r=this.current.fillColor,i=this.current.patternFill;for(const s of t){const{data:o,width:a,height:l,transform:c}=s,h=this.cachedCanvases.getCanvas("maskCanvas",a,l),d=h.context;d.save();const g=this.getObject(o,s);DN(d,g),d.globalCompositeOperation="source-in",d.fillStyle=i?r.getPattern(d,this,aa(e),qr.FILL):r,d.fillRect(0,0,a,l),d.restore(),e.save(),e.transform(...c),e.scale(1,-1),Jv(e,h.canvas,0,0,a,l,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){ye("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,r,i){if(!this.contentVisible)return;const s=this.getObject(t);if(!s){ye("Dependent image isn't ready yet");return}const o=s.width,a=s.height,l=[];for(let c=0,h=i.length;c<h;c+=2)l.push({transform:[e,0,0,r,i[c],i[c+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:r,height:i}=t,s=this.cachedCanvases.getCanvas("inlineImage",r,i),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(e,0,0),o.filter="none",s.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,r=t.height,i=this.ctx;this.save();const{filter:s}=i;s!=="none"&&s!==""&&(i.filter="none"),i.scale(1/e,-1/r);let o;if(t.bitmap)o=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)o=t;else{const c=this.cachedCanvases.getCanvas("inlineImage",e,r).context;ON(c,t),o=this.applyTransferMapsToCanvas(c)}const a=this._scaleImage(o,aa(i));i.imageSmoothingEnabled=jN(Cn(i),t.interpolate),Jv(i,a.img,0,0,a.paintWidth,a.paintHeight,0,-r,e,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const r=this.ctx;let i;if(t.bitmap)i=t.bitmap;else{const s=t.width,o=t.height,l=this.cachedCanvases.getCanvas("inlineImage",s,o).context;ON(l,t),i=this.applyTransferMapsToCanvas(l)}for(const s of e)r.save(),r.transform(...s.transform),r.scale(1,-1),Jv(r,i,s.x,s.y,s.w,s.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t,e){const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const i=this.ctx;this.pendingClip&&(r||(this.pendingClip===BN?i.clip(t,"evenodd"):i.clip(t)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=Cn(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),r=Math.hypot(t[0],t[2]),i=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:r,c:i,d:s}=this.ctx.getTransform();let o,a;if(r===0&&i===0){const l=Math.abs(e),c=Math.abs(s);if(l===c)if(t===0)o=a=1/l;else{const h=l*t;o=a=h<1?1/h:1}else if(t===0)o=1/l,a=1/c;else{const h=l*t,d=c*t;o=h<1?1/h:1,a=d<1?1/d:1}}else{const l=Math.abs(e*s-r*i),c=Math.hypot(e,r),h=Math.hypot(i,s);if(t===0)o=h/l,a=c/l;else{const d=t*l;o=h>d?h/d:1,a=c>d?c/d:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:r,current:{lineWidth:i}}=this,[s,o]=this.getScaleForStroking();if(s===o){r.lineWidth=(i||1)*s,r.stroke(t);return}const a=r.getLineDash();e&&r.save(),r.scale(s,o),Ux.a=1/s,Ux.d=1/o;const l=new Path2D;if(l.addPath(t,Ux),a.length>0){const c=Math.max(s,o);r.setLineDash(a.map(h=>h/c)),r.lineDashOffset/=c}r.lineWidth=i||1,r.stroke(l),e&&r.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};Xo=new WeakSet,qS=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},HS=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}},$S=function(t,e,r){const i=new Path2D;return i.addPath(t,new DOMMatrix(r).invertSelf().multiplySelf(e)),i};let ap=v4;for(const n in j5)ap.prototype[n]!==void 0&&(ap.prototype[j5[n]]=ap.prototype[n]);var f1,p1;class Ra{static get workerPort(){return u(this,f1)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");C(this,f1,t)}static get workerSrc(){return u(this,p1)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");C(this,p1,t)}}f1=new WeakMap,p1=new WeakMap,k(Ra,f1,null),k(Ra,p1,"");var Mp,g1;class wH{constructor({parsedData:t,rawData:e}){k(this,Mp);k(this,g1);C(this,Mp,t),C(this,g1,e)}getRaw(){return u(this,g1)}get(t){return u(this,Mp).get(t)??null}[Symbol.iterator](){return u(this,Mp).entries()}}Mp=new WeakMap,g1=new WeakMap;const Lf=Symbol("INTERNAL");var m1,v1,y1,Fp;class bH{constructor(t,{name:e,intent:r,usage:i,rbGroups:s}){k(this,m1,!1);k(this,v1,!1);k(this,y1,!1);k(this,Fp,!0);C(this,m1,!!(t&bs.DISPLAY)),C(this,v1,!!(t&bs.PRINT)),this.name=e,this.intent=r,this.usage=i,this.rbGroups=s}get visible(){if(u(this,y1))return u(this,Fp);if(!u(this,Fp))return!1;const{print:t,view:e}=this.usage;return u(this,m1)?(e==null?void 0:e.viewState)!=="OFF":u(this,v1)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,r=!1){t!==Lf&&rn("Internal method `_setVisible` called."),C(this,y1,r),C(this,Fp,e)}}m1=new WeakMap,v1=new WeakMap,y1=new WeakMap,Fp=new WeakMap;var Wc,en,Op,Dp,w1,VS;class xH{constructor(t,e=bs.DISPLAY){k(this,w1);k(this,Wc,null);k(this,en,new Map);k(this,Op,null);k(this,Dp,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,C(this,Dp,t.order);for(const r of t.groups)u(this,en).set(r.id,new bH(e,r));if(t.baseState==="OFF")for(const r of u(this,en).values())r._setVisible(Lf,!1);for(const r of t.on)u(this,en).get(r)._setVisible(Lf,!0);for(const r of t.off)u(this,en).get(r)._setVisible(Lf,!1);C(this,Op,this.getHash())}}isVisible(t){if(u(this,en).size===0)return!0;if(!t)return Jw("Optional content group not defined."),!0;if(t.type==="OCG")return u(this,en).has(t.id)?u(this,en).get(t.id).visible:(ye(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return F(this,w1,VS).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!u(this,en).has(e))return ye(`Optional content group not found: ${e}`),!0;if(u(this,en).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!u(this,en).has(e))return ye(`Optional content group not found: ${e}`),!0;if(!u(this,en).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!u(this,en).has(e))return ye(`Optional content group not found: ${e}`),!0;if(!u(this,en).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!u(this,en).has(e))return ye(`Optional content group not found: ${e}`),!0;if(u(this,en).get(e).visible)return!1}return!0}return ye(`Unknown optional content policy ${t.policy}.`),!0}return ye(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,r=!0){var s;const i=u(this,en).get(t);if(!i){ye(`Optional content group not found: ${t}`);return}if(r&&e&&i.rbGroups.length)for(const o of i.rbGroups)for(const a of o)a!==t&&((s=u(this,en).get(a))==null||s._setVisible(Lf,!1,!0));i._setVisible(Lf,!!e,!0),C(this,Wc,null)}setOCGState({state:t,preserveRB:e}){let r;for(const i of t){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const s=u(this,en).get(i);if(s)switch(r){case"ON":this.setVisibility(i,!0,e);break;case"OFF":this.setVisibility(i,!1,e);break;case"Toggle":this.setVisibility(i,!s.visible,e);break}}C(this,Wc,null)}get hasInitialVisibility(){return u(this,Op)===null||this.getHash()===u(this,Op)}getOrder(){return u(this,en).size?u(this,Dp)?u(this,Dp).slice():[...u(this,en).keys()]:null}getGroup(t){return u(this,en).get(t)||null}getHash(){if(u(this,Wc)!==null)return u(this,Wc);const t=new CR;for(const[e,r]of u(this,en))t.update(`${e}:${r.visible}`);return C(this,Wc,t.hexdigest())}[Symbol.iterator](){return u(this,en).entries()}}Wc=new WeakMap,en=new WeakMap,Op=new WeakMap,Dp=new WeakMap,w1=new WeakSet,VS=function(t){const e=t.length;if(e<2)return!0;const r=t[0];for(let i=1;i<e;i++){const s=t[i];let o;if(Array.isArray(s))o=F(this,w1,VS).call(this,s);else if(u(this,en).has(s))o=u(this,en).get(s).visible;else return ye(`Optional content group not found: ${s}`),!0;switch(r){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return r==="And"};class AH{constructor(t,{disableRange:e=!1,disableStream:r=!1}){ir(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:o,contentDispositionFilename:a}=t;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!r,this._isRangeSupported=!e,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),t.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),t.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const r=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(s){return s._begin!==t?!1:(s._enqueue(r),!0)});ir(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,r,i,s;t.total===void 0?(r=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||r.call(e,{loaded:t.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){ir(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new SH(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const r=new _H(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(r),r}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const r of this._rangeReaders.slice(0))r.cancel(t);this._pdfDataRangeTransport.abort()}}class SH{constructor(t,e,r=!1,i=null){this._stream=t,this._done=r||!1,this._filename=o4(i)?i:null,this._queuedChunks=e||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class _H{constructor(t,e,r){this._stream=t,this._begin=e,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function EH(n){let t=!0,e=r("filename\\*","i").exec(n);if(e){e=e[1];let h=a(e);return h=unescape(h),h=l(h),h=c(h),s(h)}if(e=o(n),e){const h=c(e);return s(h)}if(e=r("filename","i").exec(n),e){e=e[1];let h=a(e);return h=c(h),s(h)}function r(h,d){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function i(h,d){if(h){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const g=new TextDecoder(h,{fatal:!0}),f=C2(d);d=g.decode(f),t=!1}catch{}}return d}function s(h){return t&&/[\x80-\xff]/.test(h)&&(h=i("utf-8",h),t&&(h=i("iso-8859-1",h))),h}function o(h){const d=[];let g;const f=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(g=f.exec(h))!==null;){let[,v,x,y]=g;if(v=parseInt(v,10),v in d){if(v===0)break;continue}d[v]=[x,y]}const w=[];for(let v=0;v<d.length&&v in d;++v){let[x,y]=d[v];y=a(y),x&&(y=unescape(y),v===0&&(y=l(y))),w.push(y)}return w.join("")}function a(h){if(h.startsWith('"')){const d=h.slice(1).split('\\"');for(let g=0;g<d.length;++g){const f=d[g].indexOf('"');f!==-1&&(d[g]=d[g].slice(0,f),d.length=g+1),d[g]=d[g].replaceAll(/\\(.)/g,"$1")}h=d.join('"')}return h}function l(h){const d=h.indexOf("'");if(d===-1)return h;const g=h.slice(0,d),w=h.slice(d+1).replace(/^[^']*'/,"");return i(g,w)}function c(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,g,f,w){if(f==="q"||f==="Q")return w=w.replaceAll("_"," "),w=w.replaceAll(/=([0-9a-fA-F]{2})/g,function(v,x){return String.fromCharCode(parseInt(x,16))}),i(g,w);try{w=atob(w)}catch{}return i(g,w)})}return""}function jR(n,t){const e=new Headers;if(!n||!t||typeof t!="object")return e;for(const r in t){const i=t[r];i!==void 0&&e.append(r,i)}return e}function tb(n){var t;return((t=URL.parse(n))==null?void 0:t.origin)??null}function BR({responseHeaders:n,isHttp:t,rangeChunkSize:e,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n.get("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*e)||r||!t||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function zR(n){const t=n.get("Content-Disposition");if(t){let e=EH(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(o4(e))return e}return null}function k2(n,t){return new B5(`Unexpected server response (${n}) while retrieving PDF "${t}".`,n,n===404||n===0&&t.startsWith("file:"))}function UR(n){return n===200||n===206}function qR(n,t,e){return{method:"GET",headers:n,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function HR(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(ye(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class CH{constructor(t){It(this,"_responseOrigin",null);this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=jR(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return ir(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new NH(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const r=new LH(this,t,e);return this._rangeRequestReaders.push(r),r}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const r of this._rangeRequestReaders.slice(0))r.cancel(t)}}class NH{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const r=new Headers(t.headers),i=e.url;fetch(i,qR(r,this._withCredentials,this._abortController)).then(s=>{if(t._responseOrigin=tb(s.url),!UR(s.status))throw k2(s.status,i);this._reader=s.body.getReader(),this._headersCapability.resolve();const o=s.headers,{allowRangeRequests:a,suggestedLength:l}=BR({responseHeaders:o,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=l||this._contentLength,this._filename=zR(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Mu("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:HR(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class LH{constructor(t,e,r){this._stream=t,this._reader=null,this._loaded=0;const i=t.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const s=new Headers(t.headers);s.append("Range",`bytes=${e}-${r-1}`);const o=i.url;fetch(o,qR(s,this._withCredentials,this._abortController)).then(a=>{const l=tb(a.url);if(l!==t._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${t._responseOrigin}".`);if(!UR(a.status))throw k2(a.status,o);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:HR(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const qx=200,Hx=206;function PH(n){const t=n.response;return typeof t!="string"?t:C2(t).buffer}class kH{constructor({url:t,httpHeaders:e,withCredentials:r}){It(this,"_responseOrigin",null);this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=jR(this.isHttp,e),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[s,o]of this.headers)e.setRequestHeader(s,o);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),i.expectedStatus=Hx):i.expectedStatus=qx,e.responseType="arraybuffer",ir(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,r),e.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=t.onHeadersReceived,i.onDone=t.onDone,i.onError=t.onError,i.onProgress=t.onProgress,e.send(null),r}onProgress(t,e){var i;const r=this.pendingRequests[t];r&&((i=r.onProgress)==null||i.call(r,e))}onStateChange(t,e){const r=this.pendingRequests[t];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],i.status===0&&this.isHttp){r.onError(i.status);return}const s=i.status||qx;if(!(s===qx&&r.expectedStatus===Hx)&&s!==r.expectedStatus){r.onError(i.status);return}const a=PH(i);if(s===Hx){const l=i.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);c?r.onDone({begin:parseInt(c[1],10),chunk:a}):(ye('Missing or invalid "Content-Range" header.'),r.onError(0))}else a?r.onDone({begin:0,chunk:a}):r.onError(i.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class TH{constructor(t){this._source=t,this._manager=new kH(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return ir(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new RH(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const r=new IH(this._manager,t,e);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const r of this._rangeRequestReaders.slice(0))r.cancel(t)}}class RH{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=tb(e.responseURL);const r=e.getAllResponseHeaders(),i=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(a=>{const[l,...c]=a.split(": ");return[l,c.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:o}=BR({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=zR(i),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=k2(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class IH{constructor(t,e,r){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var e;const t=tb((e=this._manager.getRequestXhr(this._requestId))==null?void 0:e.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??(this._storedError=k2(t,this._url));for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const MH=/^[a-z][a-z0-9\-+.]+:/i;function FH(n){if(MH.test(n))return new URL(n);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(n))}class OH{constructor(t){this.source=t,this.url=FH(t.url),ir(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return ir(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new DH(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const r=new jH(this,t,e);return this._rangeRequestReaders.push(r),r}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const r of this._rangeRequestReaders.slice(0))r.cancel(t)}}class DH{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=k2(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Mu("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class jH{constructor(t,e,r){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=t.source;this._isStreamingSupported=!i.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:e,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Pm=Symbol("INITIAL_DATA");var us,b1,WS;class $R{constructor(){k(this,b1);k(this,us,Object.create(null))}get(t,e=null){if(e){const i=F(this,b1,WS).call(this,t);return i.promise.then(()=>e(i.data)),null}const r=u(this,us)[t];if(!r||r.data===Pm)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return r.data}has(t){const e=u(this,us)[t];return!!e&&e.data!==Pm}delete(t){const e=u(this,us)[t];return!e||e.data===Pm?!1:(delete u(this,us)[t],!0)}resolve(t,e=null){const r=F(this,b1,WS).call(this,t);r.data=e,r.resolve()}clear(){var t;for(const e in u(this,us)){const{data:r}=u(this,us)[e];(t=r==null?void 0:r.bitmap)==null||t.close()}C(this,us,Object.create(null))}*[Symbol.iterator](){for(const t in u(this,us)){const{data:e}=u(this,us)[t];e!==Pm&&(yield[t,e])}}}us=new WeakMap,b1=new WeakSet,WS=function(t){var e;return(e=u(this,us))[t]||(e[t]={...Promise.withResolvers(),data:Pm})};const BH=1e5,zN=30;var JN,Gc,zi,x1,A1,Uh,Sl,S1,_1,qh,jp,Bp,Xc,zp,E1,Up,Hh,C1,N1,qp,$h,L1,Yc,Hp,Jl,VR,WR,GS,Ps,Oy,XS,GR,XR;const ur=class ur{constructor({textContentSource:t,container:e,viewport:r}){k(this,Jl);k(this,Gc,Promise.withResolvers());k(this,zi,null);k(this,x1,!1);k(this,A1,!!((JN=globalThis.FontInspector)!=null&&JN.enabled));k(this,Uh,null);k(this,Sl,null);k(this,S1,0);k(this,_1,0);k(this,qh,null);k(this,jp,null);k(this,Bp,0);k(this,Xc,0);k(this,zp,Object.create(null));k(this,E1,[]);k(this,Up,null);k(this,Hh,[]);k(this,C1,new WeakMap);k(this,N1,null);var l;if(t instanceof ReadableStream)C(this,Up,t);else if(typeof t=="object")C(this,Up,new ReadableStream({start(c){c.enqueue(t),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');C(this,zi,C(this,jp,e)),C(this,Xc,r.scale*za.pixelRatio),C(this,Bp,r.rotation),C(this,Sl,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:o,pageY:a}=r.rawDims;C(this,N1,[1,0,0,-1,-o,a+s]),C(this,_1,i),C(this,S1,s),F(l=ur,Ps,GR).call(l),Fd(e,r),u(this,Gc).promise.finally(()=>{u(ur,Hp).delete(this),C(this,Sl,null),C(this,zp,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=Wr.platform;return Me(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{u(this,qh).read().then(({value:e,done:r})=>{if(r){u(this,Gc).resolve();return}u(this,Uh)??C(this,Uh,e.lang),Object.assign(u(this,zp),e.styles),F(this,Jl,VR).call(this,e.items),t()},u(this,Gc).reject)};return C(this,qh,u(this,Up).getReader()),u(ur,Hp).add(this),t(),u(this,Gc).promise}update({viewport:t,onBefore:e=null}){var s;const r=t.scale*za.pixelRatio,i=t.rotation;if(i!==u(this,Bp)&&(e==null||e(),C(this,Bp,i),Fd(u(this,jp),{rotation:i})),r!==u(this,Xc)){e==null||e(),C(this,Xc,r);const o={div:null,properties:null,ctx:F(s=ur,Ps,Oy).call(s,u(this,Uh))};for(const a of u(this,Hh))o.properties=u(this,C1).get(a),o.div=a,F(this,Jl,GS).call(this,o)}}cancel(){var e;const t=new Mu("TextLayer task cancelled.");(e=u(this,qh))==null||e.cancel(t).catch(()=>{}),C(this,qh,null),u(this,Gc).reject(t)}get textDivs(){return u(this,Hh)}get textContentItemsStr(){return u(this,E1)}static cleanup(){if(!(u(this,Hp).size>0)){u(this,qp).clear();for(const{canvas:t}of u(this,$h).values())t.remove();u(this,$h).clear()}}};Gc=new WeakMap,zi=new WeakMap,x1=new WeakMap,A1=new WeakMap,Uh=new WeakMap,Sl=new WeakMap,S1=new WeakMap,_1=new WeakMap,qh=new WeakMap,jp=new WeakMap,Bp=new WeakMap,Xc=new WeakMap,zp=new WeakMap,E1=new WeakMap,Up=new WeakMap,Hh=new WeakMap,C1=new WeakMap,N1=new WeakMap,qp=new WeakMap,$h=new WeakMap,L1=new WeakMap,Yc=new WeakMap,Hp=new WeakMap,Jl=new WeakSet,VR=function(t){var i,s;if(u(this,x1))return;(s=u(this,Sl)).ctx??(s.ctx=F(i=ur,Ps,Oy).call(i,u(this,Uh)));const e=u(this,Hh),r=u(this,E1);for(const o of t){if(e.length>BH){ye("Ignoring additional textDivs for performance reasons."),C(this,x1,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const a=u(this,zi);C(this,zi,document.createElement("span")),u(this,zi).classList.add("markedContent"),o.id!==null&&u(this,zi).setAttribute("id",`${o.id}`),a.append(u(this,zi))}else o.type==="endMarkedContent"&&C(this,zi,u(this,zi).parentNode);continue}r.push(o.str),F(this,Jl,WR).call(this,o)}},WR=function(t){var v;const e=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};u(this,Hh).push(e);const i=re.transform(u(this,N1),t.transform);let s=Math.atan2(i[1],i[0]);const o=u(this,zp)[t.fontName];o.vertical&&(s+=Math.PI/2);let a=u(this,A1)&&o.fontSubstitution||o.fontFamily;a=ur.fontFamilyMap.get(a)||a;const l=Math.hypot(i[2],i[3]),c=l*F(v=ur,Ps,XR).call(v,a,o,u(this,Uh));let h,d;s===0?(h=i[4],d=i[5]-c):(h=i[4]+c*Math.sin(s),d=i[5]-c*Math.cos(s));const g="calc(var(--total-scale-factor) *",f=e.style;u(this,zi)===u(this,jp)?(f.left=`${(100*h/u(this,_1)).toFixed(2)}%`,f.top=`${(100*d/u(this,S1)).toFixed(2)}%`):(f.left=`${g}${h.toFixed(2)}px)`,f.top=`${g}${d.toFixed(2)}px)`),f.fontSize=`${g}${(u(ur,Yc)*l).toFixed(2)}px)`,f.fontFamily=a,r.fontSize=l,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,u(this,A1)&&(e.dataset.fontName=o.fontSubstitutionLoadedName||t.fontName),s!==0&&(r.angle=s*(180/Math.PI));let w=!1;if(t.str.length>1)w=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const x=Math.abs(t.transform[0]),y=Math.abs(t.transform[3]);x!==y&&Math.max(x,y)/Math.min(x,y)>1.5&&(w=!0)}if(w&&(r.canvasWidth=o.vertical?t.height:t.width),u(this,C1).set(e,r),u(this,Sl).div=e,u(this,Sl).properties=r,F(this,Jl,GS).call(this,u(this,Sl)),r.hasText&&u(this,zi).append(e),r.hasEOL){const x=document.createElement("br");x.setAttribute("role","presentation"),u(this,zi).append(x)}},GS=function(t){var a;const{div:e,properties:r,ctx:i}=t,{style:s}=e;let o="";if(u(ur,Yc)>1&&(o=`scale(${1/u(ur,Yc)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:l}=s,{canvasWidth:c,fontSize:h}=r;F(a=ur,Ps,XS).call(a,i,h*u(this,Xc),l);const{width:d}=i.measureText(e.textContent);d>0&&(o=`scaleX(${c*u(this,Xc)/d}) ${o}`)}r.angle!==0&&(o=`rotate(${r.angle}deg) ${o}`),o.length>0&&(s.transform=o)},Ps=new WeakSet,Oy=function(t=null){let e=u(this,$h).get(t||(t=""));if(!e){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=t,document.body.append(r),e=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),u(this,$h).set(t,e),u(this,L1).set(e,{size:0,family:""})}return e},XS=function(t,e,r){const i=u(this,L1).get(t);e===i.size&&r===i.family||(t.font=`${e}px ${r}`,i.size=e,i.family=r)},GR=function(){if(u(this,Yc)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),C(this,Yc,t.getBoundingClientRect().height),t.remove()},XR=function(t,e,r){const i=u(this,qp).get(t);if(i)return i;const s=F(this,Ps,Oy).call(this,r);s.canvas.width=s.canvas.height=zN,F(this,Ps,XS).call(this,s,zN,t);const o=s.measureText(""),a=o.fontBoundingBoxAscent,l=Math.abs(o.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let c=.8;return a?c=a/(a+l):(Wr.platform.isFirefox&&ye("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?c=e.ascent:e.descent&&(c=1+e.descent)),u(this,qp).set(t,c),c},k(ur,Ps),k(ur,qp,new Map),k(ur,$h,new Map),k(ur,L1,new WeakMap),k(ur,Yc,null),k(ur,Hp,new Set);let O0=ur;class D0{static textContent(t){const e=[],r={items:e,styles:Object.create(null)};function i(s){var l;if(!s)return;let o=null;const a=s.name;if(a==="#text")o=s.value;else if(D0.shouldBuildText(a))(l=s==null?void 0:s.attributes)!=null&&l.textContent?o=s.attributes.textContent:s.value&&(o=s.value);else return;if(o!==null&&e.push({str:o}),!!s.children)for(const c of s.children)i(c)}return i(t),r}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const zH=100;function UH(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const t=new YS,{docId:e}=t,r=n.url?Yq(n.url):null,i=n.data?Kq(n.data):null,s=n.httpHeaders||null,o=n.withCredentials===!0,a=n.password??null,l=n.range instanceof YR?n.range:null,c=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let h=n.worker instanceof j0?n.worker:null;const d=n.verbosity,g=typeof n.docBaseUrl=="string"&&!Zw(n.docBaseUrl)?n.docBaseUrl:null,f=Kv(n.cMapUrl),w=n.cMapPacked!==!1,v=n.CMapReaderFactory||(Si?iH:LN),x=Kv(n.iccUrl),y=Kv(n.standardFontDataUrl),b=n.StandardFontDataFactory||(Si?sH:PN),_=Kv(n.wasmUrl),N=n.WasmFactory||(Si?oH:kN),L=n.stopAtErrors!==!0,O=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,I=n.isEvalSupported!==!1,D=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Si,V=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!Si&&(Wr.platform.isFirefox||!globalThis.chrome),Q=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,P=typeof n.disableFontFace=="boolean"?n.disableFontFace:Si,j=n.fontExtraProperties===!0,Y=n.enableXfa===!0,H=n.ownerDocument||globalThis.document,dt=n.disableRange===!0,J=n.disableStream===!0,rt=n.disableAutoFetch===!0,W=n.pdfBug===!0,tt=n.CanvasFactory||(Si?rH:tH),ct=n.FilterFactory||(Si?nH:eH),St=n.enableHWA===!0,T=n.useWasm!==!1,$=l?l.length:n.length??NaN,X=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Si&&!P,nt=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(v===LN&&b===PN&&N===kN&&f&&y&&_&&Om(f,document.baseURI)&&Om(y,document.baseURI)&&Om(_,document.baseURI)),ot=null;Nq(d);const at={canvasFactory:new tt({ownerDocument:H,enableHWA:St}),filterFactory:new ct({docId:e,ownerDocument:H}),cMapReaderFactory:nt?null:new v({baseUrl:f,isCompressed:w}),standardFontDataFactory:nt?null:new b({baseUrl:y}),wasmFactory:nt?null:new N({baseUrl:_})};h||(h=j0.create({verbosity:d,port:Ra.workerPort}),t._worker=h);const vt={docId:e,apiVersion:"5.3.31",data:i,password:a,disableAutoFetch:rt,rangeChunkSize:c,length:$,docBaseUrl:g,enableXfa:Y,evaluatorOptions:{maxImageSize:O,disableFontFace:P,ignoreErrors:L,isEvalSupported:I,isOffscreenCanvasSupported:D,isImageDecoderSupported:V,canvasMaxAreaInBytes:Q,fontExtraProperties:j,useSystemFonts:X,useWasm:T,useWorkerFetch:nt,cMapUrl:f,iccUrl:x,standardFontDataUrl:y,wasmUrl:_}},yt={ownerDocument:H,pdfBug:W,styleElement:ot,loadingParams:{disableAutoFetch:rt,enableXfa:Y}};return h.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const Tt=h.messageHandler.sendWithPromise("GetDocRequest",vt,i?[i.buffer]:null);let Lt;if(l)Lt=new AH(l,{disableRange:dt,disableStream:J});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");const Ft=Om(r)?CH:Si?OH:TH;Lt=new Ft({url:r,length:$,httpHeaders:s,withCredentials:o,rangeChunkSize:c,disableRange:dt,disableStream:J})}return Tt.then(Ft=>{if(t.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const Mt=new Um(e,Ft,h.port),ne=new $H(Mt,t,Lt,yt,at);t._transport=ne,Mt.send("Ready",null)})}).catch(t._capability.reject),t}var nw;const rw=class rw{constructor(){It(this,"_capability",Promise.withResolvers());It(this,"_transport",null);It(this,"_worker",null);It(this,"docId",`d${Sr(rw,nw)._++}`);It(this,"destroyed",!1);It(this,"onPassword",null);It(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var t,e,r,i;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(s){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,s}this._transport=null,(i=this._worker)==null||i.destroy(),this._worker=null}async getData(){return this._transport.getData()}};nw=new WeakMap,k(rw,nw,0);let YS=rw;var Vh,P1,k1,T1,R1;class YR{constructor(t,e,r=!1,i=null){k(this,Vh,Promise.withResolvers());k(this,P1,[]);k(this,k1,[]);k(this,T1,[]);k(this,R1,[]);this.length=t,this.initialData=e,this.progressiveDone=r,this.contentDispositionFilename=i}addRangeListener(t){u(this,R1).push(t)}addProgressListener(t){u(this,T1).push(t)}addProgressiveReadListener(t){u(this,k1).push(t)}addProgressiveDoneListener(t){u(this,P1).push(t)}onDataRange(t,e){for(const r of u(this,R1))r(t,e)}onDataProgress(t,e){u(this,Vh).promise.then(()=>{for(const r of u(this,T1))r(t,e)})}onDataProgressiveRead(t){u(this,Vh).promise.then(()=>{for(const e of u(this,k1))e(t)})}onDataProgressiveDone(){u(this,Vh).promise.then(()=>{for(const t of u(this,P1))t()})}transportReady(){u(this,Vh).resolve()}requestDataRange(t,e){rn("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}Vh=new WeakMap,P1=new WeakMap,k1=new WeakMap,T1=new WeakMap,R1=new WeakMap;class qH{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Me(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var _l,Wh,Wm;class HH{constructor(t,e,r,i=!1){k(this,Wh);k(this,_l,!1);this._pageIndex=t,this._pageInfo=e,this._transport=r,this._stats=i?new EN:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new $R,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:s=!1}={}){return new L2({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:r,offsetY:i,dontFlip:s})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Me(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:e,intent:r="display",annotationMode:i=Ec.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:a=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:h=null,isEditing:d=!1}){var N,L;(N=this._stats)==null||N.time("Overall");const g=this._transport.getRenderingIntent(r,i,h,d),{renderingIntent:f,cacheKey:w}=g;C(this,_l,!1),a||(a=this._transport.getOptionalContentConfig(f));let v=this._intentStates.get(w);v||(v=Object.create(null),this._intentStates.set(w,v)),v.streamReaderCancelTimeout&&(clearTimeout(v.streamReaderCancelTimeout),v.streamReaderCancelTimeout=null);const x=!!(f&bs.PRINT);v.displayReadyCapability||(v.displayReadyCapability=Promise.withResolvers(),v.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(L=this._stats)==null||L.time("Page Request"),this._pumpOperatorList(g));const y=O=>{var I;v.renderTasks.delete(b),x&&C(this,_l,!0),F(this,Wh,Wm).call(this),O?(b.capability.reject(O),this._abortOperatorList({intentState:v,reason:O instanceof Error?O:new Error(O)})):b.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(I=globalThis.Stats)!=null&&I.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},b=new KS({callback:y,params:{canvasContext:t,viewport:e,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:v.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!x,pdfBug:this._pdfBug,pageColors:c});(v.renderTasks||(v.renderTasks=new Set)).add(b);const _=b.task;return Promise.all([v.displayReadyCapability.promise,a]).then(([O,I])=>{var D;if(this.destroyed){y();return}if((D=this._stats)==null||D.time("Rendering"),!(I.renderingIntent&f))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");b.initializeGraphics({transparency:O,optionalContentConfig:I}),b.operatorListChanged()}).catch(y),_}getOperatorList({intent:t="display",annotationMode:e=Ec.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){var c;function s(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(l))}const o=this._transport.getRenderingIntent(t,e,r,i,!0);let a=this._intentStates.get(o.cacheKey);a||(a=Object.create(null),this._intentStates.set(o.cacheKey,a));let l;return a.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||(a.renderTasks=new Set)).add(l),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(o)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>D0.textContent(r));const e=this.streamTextContent(t);return new Promise(function(r,i){function s(){o.read().then(function({value:l,done:c}){if(c){r(a);return}a.lang??(a.lang=l.lang),Object.assign(a.styles,l.styles),a.items.push(...l.items),s()},i)}const o=e.getReader(),a={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const r of e.renderTasks)t.push(r.completed),r.cancel();return this.objs.clear(),C(this,_l,!1),Promise.all(t)}cleanup(t=!1){C(this,_l,!0);const e=F(this,Wh,Wm).call(this);return t&&e&&this._stats&&(this._stats=new EN),e}_startRenderPage(t,e){var i,s;const r=this._intentStates.get(e);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=r.displayReadyCapability)==null||s.resolve(t))}_renderPageChunk(t,e){for(let r=0,i=t.length;r<i;r++)e.operatorList.fnArray.push(t.fnArray[r]),e.operatorList.argsArray.push(t.argsArray[r]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const r of e.renderTasks)r.operatorListChanged();t.lastChunk&&F(this,Wh,Wm).call(this)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:r,modifiedIds:i}){const{map:s,transfer:o}=r,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:s,modifiedIds:i},o).getReader(),c=this._intentStates.get(e);c.streamReader=l;const h=()=>{l.read().then(({value:d,done:g})=>{if(g){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(d,c),h())},d=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const g of c.renderTasks)g.operatorListChanged();F(this,Wh,Wm).call(this)}if(c.displayReadyCapability)c.displayReadyCapability.reject(d);else if(c.opListReadCapability)c.opListReadCapability.reject(d);else throw d}})};h()}_abortOperatorList({intentState:t,reason:e,force:r=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!r){if(t.renderTasks.size>0)return;if(e instanceof s4){let i=zH;e.extraDelay>0&&e.extraDelay<1e3&&(i+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},i);return}}if(t.streamReader.cancel(new Mu(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===t){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}_l=new WeakMap,Wh=new WeakSet,Wm=function(){if(!u(this,_l)||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),C(this,_l,!1),!0};var Kc,Lo,El,Gh,iw,Xh,Yh,Ni,Dy,KR,QR,Gm,$p,jy;const wn=class wn{constructor({name:t=null,port:e=null,verbosity:r=Lq()}={}){k(this,Ni);k(this,Kc,Promise.withResolvers());k(this,Lo,null);k(this,El,null);k(this,Gh,null);if(this.name=t,this.destroyed=!1,this.verbosity=r,e){if(u(wn,Yh).has(e))throw new Error("Cannot use more than one PDFWorker per port.");u(wn,Yh).set(e,this),F(this,Ni,KR).call(this,e)}else F(this,Ni,QR).call(this)}get promise(){return u(this,Kc).promise}get port(){return u(this,El)}get messageHandler(){return u(this,Lo)}destroy(){var t,e;this.destroyed=!0,(t=u(this,Gh))==null||t.terminate(),C(this,Gh,null),u(wn,Yh).delete(u(this,El)),C(this,El,null),(e=u(this,Lo))==null||e.destroy(),C(this,Lo,null)}static create(t){const e=u(this,Yh).get(t==null?void 0:t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new wn(t)}static get workerSrc(){if(Ra.workerSrc)return Ra.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Me(this,"_setupFakeWorkerGlobal",(async()=>u(this,$p,jy)?u(this,$p,jy):(await import(this.workerSrc)).WorkerMessageHandler)())}};Kc=new WeakMap,Lo=new WeakMap,El=new WeakMap,Gh=new WeakMap,iw=new WeakMap,Xh=new WeakMap,Yh=new WeakMap,Ni=new WeakSet,Dy=function(){u(this,Kc).resolve(),u(this,Lo).send("configure",{verbosity:this.verbosity})},KR=function(t){C(this,El,t),C(this,Lo,new Um("main","worker",t)),u(this,Lo).on("ready",()=>{}),F(this,Ni,Dy).call(this)},QR=function(){if(u(wn,Xh)||u(wn,$p,jy)){F(this,Ni,Gm).call(this);return}let{workerSrc:t}=wn;try{wn._isSameOrigin(window.location,t)||(t=wn._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),r=new Um("main","worker",e),i=()=>{s.abort(),r.destroy(),e.terminate(),this.destroyed?u(this,Kc).reject(new Error("Worker was destroyed")):F(this,Ni,Gm).call(this)},s=new AbortController;e.addEventListener("error",()=>{u(this,Gh)||i()},{signal:s.signal}),r.on("test",a=>{if(s.abort(),this.destroyed||!a){i();return}C(this,Lo,r),C(this,El,e),C(this,Gh,e),F(this,Ni,Dy).call(this)}),r.on("ready",a=>{if(s.abort(),this.destroyed){i();return}try{o()}catch{F(this,Ni,Gm).call(this)}});const o=()=>{const a=new Uint8Array;r.send("test",a,[a.buffer])};o();return}catch{Jw("The worker has been disabled.")}F(this,Ni,Gm).call(this)},Gm=function(){u(wn,Xh)||(ye("Setting up fake worker."),C(wn,Xh,!0)),wn._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){u(this,Kc).reject(new Error("Worker was destroyed"));return}const e=new Zq;C(this,El,e);const r=`fake${Sr(wn,iw)._++}`,i=new Um(r+"_worker",r,e);t.setup(i,e),C(this,Lo,new Um(r,r+"_worker",e)),F(this,Ni,Dy).call(this)}).catch(t=>{u(this,Kc).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},$p=new WeakSet,jy=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},k(wn,$p),k(wn,iw,0),k(wn,Xh,!1),k(wn,Yh,new WeakMap),Si&&(C(wn,Xh,!0),Ra.workerSrc||(Ra.workerSrc="./pdf.worker.mjs")),wn._isSameOrigin=(t,e)=>{const r=URL.parse(t);if(!(r!=null&&r.origin)||r.origin==="null")return!1;const i=new URL(e,r);return r.origin===i.origin},wn._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},wn.fromPort=t=>{if(zq("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return wn.create(t)};let j0=wn;var Cl,_a,Vp,Wp,Nl,Kh,Xm;class $H{constructor(t,e,r,i,s){k(this,Kh);k(this,Cl,new Map);k(this,_a,new Map);k(this,Vp,new Map);k(this,Wp,new Map);k(this,Nl,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new $R,this.fontLoader=new Gq({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Me(this,"annotationStorage",new c4)}getRenderingIntent(t,e=Ec.ENABLE,r=null,i=!1,s=!1){let o=bs.DISPLAY,a=OS;switch(t){case"any":o=bs.ANY;break;case"display":break;case"print":o=bs.PRINT;break;default:ye(`getRenderingIntent - invalid intent: ${t}`)}const l=o&bs.PRINT&&r instanceof LR?r:this.annotationStorage;switch(e){case Ec.DISABLE:o+=bs.ANNOTATIONS_DISABLE;break;case Ec.ENABLE:break;case Ec.ENABLE_FORMS:o+=bs.ANNOTATIONS_FORMS;break;case Ec.ENABLE_STORAGE:o+=bs.ANNOTATIONS_STORAGE,a=l.serializable;break;default:ye(`getRenderingIntent - invalid annotationMode: ${e}`)}i&&(o+=bs.IS_EDITING),s&&(o+=bs.OPLIST);const{ids:c,hash:h}=l.modifiedIds,d=[o,a.hash,h];return{renderingIntent:o,cacheKey:d.join("_"),annotationStorageSerializable:a,modifiedIds:c}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=u(this,Nl))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const i of u(this,_a).values())t.push(i._destroy());u(this,_a).clear(),u(this,Vp).clear(),u(this,Wp).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var i,s;this.commonObjs.clear(),this.fontLoader.clear(),u(this,Cl).clear(),this.filterFactory.destroy(),O0.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Mu("Worker was terminated.")),(s=this.messageHandler)==null||s.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(r,i)=>{ir(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){i.close();return}ir(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),t.on("ReaderHeadersReady",async r=>{var a;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:s,contentLength:o}=this._fullReader;return(!i||!s)&&(this._lastProgress&&((a=e.onProgress)==null||a.call(e,this._lastProgress)),this._fullReader.onProgress=l=>{var c;(c=e.onProgress)==null||c.call(e,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:i,isRangeSupported:s,contentLength:o}}),t.on("GetRangeReader",(r,i)=>{ir(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(r.begin,r.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:o,done:a}){if(a){i.close();return}ir(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{s.cancel(o),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),t.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,e._capability.resolve(new qH(r,this))}),t.on("DocException",r=>{e._capability.reject(Di(r))}),t.on("PasswordRequest",r=>{C(this,Nl,Promise.withResolvers());try{if(!e.onPassword)throw Di(r);const i=s=>{s instanceof Error?u(this,Nl).reject(s):u(this,Nl).resolve({password:s})};e.onPassword(i,r.code)}catch(i){u(this,Nl).reject(i)}return u(this,Nl).promise}),t.on("DataLoaded",r=>{var i;(i=e.onProgress)==null||i.call(e,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),t.on("StartRenderPage",r=>{if(this.destroyed)return;u(this,_a).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),t.on("commonobj",([r,i,s])=>{var o;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":if("error"in s){const h=s.error;ye(`Error during font loading: ${h}`),this.commonObjs.resolve(r,h);break}const a=this._params.pdfBug&&((o=globalThis.FontInspector)!=null&&o.enabled)?(h,d)=>globalThis.FontInspector.fontAdded(h,d):null,l=new Xq(s,a);this.fontLoader.bind(l).catch(()=>t.sendWithPromise("FontFallback",{id:r})).finally(()=>{!l.fontExtraProperties&&l.data&&(l.data=null),this.commonObjs.resolve(r,l)});break;case"CopyLocalImage":const{imageRef:c}=s;ir(c,"The imageRef must be defined.");for(const h of u(this,_a).values())for(const[,d]of h.objs)if((d==null?void 0:d.ref)===c)return d.dataLen?(this.commonObjs.resolve(r,structuredClone(d)),d.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,s);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),t.on("obj",([r,i,s,o])=>{var l;if(this.destroyed)return;const a=u(this,_a).get(i);if(!a.objs.has(r)){if(a._intentStates.size===0){(l=o==null?void 0:o.bitmap)==null||l.close();return}switch(s){case"Image":case"Pattern":a.objs.resolve(r,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),t.on("DocProgress",r=>{var i;this.destroyed||(i=e.onProgress)==null||i.call(e,{loaded:r.loaded,total:r.total})}),t.on("FetchBinaryData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[r.type];if(!i)throw new Error(`${r.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&ye("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((r=this._fullReader)==null?void 0:r.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,r=u(this,Vp).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&u(this,Wp).set(s.refStr,t);const o=new HH(e,s,this,this._params.pdfBug);return u(this,_a).set(e,o),o});return u(this,Vp).set(e,i),i}getPageIndex(t){return DS(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return F(this,Kh,Xm).call(this,"GetFieldObjects")}hasJSActions(){return F(this,Kh,Xm).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return F(this,Kh,Xm).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return F(this,Kh,Xm).call(this,"GetOptionalContentConfig").then(e=>new xH(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=u(this,Cl).get(t);if(e)return e;const r=this.messageHandler.sendWithPromise(t,null).then(i=>{var s,o;return{info:i[0],metadata:i[1]?new wH(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return u(this,Cl).set(t,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of u(this,_a).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),u(this,Cl).clear(),this.filterFactory.destroy(!0),O0.cleanup()}}cachedPageNumber(t){if(!DS(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return u(this,Wp).get(e)??null}}Cl=new WeakMap,_a=new WeakMap,Vp=new WeakMap,Wp=new WeakMap,Nl=new WeakMap,Kh=new WeakSet,Xm=function(t,e=null){const r=u(this,Cl).get(t);if(r)return r;const i=this.messageHandler.sendWithPromise(t,e);return u(this,Cl).set(t,i),i};var Qc;class VH{constructor(t){k(this,Qc,null);It(this,"onContinue",null);It(this,"onError",null);C(this,Qc,t)}get promise(){return u(this,Qc).capability.promise}cancel(t=0){u(this,Qc).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=u(this,Qc).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=u(this,Qc);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}Qc=new WeakMap;var Jc,Qh;const ah=class ah{constructor({callback:t,params:e,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:o,pageIndex:a,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:h=!1,pdfBug:d=!1,pageColors:g=null}){k(this,Jc,null);this.callback=t,this.params=e,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=d,this.pageColors=g,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new VH(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var a,l;if(this.cancelled)return;if(this._canvas){if(u(ah,Qh).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");u(ah,Qh).add(this._canvas)}this._pdfBug&&((a=globalThis.StepperManager)!=null&&a.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:i,transform:s,background:o}=this.params;this.gfx=new ap(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:i,transparency:t,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(t=null,e=0){var r,i,s;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),u(this,Jc)&&(window.cancelAnimationFrame(u(this,Jc)),C(this,Jc,null)),u(ah,Qh).delete(this._canvas),t||(t=new s4(`Rendering cancelled, page ${this._pageIndex+1}`,e)),this.callback(t),(s=(i=this.task).onError)==null||s.call(i,t)}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?C(this,Jc,window.requestAnimationFrame(()=>{C(this,Jc,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),u(ah,Qh).delete(this._canvas),this.callback())))}};Jc=new WeakMap,Qh=new WeakMap,k(ah,Qh,new WeakSet);let KS=ah;const WH="5.3.31",GH="47ad820d9";function UN(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function km(n){return Math.max(0,Math.min(255,255*n))}class qN{static CMYK_G([t,e,r,i]){return["G",1-Math.min(1,.3*t+.59*r+.11*e+i)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=km(t),[t,t,t]}static G_HTML([t]){const e=UN(t);return`#${e}${e}${e}`}static RGB_G([t,e,r]){return["G",.3*t+.59*e+.11*r]}static RGB_rgb(t){return t.map(km)}static RGB_HTML(t){return`#${t.map(UN).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,r,i]){return["RGB",1-Math.min(1,t+i),1-Math.min(1,r+i),1-Math.min(1,e+i)]}static CMYK_rgb([t,e,r,i]){return[km(1-Math.min(1,t+i)),km(1-Math.min(1,r+i)),km(1-Math.min(1,e+i))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,r]){const i=1-t,s=1-e,o=1-r,a=Math.min(i,s,o);return["CMYK",i,s,o,a]}}class XH{create(t,e,r=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${t}px`),i.setAttribute("height",`${e}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${t} ${e}`),i}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){rn("Abstract method `_createSVG` called.")}}class q5 extends XH{_createSVG(t){return document.createElementNS(rl,t)}}class JR{static setupStorage(t,e,r,i,s){const o=i.getValue(e,{value:null});switch(r.name){case"textarea":if(o.value!==null&&(t.textContent=o.value),s==="print")break;t.addEventListener("input",a=>{i.setValue(e,{value:a.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(o.value===r.attributes.xfaOn?t.setAttribute("checked",!0):o.value===r.attributes.xfaOff&&t.removeAttribute("checked"),s==="print")break;t.addEventListener("change",a=>{i.setValue(e,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&t.setAttribute("value",o.value),s==="print")break;t.addEventListener("input",a=>{i.setValue(e,{value:a.target.value})})}break;case"select":if(o.value!==null){t.setAttribute("value",o.value);for(const a of r.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}t.addEventListener("input",a=>{const l=a.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(e,{value:c})});break}}static setAttributes({html:t,element:e,storage:r=null,intent:i,linkService:s}){const{attributes:o}=e,a=t instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${i}`);for(const[l,c]of Object.entries(o))if(c!=null)switch(l){case"class":c.length&&t.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",c);break;case"style":Object.assign(t.style,c);break;case"textContent":t.textContent=c;break;default:(!a||l!=="href"&&l!=="newWindow")&&t.setAttribute(l,c)}a&&s.addLinkAttributes(t,o.href,o.newWindow),r&&o.dataId&&this.setupStorage(t,o.dataId,e,r)}static render(t){var d,g;const e=t.annotationStorage,r=t.linkService,i=t.xfaHtml,s=t.intent||"display",o=document.createElement(i.name);i.attributes&&this.setAttributes({html:o,element:i,intent:s,linkService:r});const a=s!=="richText",l=t.div;if(l.append(o),t.viewport){const f=`matrix(${t.viewport.transform.join(",")})`;l.style.transform=f}a&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(i.children.length===0){if(i.value){const f=document.createTextNode(i.value);o.append(f),a&&D0.shouldBuildText(i.name)&&c.push(f)}return{textDivs:c}}const h=[[i,-1,o]];for(;h.length>0;){const[f,w,v]=h.at(-1);if(w+1===f.children.length){h.pop();continue}const x=f.children[++h.at(-1)[1]];if(x===null)continue;const{name:y}=x;if(y==="#text"){const _=document.createTextNode(x.value);c.push(_),v.append(_);continue}const b=(d=x==null?void 0:x.attributes)!=null&&d.xmlns?document.createElementNS(x.attributes.xmlns,y):document.createElement(y);if(v.append(b),x.attributes&&this.setAttributes({html:b,element:x,storage:e,intent:s,linkService:r}),((g=x.children)==null?void 0:g.length)>0)h.push([x,-1,b]);else if(x.value){const _=document.createTextNode(x.value);a&&D0.shouldBuildText(y)&&c.push(_),b.append(_)}}for(const f of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))f.setAttribute("readOnly",!0);return{textDivs:c}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const T2=1e3,YH=9,Dd=new WeakSet;class HN{static create(t){switch(t.data.annotationType){case er.LINK:return new ZR(t);case er.TEXT:return new KH(t);case er.WIDGET:switch(t.data.fieldType){case"Tx":return new QH(t);case"Btn":return t.data.radioButton?new n8(t):t.data.checkBox?new ZH(t):new t$(t);case"Ch":return new e$(t);case"Sig":return new JH(t)}return new qd(t);case er.POPUP:return new JS(t);case er.FREETEXT:return new a8(t);case er.LINE:return new r$(t);case er.SQUARE:return new i$(t);case er.CIRCLE:return new s$(t);case er.POLYLINE:return new l8(t);case er.CARET:return new a$(t);case er.INK:return new d4(t);case er.POLYGON:return new o$(t);case er.HIGHLIGHT:return new c8(t);case er.UNDERLINE:return new l$(t);case er.SQUIGGLY:return new c$(t);case er.STRIKEOUT:return new u$(t);case er.STAMP:return new u8(t);case er.FILEATTACHMENT:return new h$(t);default:return new Yn(t)}}}var Jh,Gp,Xp,I1,QS;const y4=class y4{constructor(t,{isRenderable:e=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){k(this,I1);k(this,Jh,null);k(this,Gp,!1);k(this,Xp,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:r}){return!!(t!=null&&t.str||e!=null&&e.str||r!=null&&r.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return y4._hasPopupData(this.data)}updateEdited(t){var r;if(!this.container)return;u(this,Jh)||C(this,Jh,{rect:this.data.rect.slice(0)});const{rect:e}=t;e&&F(this,I1,QS).call(this,e),(r=u(this,Xp))==null||r.popup.updateEdited(t)}resetEdited(){var t;u(this,Jh)&&(F(this,I1,QS).call(this,u(this,Jh).rect),(t=u(this,Xp))==null||t.popup.resetEdited(),C(this,Jh,null))}_createContainer(t){const{data:e,parent:{page:r,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",e.id),this instanceof qd||(s.tabIndex=T2);const{style:o}=s;if(o.zIndex=this.parent.zIndex++,e.alternativeText&&(s.title=e.alternativeText),e.noRotate&&s.classList.add("norotate"),!e.rect||this instanceof JS){const{rotation:v}=e;return!e.hasOwnCanvas&&v!==0&&this.setRotation(v,s),s}const{width:a,height:l}=this;if(!t&&e.borderStyle.width>0){o.borderWidth=`${e.borderStyle.width}px`;const v=e.borderStyle.horizontalCornerRadius,x=e.borderStyle.verticalCornerRadius;if(v>0||x>0){const b=`calc(${v}px * var(--total-scale-factor)) / calc(${x}px * var(--total-scale-factor))`;o.borderRadius=b}else if(this instanceof n8){const b=`calc(${a}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;o.borderRadius=b}switch(e.borderStyle.style){case _f.SOLID:o.borderStyle="solid";break;case _f.DASHED:o.borderStyle="dashed";break;case _f.BEVELED:ye("Unimplemented border style: beveled");break;case _f.INSET:ye("Unimplemented border style: inset");break;case _f.UNDERLINE:o.borderBottomStyle="solid";break}const y=e.borderColor||null;y?(C(this,Gp,!0),o.borderColor=re.makeHexColor(y[0]|0,y[1]|0,y[2]|0)):o.borderWidth=0}const c=re.normalizeRect([e.rect[0],r.view[3]-e.rect[1]+r.view[1],e.rect[2],r.view[3]-e.rect[3]+r.view[1]]),{pageWidth:h,pageHeight:d,pageX:g,pageY:f}=i.rawDims;o.left=`${100*(c[0]-g)/h}%`,o.top=`${100*(c[1]-f)/d}%`;const{rotation:w}=e;return e.hasOwnCanvas||w===0?(o.width=`${100*a/h}%`,o.height=`${100*l/d}%`):this.setRotation(w,s),s}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims;let{width:s,height:o}=this;t%180!==0&&([s,o]=[o,s]),e.style.width=`${100*s/r}%`,e.style.height=`${100*o/i}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,r,i)=>{const s=i.detail[e],o=s[0],a=s.slice(1);i.target.style[r]=qN[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[r]:qN[`${o}_rgb`](a)})};return Me(this,"_commonActions",{display:e=>{const{display:r}=e.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:r}=e.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const r=e.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(t,e){const r=this._commonActions;for(const i of Object.keys(e.detail)){const s=t[i]||r[i];s==null||s(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const r=this._commonActions;for(const[i,s]of Object.entries(e)){const o=r[i];if(o){const a={detail:{[i]:s},target:t};o(a),delete e[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,r,i,s]=this.data.rect.map(v=>Math.fround(v));if(t.length===8){const[v,x,y,b]=t.subarray(2,6);if(i===v&&s===x&&e===y&&r===b)return}const{style:o}=this.container;let a;if(u(this,Gp)){const{borderColor:v,borderWidth:x}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${v}" stroke-width="${x}">`],this.container.classList.add("hasBorder")}const l=i-e,c=s-r,{svgFactory:h}=this,d=h.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0);const g=h.createElement("defs");d.append(g);const f=h.createElement("clipPath"),w=`clippath_${this.data.id}`;f.setAttribute("id",w),f.setAttribute("clipPathUnits","objectBoundingBox"),g.append(f);for(let v=2,x=t.length;v<x;v+=8){const y=t[v],b=t[v+1],_=t[v+2],N=t[v+3],L=h.createElement("rect"),O=(_-e)/l,I=(s-b)/c,D=(y-_)/l,V=(b-N)/c;L.setAttribute("x",O),L.setAttribute("y",I),L.setAttribute("width",D),L.setAttribute("height",V),f.append(L),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${O}" y="${I}" width="${D}" height="${V}"/>`)}u(this,Gp)&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(d),this.container.style.clipPath=`url(#${w})`}_createPopup(){const{data:t}=this,e=C(this,Xp,new JS({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(e.render())}render(){rn("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[t];if(i)for(const{page:s,id:o,exportValues:a}of i){if(s===-1||o===e)continue;const l=typeof a=="string"?a:null,c=document.querySelector(`[data-element-id="${o}"]`);if(c&&!Dd.has(c)){ye(`_getElementsByName - element not allowed: ${o}`);continue}r.push({id:o,exportValue:l,domElement:c})}return r}for(const i of document.getElementsByName(t)){const{exportValue:s}=i,o=i.getAttribute("data-element-id");o!==e&&Dd.has(i)&&r.push({id:o,exportValue:s,domElement:i})}return r}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};Jh=new WeakMap,Gp=new WeakMap,Xp=new WeakMap,I1=new WeakSet,QS=function(t){const{container:{style:e},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:l}}}}=this;r==null||r.splice(0,4,...t),e.left=`${100*(t[0]-a)/s}%`,e.top=`${100*(o-t[3]+l)/o}%`,i===0?(e.width=`${100*(t[2]-t[0])/s}%`,e.height=`${100*(t[3]-t[1])/o}%`):this.setRotation(i)};let Yn=y4;var _s,nh,t8,e8;class ZR extends Yn{constructor(e,r=null){super(e,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});k(this,_s);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",e.id);let s=!1;return e.url?(r.addLinkAttributes(i,e.url,e.newWindow),s=!0):e.action?(this._bindNamedAction(i,e.action),s=!0):e.attachment?(F(this,_s,t8).call(this,i,e.attachment,e.attachmentDest),s=!0):e.setOCGState?(F(this,_s,e8).call(this,i,e.setOCGState),s=!0):e.dest?(this._bindLink(i,e.dest),s=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,e),s=!0),e.resetForm?(this._bindResetFormAction(i,e.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(i),this.container}_bindLink(e,r){e.href=this.linkService.getDestinationHash(r),e.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&F(this,_s,nh).call(this)}_bindNamedAction(e,r){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(r),!1),F(this,_s,nh).call(this)}_bindJSAction(e,r){e.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(r.actions)){const o=i.get(s);o&&(e[o]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:s}}),!1})}e.onclick||(e.onclick=()=>!1),F(this,_s,nh).call(this)}_bindResetFormAction(e,r){const i=e.onclick;if(i||(e.href=this.linkService.getAnchorUrl("")),F(this,_s,nh).call(this),!this._fieldObjects){ye('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(e.onclick=()=>!1);return}e.onclick=()=>{var d;i==null||i();const{fields:s,refs:o,include:a}=r,l=[];if(s.length!==0||o.length!==0){const g=new Set(o);for(const f of s){const w=this._fieldObjects[f]||[];for(const{id:v}of w)g.add(v)}for(const f of Object.values(this._fieldObjects))for(const w of f)g.has(w.id)===a&&l.push(w)}else for(const g of Object.values(this._fieldObjects))l.push(...g);const c=this.annotationStorage,h=[];for(const g of l){const{id:f}=g;switch(h.push(f),g.type){case"text":{const v=g.defaultValue||"";c.setValue(f,{value:v});break}case"checkbox":case"radiobutton":{const v=g.defaultValue===g.exportValues;c.setValue(f,{value:v});break}case"combobox":case"listbox":{const v=g.defaultValue||"";c.setValue(f,{value:v});break}default:continue}const w=document.querySelector(`[data-element-id="${f}"]`);if(w){if(!Dd.has(w)){ye(`_bindResetFormAction - element not allowed: ${f}`);continue}}else continue;w.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}})),!1}}}_s=new WeakSet,nh=function(){this.container.setAttribute("data-internal-link","")},t8=function(e,r,i=null){e.href=this.linkService.getAnchorUrl(""),r.description&&(e.title=r.description),e.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(r.content,r.filename,i),!1},F(this,_s,nh).call(this)},e8=function(e,r){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(r),!1),F(this,_s,nh).call(this)};class KH extends Yn{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class qd extends Yn{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Wr.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,r,i,s){r.includes("mouse")?t.addEventListener(r,o=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):t.addEventListener(r,o=>{var a;if(r==="blur"){if(!e.focused||!o.relatedTarget)return;e.focused=!1}else if(r==="focus"){if(e.focused)return;e.focused=!0}s&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o)}}))})}_setEventListeners(t,e,r,i){var s,o,a;for(const[l,c]of r)(c==="Action"||(s=this.data.actions)!=null&&s[c])&&((c==="Focus"||c==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,l,c,i),c==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(t,e,"blur","Blur",null):c==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":re.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||YH,s=t.style;let o;const a=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a),h=Math.round(c/(Ox*i))||1,d=c/h;o=Math.min(i,l(d/Ox))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(i,l(c/Ox))}s.fontSize=`calc(${o}px * var(--total-scale-factor))`,s.color=re.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(s.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class QH extends qd{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,r,i){const s=this.annotationStorage;for(const o of this._getElementsByName(t.name,t.id))o.domElement&&(o.domElement[e]=r),s.setValue(o.id,{[i]:r})}render(){var i,s;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const o=t.getValue(e,{value:this.data.fieldValue});let a=o.value||"";const l=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;l&&a.length>l&&(a=a.slice(0,l));let c=o.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const h={userValue:a,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=c??a,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type=this.data.password?"password":"text",r.setAttribute("value",c??a),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),Dd.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=T2,this._setRequired(r,this.data.required),l&&(r.maxLength=l),r.addEventListener("input",g=>{t.setValue(e,{value:g.target.value}),this.setPropertyOnSiblings(r,"value",g.target.value,"value"),h.formattedValue=null}),r.addEventListener("resetform",g=>{const f=this.data.defaultFieldValue??"";r.value=h.userValue=f,h.formattedValue=null});let d=g=>{const{formattedValue:f}=h;f!=null&&(g.target.value=f),g.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",f=>{var v;if(h.focused)return;const{target:w}=f;h.userValue&&(w.value=h.userValue),h.lastCommittedValue=w.value,h.commitKey=1,(v=this.data.actions)!=null&&v.Focus||(h.focused=!0)}),r.addEventListener("updatefromsandbox",f=>{this.showElementAndHideCanvas(f.target);const w={value(v){h.userValue=v.detail.value??"",t.setValue(e,{value:h.userValue.toString()}),v.target.value=h.userValue},formattedValue(v){const{formattedValue:x}=v.detail;h.formattedValue=x,x!=null&&v.target!==document.activeElement&&(v.target.value=x),t.setValue(e,{formattedValue:x})},selRange(v){v.target.setSelectionRange(...v.detail.selRange)},charLimit:v=>{var _;const{charLimit:x}=v.detail,{target:y}=v;if(x===0){y.removeAttribute("maxLength");return}y.setAttribute("maxLength",x);let b=h.userValue;!b||b.length<=x||(b=b.slice(0,x),y.value=h.userValue=b,t.setValue(e,{value:b}),(_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:b,willCommit:!0,commitKey:1,selStart:y.selectionStart,selEnd:y.selectionEnd}}))}};this._dispatchEventFromSandbox(w,f)}),r.addEventListener("keydown",f=>{var x;h.commitKey=1;let w=-1;if(f.key==="Escape"?w=0:f.key==="Enter"&&!this.data.multiLine?w=2:f.key==="Tab"&&(h.commitKey=3),w===-1)return;const{value:v}=f.target;h.lastCommittedValue!==v&&(h.lastCommittedValue=v,h.userValue=v,(x=this.linkService.eventBus)==null||x.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:v,willCommit:!0,commitKey:w,selStart:f.target.selectionStart,selEnd:f.target.selectionEnd}}))});const g=d;d=null,r.addEventListener("blur",f=>{var v,x;if(!h.focused||!f.relatedTarget)return;(v=this.data.actions)!=null&&v.Blur||(h.focused=!1);const{value:w}=f.target;h.userValue=w,h.lastCommittedValue!==w&&((x=this.linkService.eventBus)==null||x.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:w,willCommit:!0,commitKey:h.commitKey,selStart:f.target.selectionStart,selEnd:f.target.selectionEnd}})),g(f)}),(s=this.data.actions)!=null&&s.Keystroke&&r.addEventListener("beforeinput",f=>{var L;h.lastCommittedValue=null;const{data:w,target:v}=f,{value:x,selectionStart:y,selectionEnd:b}=v;let _=y,N=b;switch(f.inputType){case"deleteWordBackward":{const O=x.substring(0,y).match(/\w*[^\w]*$/);O&&(_-=O[0].length);break}case"deleteWordForward":{const O=x.substring(y).match(/^[^\w]*\w*/);O&&(N+=O[0].length);break}case"deleteContentBackward":y===b&&(_-=1);break;case"deleteContentForward":y===b&&(N+=1);break}f.preventDefault(),(L=this.linkService.eventBus)==null||L.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:x,change:w||"",willCommit:!1,selStart:_,selEnd:N}})}),this._setEventListeners(r,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],f=>f.target.value)}if(d&&r.addEventListener("blur",d),this.data.comb){const f=(this.data.rect[2]-this.data.rect[0])/l;r.classList.add("comb"),r.style.letterSpacing=`calc(${f}px * var(--total-scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class JH extends qd{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class ZH extends qd{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,r=e.id;let i=t.getValue(r,{value:e.exportValue===e.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",t.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return Dd.add(s),s.setAttribute("data-element-id",r),s.disabled=e.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=e.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",e.exportValue),s.tabIndex=T2,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,r)){const h=l&&c.exportValue===e.exportValue;c.domElement&&(c.domElement.checked=h),t.setValue(c.id,{value:h})}t.setValue(r,{value:l})}),s.addEventListener("resetform",o=>{const a=e.defaultFieldValue||"Off";o.target.checked=a===e.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{const a={value(l){l.target.checked=l.detail.value!=="Off",t.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class n8 extends qd{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,r=e.id;let i=t.getValue(r,{value:e.fieldValue===e.buttonValue}).value;if(typeof i=="string"&&(i=i!==e.buttonValue,t.setValue(r,{value:i})),i)for(const o of this._getElementsByName(e.fieldName,r))t.setValue(o.id,{value:!1});const s=document.createElement("input");if(Dd.add(s),s.setAttribute("data-element-id",r),s.disabled=e.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=e.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=T2,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,r))t.setValue(c.id,{value:!1});t.setValue(r,{value:l})}),s.addEventListener("resetform",o=>{const a=e.defaultFieldValue;o.target.checked=a!=null&&a===e.buttonValue}),this.enableScripting&&this.hasJSActions){const o=e.buttonValue;s.addEventListener("updatefromsandbox",a=>{const l={value:c=>{const h=o===c.detail.value;for(const d of this._getElementsByName(c.target.name)){const g=h&&d.id===r;d.domElement&&(d.domElement.checked=g),t.setValue(d.id,{value:g})}}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class t$ extends ZR{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),t}}class e$ extends qd{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,r=t.getValue(e,{value:this.data.fieldValue}),i=document.createElement("select");Dd.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=T2;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",h=>{const d=this.data.defaultFieldValue;for(const g of i.options)g.selected=g.value===d});for(const h of this.data.options){const d=document.createElement("option");d.textContent=h.displayValue,d.value=h.exportValue,r.value.includes(h.exportValue)&&(d.setAttribute("selected",!0),s=!1),i.append(d)}let o=null;if(s){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),i.prepend(h),o=()=>{h.remove(),i.removeEventListener("input",o),o=null},i.addEventListener("input",o)}const a=h=>{const d=h?"value":"textContent",{options:g,multiple:f}=i;return f?Array.prototype.filter.call(g,w=>w.selected).map(w=>w[d]):g.selectedIndex===-1?null:g[g.selectedIndex][d]};let l=a(!1);const c=h=>{const d=h.target.options;return Array.prototype.map.call(d,g=>({displayValue:g.textContent,exportValue:g.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",h=>{const d={value(g){o==null||o();const f=g.detail.value,w=new Set(Array.isArray(f)?f:[f]);for(const v of i.options)v.selected=w.has(v.value);t.setValue(e,{value:a(!0)}),l=a(!1)},multipleSelection(g){i.multiple=!0},remove(g){const f=i.options,w=g.detail.remove;f[w].selected=!1,i.remove(w),f.length>0&&Array.prototype.findIndex.call(f,x=>x.selected)===-1&&(f[0].selected=!0),t.setValue(e,{value:a(!0),items:c(g)}),l=a(!1)},clear(g){for(;i.length!==0;)i.remove(0);t.setValue(e,{value:null,items:[]}),l=a(!1)},insert(g){const{index:f,displayValue:w,exportValue:v}=g.detail.insert,x=i.children[f],y=document.createElement("option");y.textContent=w,y.value=v,x?x.before(y):i.append(y),t.setValue(e,{value:a(!0),items:c(g)}),l=a(!1)},items(g){const{items:f}=g.detail;for(;i.length!==0;)i.remove(0);for(const w of f){const{displayValue:v,exportValue:x}=w,y=document.createElement("option");y.textContent=v,y.value=x,i.append(y)}i.options.length>0&&(i.options[0].selected=!0),t.setValue(e,{value:a(!0),items:c(g)}),l=a(!1)},indices(g){const f=new Set(g.detail.indices);for(const w of g.target.options)w.selected=f.has(w.index);t.setValue(e,{value:a(!0)}),l=a(!1)},editable(g){g.target.disabled=!g.detail.editable}};this._dispatchEventFromSandbox(d,h)}),i.addEventListener("input",h=>{var f;const d=a(!0),g=a(!1);t.setValue(e,{value:d}),h.preventDefault(),(f=this.linkService.eventBus)==null||f.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:l,change:g,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):i.addEventListener("input",function(h){t.setValue(e,{value:a(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class JS extends Yn{constructor(t){const{data:e,elements:r}=t;super(t,{isRenderable:Yn._hasPopupData(e)}),this.elements=r,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new n$({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const r of this.elements)r.popup=t,r.container.ariaHasPopup="dialog",e.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(r=>`${i4}${r}`).join(",")),this.container}}var Yp,sw,ow,Kp,Qp,Dn,Ll,Jp,M1,F1,Zp,Pl,Po,kl,O1,Tl,D1,Zh,td,sn,By,ZS,r8,i8,s8,o8,zy,Uy,t3;class n${constructor({container:t,color:e,elements:r,titleObj:i,modificationDate:s,contentsObj:o,richText:a,parent:l,rect:c,parentRect:h,open:d}){k(this,sn);k(this,Yp,F(this,sn,s8).bind(this));k(this,sw,F(this,sn,t3).bind(this));k(this,ow,F(this,sn,Uy).bind(this));k(this,Kp,F(this,sn,zy).bind(this));k(this,Qp,null);k(this,Dn,null);k(this,Ll,null);k(this,Jp,null);k(this,M1,null);k(this,F1,null);k(this,Zp,null);k(this,Pl,!1);k(this,Po,null);k(this,kl,null);k(this,O1,null);k(this,Tl,null);k(this,D1,null);k(this,Zh,null);k(this,td,!1);var g;C(this,Dn,t),C(this,D1,i),C(this,Ll,o),C(this,Tl,a),C(this,F1,l),C(this,Qp,e),C(this,O1,c),C(this,Zp,h),C(this,M1,r),C(this,Jp,a4.toDateObject(s)),this.trigger=r.flatMap(f=>f.getElementsToTriggerPopup());for(const f of this.trigger)f.addEventListener("click",u(this,Kp)),f.addEventListener("mouseenter",u(this,ow)),f.addEventListener("mouseleave",u(this,sw)),f.classList.add("popupTriggerArea");for(const f of r)(g=f.container)==null||g.addEventListener("keydown",u(this,Yp));u(this,Dn).hidden=!0,d&&F(this,sn,zy).call(this)}render(){if(u(this,Po))return;const t=C(this,Po,document.createElement("div"));if(t.className="popup",u(this,Qp)){const s=t.style.outlineColor=re.makeHexColor(...u(this,Qp));t.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`}const e=document.createElement("span");e.className="header";const r=document.createElement("h1");if(e.append(r),{dir:r.dir,str:r.textContent}=u(this,D1),t.append(e),u(this,Jp)){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:u(this,Jp).valueOf()})),e.append(s)}const i=u(this,sn,By);if(i)JR.render({xfaHtml:i,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(u(this,Ll));t.append(s)}u(this,Dn).append(t)}_formatContents({str:t,dir:e}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=e;const i=t.split(/(?:\r\n?|\n)/);for(let s=0,o=i.length;s<o;++s){const a=i[s];r.append(document.createTextNode(a)),s<o-1&&r.append(document.createElement("br"))}return r}updateEdited({rect:t,popupContent:e}){var r;u(this,Zh)||C(this,Zh,{contentsObj:u(this,Ll),richText:u(this,Tl)}),t&&C(this,kl,null),e&&(C(this,Tl,F(this,sn,i8).call(this,e)),C(this,Ll,null)),(r=u(this,Po))==null||r.remove(),C(this,Po,null)}resetEdited(){var t;u(this,Zh)&&({contentsObj:Sr(this,Ll)._,richText:Sr(this,Tl)._}=u(this,Zh),C(this,Zh,null),(t=u(this,Po))==null||t.remove(),C(this,Po,null),C(this,kl,null))}forceHide(){C(this,td,this.isVisible),u(this,td)&&(u(this,Dn).hidden=!0)}maybeShow(){u(this,td)&&(u(this,Po)||F(this,sn,Uy).call(this),C(this,td,!1),u(this,Dn).hidden=!1)}get isVisible(){return u(this,Dn).hidden===!1}}Yp=new WeakMap,sw=new WeakMap,ow=new WeakMap,Kp=new WeakMap,Qp=new WeakMap,Dn=new WeakMap,Ll=new WeakMap,Jp=new WeakMap,M1=new WeakMap,F1=new WeakMap,Zp=new WeakMap,Pl=new WeakMap,Po=new WeakMap,kl=new WeakMap,O1=new WeakMap,Tl=new WeakMap,D1=new WeakMap,Zh=new WeakMap,td=new WeakMap,sn=new WeakSet,By=function(){const t=u(this,Tl),e=u(this,Ll);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&u(this,Tl).html||null},ZS=function(){var t,e,r;return((r=(e=(t=u(this,sn,By))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:r.fontSize)||0},r8=function(){var t,e,r;return((r=(e=(t=u(this,sn,By))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:r.color)||null},i8=function(t){const e=[],r={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},i={style:{color:u(this,sn,r8),fontSize:u(this,sn,ZS)?`calc(${u(this,sn,ZS)}px * var(--total-scale-factor))`:""}};for(const s of t.split(`
`))e.push({name:"span",value:s,attributes:i});return r},s8=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&u(this,Pl))&&F(this,sn,zy).call(this)},o8=function(){if(u(this,kl)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:r,pageX:i,pageY:s}}}=u(this,F1);let o=!!u(this,Zp),a=o?u(this,Zp):u(this,O1);for(const w of u(this,M1))if(!a||re.intersect(w.data.rect,a)!==null){a=w.data.rect,o=!0;break}const l=re.normalizeRect([a[0],t[3]-a[1]+t[1],a[2],t[3]-a[3]+t[1]]),h=o?a[2]-a[0]+5:0,d=l[0]+h,g=l[1];C(this,kl,[100*(d-i)/e,100*(g-s)/r]);const{style:f}=u(this,Dn);f.left=`${u(this,kl)[0]}%`,f.top=`${u(this,kl)[1]}%`},zy=function(){C(this,Pl,!u(this,Pl)),u(this,Pl)?(F(this,sn,Uy).call(this),u(this,Dn).addEventListener("click",u(this,Kp)),u(this,Dn).addEventListener("keydown",u(this,Yp))):(F(this,sn,t3).call(this),u(this,Dn).removeEventListener("click",u(this,Kp)),u(this,Dn).removeEventListener("keydown",u(this,Yp)))},Uy=function(){u(this,Po)||this.render(),this.isVisible?u(this,Pl)&&u(this,Dn).classList.add("focused"):(F(this,sn,o8).call(this),u(this,Dn).hidden=!1,u(this,Dn).style.zIndex=parseInt(u(this,Dn).style.zIndex)+1e3)},t3=function(){u(this,Dn).classList.remove("focused"),!(u(this,Pl)||!this.isVisible)&&(u(this,Dn).hidden=!0,u(this,Dn).style.zIndex=parseInt(u(this,Dn).style.zIndex)-1e3)};class a8 extends Yn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=ve.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const r=document.createElement("span");r.textContent=e,t.append(r)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var j1;class r$ extends Yn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});k(this,j1,null)}render(){this.container.classList.add("lineAnnotation");const{data:e,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),o=C(this,j1,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),o.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),o.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),o.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),o.setAttribute("stroke-width",e.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,j1)}addHighlightArea(){this.container.classList.add("highlightArea")}}j1=new WeakMap;var B1;class i$ extends Yn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});k(this,B1,null)}render(){this.container.classList.add("squareAnnotation");const{data:e,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),o=e.borderStyle.width,a=C(this,B1,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",o/2),a.setAttribute("y",o/2),a.setAttribute("width",r-o),a.setAttribute("height",i-o),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,B1)}addHighlightArea(){this.container.classList.add("highlightArea")}}B1=new WeakMap;var z1;class s$ extends Yn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});k(this,z1,null)}render(){this.container.classList.add("circleAnnotation");const{data:e,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),o=e.borderStyle.width,a=C(this,z1,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",r/2),a.setAttribute("cy",i/2),a.setAttribute("rx",r/2-o/2),a.setAttribute("ry",i/2-o/2),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,z1)}addHighlightArea(){this.container.classList.add("highlightArea")}}z1=new WeakMap;var U1;class l8 extends Yn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});k(this,U1,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:r,borderStyle:i,popupRef:s},width:o,height:a}=this;if(!r)return this.container;const l=this.svgFactory.create(o,a,!0);let c=[];for(let d=0,g=r.length;d<g;d+=2){const f=r[d]-e[0],w=e[3]-r[d+1];c.push(`${f},${w}`)}c=c.join(" ");const h=C(this,U1,this.svgFactory.createElement(this.svgElementName));return h.setAttribute("points",c),h.setAttribute("stroke-width",i.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),l.append(h),this.container.append(l),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,U1)}addHighlightArea(){this.container.classList.add("highlightArea")}}U1=new WeakMap;class o$ extends l8{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class a$ extends Yn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var q1,ed,H1,e3;class d4 extends Yn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});k(this,H1);k(this,q1,null);k(this,ed,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?ve.HIGHLIGHT:ve.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:r,inkLists:i,borderStyle:s,popupRef:o}}=this,{transform:a,width:l,height:c}=F(this,H1,e3).call(this,r,e),h=this.svgFactory.create(l,c,!0),d=C(this,q1,this.svgFactory.createElement("svg:g"));h.append(d),d.setAttribute("stroke-width",s.width||1),d.setAttribute("stroke-linecap","round"),d.setAttribute("stroke-linejoin","round"),d.setAttribute("stroke-miterlimit",10),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),d.setAttribute("transform",a);for(let g=0,f=i.length;g<f;g++){const w=this.svgFactory.createElement(this.svgElementName);u(this,ed).push(w),w.setAttribute("points",i[g].join(",")),d.append(w)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(h),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:r,points:i,rect:s}=e,o=u(this,q1);if(r>=0&&o.setAttribute("stroke-width",r||1),i)for(let a=0,l=u(this,ed).length;a<l;a++)u(this,ed)[a].setAttribute("points",i[a].join(","));if(s){const{transform:a,width:l,height:c}=F(this,H1,e3).call(this,this.data.rotation,s);o.parentElement.setAttribute("viewBox",`0 0 ${l} ${c}`),o.setAttribute("transform",a)}}getElementsToTriggerPopup(){return u(this,ed)}addHighlightArea(){this.container.classList.add("highlightArea")}}q1=new WeakMap,ed=new WeakMap,H1=new WeakSet,e3=function(e,r){switch(e){case 90:return{transform:`rotate(90) translate(${-r[0]},${r[1]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};case 180:return{transform:`rotate(180) translate(${-r[2]},${r[1]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]};case 270:return{transform:`rotate(270) translate(${-r[2]},${r[3]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};default:return{transform:`translate(${-r[0]},${r[3]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]}}};class c8 extends Yn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=ve.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class l$ extends Yn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class c$ extends Yn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class u$ extends Yn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class u8 extends Yn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=ve.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var $1,V1,n3;class h$ extends Yn{constructor(e){var i;super(e,{isRenderable:!0});k(this,V1);k(this,$1,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",F(this,V1,n3).bind(this)),C(this,$1,i);const{isMac:s}=Wr.platform;return e.addEventListener("keydown",o=>{o.key==="Enter"&&(s?o.metaKey:o.ctrlKey)&&F(this,V1,n3).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),e.append(i),e}getElementsToTriggerPopup(){return u(this,$1)}addHighlightArea(){this.container.classList.add("highlightArea")}}$1=new WeakMap,V1=new WeakSet,n3=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var W1,nd,Zc,G1,ju,i3,s3;const w4=class w4{constructor({div:t,accessibilityManager:e,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:o,structTreeLayer:a}){k(this,ju);k(this,W1,null);k(this,nd,null);k(this,Zc,new Map);k(this,G1,null);this.div=t,C(this,W1,e),C(this,nd,r),C(this,G1,a||null),this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return u(this,Zc).size>0}async render(t){var o;const{annotations:e}=t,r=this.div;Fd(r,this.viewport);const i=new Map,s={data:null,layer:r,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new q5,annotationStorage:t.annotationStorage||new c4,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const a of e){if(a.noHTML)continue;const l=a.annotationType===er.POPUP;if(l){const d=i.get(a.id);if(!d)continue;s.elements=d}else if(a.rect[2]===a.rect[0]||a.rect[3]===a.rect[1])continue;s.data=a;const c=HN.create(s);if(!c.isRenderable)continue;if(!l&&a.popupRef){const d=i.get(a.popupRef);d?d.push(c):i.set(a.popupRef,[c])}const h=c.render();a.hidden&&(h.style.visibility="hidden"),await F(this,ju,i3).call(this,h,a.id),c._isEditable&&(u(this,Zc).set(c.data.id,c),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(c))}F(this,ju,s3).call(this)}async addLinkAnnotations(t,e){const r={data:null,layer:this.div,linkService:e,svgFactory:new q5,parent:this};for(const i of t){i.borderStyle||(i.borderStyle=w4._defaultBorderStyle),r.data=i;const s=HN.create(r);if(!s.isRenderable)continue;const o=s.render();await F(this,ju,i3).call(this,o,i.id)}}update({viewport:t}){const e=this.div;this.viewport=t,Fd(e,{rotation:t.rotation}),F(this,ju,s3).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(u(this,Zc).values())}getEditableAnnotation(t){return u(this,Zc).get(t)}static get _defaultBorderStyle(){return Me(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:_f.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};W1=new WeakMap,nd=new WeakMap,Zc=new WeakMap,G1=new WeakMap,ju=new WeakSet,i3=async function(t,e){var o,a;const r=t.firstChild||t,i=r.id=`${i4}${e}`,s=await((o=u(this,G1))==null?void 0:o.getAriaAttributes(i));if(s)for(const[l,c]of s)r.setAttribute(l,c);this.div.append(t),(a=u(this,W1))==null||a.moveElementInDOM(this.div,t,r,!1)},s3=function(){var e;if(!u(this,nd))return;const t=this.div;for(const[r,i]of u(this,nd)){const s=t.querySelector(`[data-annotation-id="${r}"]`);if(!s)continue;i.className="annotationContent";const{firstChild:o}=s;o?o.nodeName==="CANVAS"?o.replaceWith(i):o.classList.contains("annotationContent")?o.after(i):o.before(i):s.append(i);const a=u(this,Zc).get(r);a&&(a._hasNoCanvas?((e=this._annotationEditorUIManager)==null||e.setMissingCanvas(r,s.id,i),a._hasNoCanvas=!1):a.canvas=i)}u(this,nd).clear()};let r3=w4;const ty=/\r\n?|\n/g;var ko,hs,X1,rd,ds,sr,h8,d8,f8,qy,Vl,Hy,$y,p8,a3,g8;const un=class un extends dn{constructor(e){super({...e,name:"freeTextEditor"});k(this,sr);k(this,ko);k(this,hs,"");k(this,X1,`${this.id}-editor`);k(this,rd,null);k(this,ds);C(this,ko,e.color||un._defaultColor||dn._defaultLineColor),C(this,ds,e.fontSize||un._defaultFontSize)}static get _keyboardManager(){const e=un.prototype,r=o=>o.isEmpty(),i=Od.TRANSLATE_SMALL,s=Od.TRANSLATE_BIG;return Me(this,"_keyboardManager",new P2([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-s,0],checker:r}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[s,0],checker:r}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-s],checker:r}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,s],checker:r}]]))}static initialize(e,r){dn.initialize(e,r);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,r){switch(e){case Fe.FREETEXT_SIZE:un._defaultFontSize=r;break;case Fe.FREETEXT_COLOR:un._defaultColor=r;break}}updateParams(e,r){switch(e){case Fe.FREETEXT_SIZE:F(this,sr,h8).call(this,r);break;case Fe.FREETEXT_COLOR:F(this,sr,d8).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[Fe.FREETEXT_SIZE,un._defaultFontSize],[Fe.FREETEXT_COLOR,un._defaultColor||dn._defaultLineColor]]}get propertiesToUpdate(){return[[Fe.FREETEXT_SIZE,u(this,ds)],[Fe.FREETEXT_COLOR,u(this,ko)]]}_translateEmpty(e,r){this._uiManager.translateSelectedEditors(e,r,!0)}getInitialTranslation(){const e=this.parentScale;return[-un._internalPadding*e,-(un._internalPadding+u(this,ds))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),C(this,rd,new AbortController);const e=this._uiManager.combinedSignal(u(this,rd));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){var e;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",u(this,X1)),this._isDraggable=!0,(e=u(this,rd))==null||e.abort(),C(this,rd,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){var r;this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),(r=this._initialOptions)!=null&&r.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=u(this,hs),r=C(this,hs,F(this,sr,f8).call(this).trimEnd());if(e===r)return;const i=s=>{if(C(this,hs,s),!s){this.remove();return}F(this,sr,$y).call(this),this._uiManager.rebuild(this),F(this,sr,qy).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(e)},mustExec:!1}),F(this,sr,qy).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){un._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,r;(this._isCopy||this.annotationElementId)&&(e=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",u(this,X1)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${u(this,ds)}px * var(--total-scale-factor))`,i.color=u(this,ko),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[s,o]=this.parentDimensions;if(this.annotationElementId){const{position:a}=this._initialData;let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[h,d]=this.pageDimensions,[g,f]=this.pageTranslation;let w,v;switch(this.rotation){case 0:w=e+(a[0]-g)/h,v=r+this.height-(a[1]-f)/d;break;case 90:w=e+(a[0]-g)/h,v=r-(a[1]-f)/d,[l,c]=[c,-l];break;case 180:w=e-this.width+(a[0]-g)/h,v=r-(a[1]-f)/d,[l,c]=[-l,-c];break;case 270:w=e+(a[0]-g-this.height*d)/h,v=r+(a[1]-f-this.width*h)/d,[l,c]=[-c,l];break}this.setAt(w*s,v*o,l,c)}else this._moveAfterPaste(e,r);F(this,sr,$y).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var w,v,x;const r=e.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;e.preventDefault();const s=F(w=un,Vl,a3).call(w,r.getData("text")||"").replaceAll(ty,`
`);if(!s)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const a=o.getRangeAt(0);if(!s.includes(`
`)){a.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:l,startOffset:c}=a,h=[],d=[];if(l.nodeType===Node.TEXT_NODE){const y=l.parentElement;if(d.push(l.nodeValue.slice(c).replaceAll(ty,"")),y!==this.editorDiv){let b=h;for(const _ of this.editorDiv.childNodes){if(_===y){b=d;continue}b.push(F(v=un,Vl,Hy).call(v,_))}}h.push(l.nodeValue.slice(0,c).replaceAll(ty,""))}else if(l===this.editorDiv){let y=h,b=0;for(const _ of this.editorDiv.childNodes)b++===c&&(y=d),y.push(F(x=un,Vl,Hy).call(x,_))}C(this,hs,`${h.join(`
`)}${s}${d.join(`
`)}`),F(this,sr,$y).call(this);const g=new Range;let f=Math.sumPrecise(h.map(y=>y.length));for(const{firstChild:y}of this.editorDiv.childNodes)if(y.nodeType===Node.TEXT_NODE){const b=y.nodeValue.length;if(f<=b){g.setStart(y,f),g.setEnd(y,f);break}f-=b}o.removeAllRanges(),o.addRange(g)}get contentDiv(){return this.editorDiv}static async deserialize(e,r,i){var a;let s=null;if(e instanceof a8){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:h,rotation:d,id:g,popupRef:f},textContent:w,textPosition:v,parent:{page:{pageNumber:x}}}=e;if(!w||w.length===0)return null;s=e={annotationType:ve.FREETEXT,color:Array.from(c),fontSize:l,value:w.join(`
`),position:v,pageIndex:x-1,rect:h.slice(0),rotation:d,id:g,deleted:!1,popupRef:f}}const o=await super.deserialize(e,r,i);return C(o,ds,e.fontSize),C(o,ko,re.makeHexColor(...e.color)),C(o,hs,F(a=un,Vl,a3).call(a,e.value)),o.annotationElementId=e.id||null,o._initialData=s,o}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=un._internalPadding*this.parentScale,i=this.getRect(r,r),s=dn._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:u(this,ko)),o={annotationType:ve.FREETEXT,color:s,fontSize:u(this,ds),value:F(this,sr,p8).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(o.isCopy=!0,o):this.annotationElementId&&!F(this,sr,g8).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(e){const r=super.renderAnnotationElement(e);if(this.deleted)return r;const{style:i}=r;i.fontSize=`calc(${u(this,ds)}px * var(--total-scale-factor))`,i.color=u(this,ko),r.replaceChildren();for(const o of u(this,hs).split(`
`)){const a=document.createElement("div");a.append(o?document.createTextNode(o):document.createElement("br")),r.append(a)}const s=un._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(s,s),popupContent:u(this,hs)}),r}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};ko=new WeakMap,hs=new WeakMap,X1=new WeakMap,rd=new WeakMap,ds=new WeakMap,sr=new WeakSet,h8=function(e){const r=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--total-scale-factor))`,this.translate(0,-(s-u(this,ds))*this.parentScale),C(this,ds,s),F(this,sr,qy).call(this)},i=u(this,ds);this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Fe.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},d8=function(e){const r=s=>{C(this,ko,this.editorDiv.style.color=s)},i=u(this,ko);this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Fe.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},f8=function(){var i;const e=[];this.editorDiv.normalize();let r=null;for(const s of this.editorDiv.childNodes)(r==null?void 0:r.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(e.push(F(i=un,Vl,Hy).call(i,s)),r=s);return e.join(`
`)},qy=function(){const[e,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:o}=this,a=o.style.display,l=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",s.div.append(this.div),i=o.getBoundingClientRect(),o.remove(),o.style.display=a,o.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/e,this.height=i.height/r):(this.width=i.height/e,this.height=i.width/r),this.fixAndSetPosition()},Vl=new WeakSet,Hy=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(ty,"")},$y=function(){if(this.editorDiv.replaceChildren(),!!u(this,hs))for(const e of u(this,hs).split(`
`)){const r=document.createElement("div");r.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(r)}},p8=function(){return u(this,hs).replaceAll(" "," ")},a3=function(e){return e.replaceAll(" "," ")},g8=function(e){const{value:r,fontSize:i,color:s,pageIndex:o}=this._initialData;return this._hasBeenMoved||e.value!==r||e.fontSize!==i||e.color.some((a,l)=>a!==s[l])||e.pageIndex!==o},k(un,Vl),It(un,"_freeTextDefaultContent",""),It(un,"_internalPadding",0),It(un,"_defaultColor",null),It(un,"_defaultFontSize",10),It(un,"_type","freetext"),It(un,"_editorType",ve.FREETEXT);let o3=un;class Xt{toSVGPath(){rn("Abstract method `toSVGPath` must be implemented.")}get box(){rn("Abstract getter `box` must be implemented.")}serialize(t,e){rn("Abstract method `serialize` must be implemented.")}static _rescale(t,e,r,i,s,o){o||(o=new Float32Array(t.length));for(let a=0,l=t.length;a<l;a+=2)o[a]=e+t[a]*i,o[a+1]=r+t[a+1]*s;return o}static _rescaleAndSwap(t,e,r,i,s,o){o||(o=new Float32Array(t.length));for(let a=0,l=t.length;a<l;a+=2)o[a]=e+t[a+1]*i,o[a+1]=r+t[a]*s;return o}static _translate(t,e,r,i){i||(i=new Float32Array(t.length));for(let s=0,o=t.length;s<o;s+=2)i[s]=e+t[s],i[s+1]=r+t[s+1];return i}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,r,i,s){switch(s){case 90:return[1-e/r,t/i];case 180:return[1-t/r,1-e/i];case 270:return[e/r,1-t/i];default:return[t/r,e/i]}}static _normalizePagePoint(t,e,r){switch(r){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,r,i,s,o){return[(t+5*r)/6,(e+5*i)/6,(5*r+s)/6,(5*i+o)/6,(r+s)/2,(i+o)/2]}}It(Xt,"PRECISION",1e-4);var fs,To,tg,eg,Ea,Pe,id,sd,Y1,K1,ng,rg,tu,Q1,aw,lw,vr,Ym,m8,v8,y8,w8,b8,x8;const ll=class ll{constructor({x:t,y:e},r,i,s,o,a=0){k(this,vr);k(this,fs);k(this,To,[]);k(this,tg);k(this,eg);k(this,Ea,[]);k(this,Pe,new Float32Array(18));k(this,id);k(this,sd);k(this,Y1);k(this,K1);k(this,ng);k(this,rg);k(this,tu,[]);C(this,fs,r),C(this,rg,s*i),C(this,eg,o),u(this,Pe).set([NaN,NaN,NaN,NaN,t,e],6),C(this,tg,a),C(this,K1,u(ll,Q1)*i),C(this,Y1,u(ll,lw)*i),C(this,ng,i),u(this,tu).push(t,e)}isEmpty(){return isNaN(u(this,Pe)[8])}add({x:t,y:e}){var V;C(this,id,t),C(this,sd,e);const[r,i,s,o]=u(this,fs);let[a,l,c,h]=u(this,Pe).subarray(8,12);const d=t-c,g=e-h,f=Math.hypot(d,g);if(f<u(this,Y1))return!1;const w=f-u(this,K1),v=w/f,x=v*d,y=v*g;let b=a,_=l;a=c,l=h,c+=x,h+=y,(V=u(this,tu))==null||V.push(t,e);const N=-y/w,L=x/w,O=N*u(this,rg),I=L*u(this,rg);return u(this,Pe).set(u(this,Pe).subarray(2,8),0),u(this,Pe).set([c+O,h+I],4),u(this,Pe).set(u(this,Pe).subarray(14,18),12),u(this,Pe).set([c-O,h-I],16),isNaN(u(this,Pe)[6])?(u(this,Ea).length===0&&(u(this,Pe).set([a+O,l+I],2),u(this,Ea).push(NaN,NaN,NaN,NaN,(a+O-r)/s,(l+I-i)/o),u(this,Pe).set([a-O,l-I],14),u(this,To).push(NaN,NaN,NaN,NaN,(a-O-r)/s,(l-I-i)/o)),u(this,Pe).set([b,_,a,l,c,h],6),!this.isEmpty()):(u(this,Pe).set([b,_,a,l,c,h],6),Math.abs(Math.atan2(_-l,b-a)-Math.atan2(y,x))<Math.PI/2?([a,l,c,h]=u(this,Pe).subarray(2,6),u(this,Ea).push(NaN,NaN,NaN,NaN,((a+c)/2-r)/s,((l+h)/2-i)/o),[a,l,b,_]=u(this,Pe).subarray(14,18),u(this,To).push(NaN,NaN,NaN,NaN,((b+a)/2-r)/s,((_+l)/2-i)/o),!0):([b,_,a,l,c,h]=u(this,Pe).subarray(0,6),u(this,Ea).push(((b+5*a)/6-r)/s,((_+5*l)/6-i)/o,((5*a+c)/6-r)/s,((5*l+h)/6-i)/o,((a+c)/2-r)/s,((l+h)/2-i)/o),[c,h,a,l,b,_]=u(this,Pe).subarray(12,18),u(this,To).push(((b+5*a)/6-r)/s,((_+5*l)/6-i)/o,((5*a+c)/6-r)/s,((5*l+h)/6-i)/o,((a+c)/2-r)/s,((l+h)/2-i)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const t=u(this,Ea),e=u(this,To);if(isNaN(u(this,Pe)[6])&&!this.isEmpty())return F(this,vr,m8).call(this);const r=[];r.push(`M${t[4]} ${t[5]}`);for(let i=6;i<t.length;i+=6)isNaN(t[i])?r.push(`L${t[i+4]} ${t[i+5]}`):r.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);F(this,vr,y8).call(this,r);for(let i=e.length-6;i>=6;i-=6)isNaN(e[i])?r.push(`L${e[i+4]} ${e[i+5]}`):r.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);return F(this,vr,v8).call(this,r),r.join(" ")}newFreeDrawOutline(t,e,r,i,s,o){return new A8(t,e,r,i,s,o)}getOutlines(){var d;const t=u(this,Ea),e=u(this,To),r=u(this,Pe),[i,s,o,a]=u(this,fs),l=new Float32Array((((d=u(this,tu))==null?void 0:d.length)??0)+2);for(let g=0,f=l.length-2;g<f;g+=2)l[g]=(u(this,tu)[g]-i)/o,l[g+1]=(u(this,tu)[g+1]-s)/a;if(l[l.length-2]=(u(this,id)-i)/o,l[l.length-1]=(u(this,sd)-s)/a,isNaN(r[6])&&!this.isEmpty())return F(this,vr,w8).call(this,l);const c=new Float32Array(u(this,Ea).length+24+u(this,To).length);let h=t.length;for(let g=0;g<h;g+=2){if(isNaN(t[g])){c[g]=c[g+1]=NaN;continue}c[g]=t[g],c[g+1]=t[g+1]}h=F(this,vr,x8).call(this,c,h);for(let g=e.length-6;g>=6;g-=6)for(let f=0;f<6;f+=2){if(isNaN(e[g+f])){c[h]=c[h+1]=NaN,h+=2;continue}c[h]=e[g+f],c[h+1]=e[g+f+1],h+=2}return F(this,vr,b8).call(this,c,h),this.newFreeDrawOutline(c,l,u(this,fs),u(this,ng),u(this,tg),u(this,eg))}};fs=new WeakMap,To=new WeakMap,tg=new WeakMap,eg=new WeakMap,Ea=new WeakMap,Pe=new WeakMap,id=new WeakMap,sd=new WeakMap,Y1=new WeakMap,K1=new WeakMap,ng=new WeakMap,rg=new WeakMap,tu=new WeakMap,Q1=new WeakMap,aw=new WeakMap,lw=new WeakMap,vr=new WeakSet,Ym=function(){const t=u(this,Pe).subarray(4,6),e=u(this,Pe).subarray(16,18),[r,i,s,o]=u(this,fs);return[(u(this,id)+(t[0]-e[0])/2-r)/s,(u(this,sd)+(t[1]-e[1])/2-i)/o,(u(this,id)+(e[0]-t[0])/2-r)/s,(u(this,sd)+(e[1]-t[1])/2-i)/o]},m8=function(){const[t,e,r,i]=u(this,fs),[s,o,a,l]=F(this,vr,Ym).call(this);return`M${(u(this,Pe)[2]-t)/r} ${(u(this,Pe)[3]-e)/i} L${(u(this,Pe)[4]-t)/r} ${(u(this,Pe)[5]-e)/i} L${s} ${o} L${a} ${l} L${(u(this,Pe)[16]-t)/r} ${(u(this,Pe)[17]-e)/i} L${(u(this,Pe)[14]-t)/r} ${(u(this,Pe)[15]-e)/i} Z`},v8=function(t){const e=u(this,To);t.push(`L${e[4]} ${e[5]} Z`)},y8=function(t){const[e,r,i,s]=u(this,fs),o=u(this,Pe).subarray(4,6),a=u(this,Pe).subarray(16,18),[l,c,h,d]=F(this,vr,Ym).call(this);t.push(`L${(o[0]-e)/i} ${(o[1]-r)/s} L${l} ${c} L${h} ${d} L${(a[0]-e)/i} ${(a[1]-r)/s}`)},w8=function(t){const e=u(this,Pe),[r,i,s,o]=u(this,fs),[a,l,c,h]=F(this,vr,Ym).call(this),d=new Float32Array(36);return d.set([NaN,NaN,NaN,NaN,(e[2]-r)/s,(e[3]-i)/o,NaN,NaN,NaN,NaN,(e[4]-r)/s,(e[5]-i)/o,NaN,NaN,NaN,NaN,a,l,NaN,NaN,NaN,NaN,c,h,NaN,NaN,NaN,NaN,(e[16]-r)/s,(e[17]-i)/o,NaN,NaN,NaN,NaN,(e[14]-r)/s,(e[15]-i)/o],0),this.newFreeDrawOutline(d,t,u(this,fs),u(this,ng),u(this,tg),u(this,eg))},b8=function(t,e){const r=u(this,To);return t.set([NaN,NaN,NaN,NaN,r[4],r[5]],e),e+=6},x8=function(t,e){const r=u(this,Pe).subarray(4,6),i=u(this,Pe).subarray(16,18),[s,o,a,l]=u(this,fs),[c,h,d,g]=F(this,vr,Ym).call(this);return t.set([NaN,NaN,NaN,NaN,(r[0]-s)/a,(r[1]-o)/l,NaN,NaN,NaN,NaN,c,h,NaN,NaN,NaN,NaN,d,g,NaN,NaN,NaN,NaN,(i[0]-s)/a,(i[1]-o)/l],e),e+=24},k(ll,Q1,8),k(ll,aw,2),k(ll,lw,u(ll,Q1)+u(ll,aw));let H5=ll;var ig,od,Rl,J1,ps,Z1,$n,cw,S8;class A8 extends Xt{constructor(e,r,i,s,o,a){super();k(this,cw);k(this,ig);k(this,od,new Float32Array(4));k(this,Rl);k(this,J1);k(this,ps);k(this,Z1);k(this,$n);C(this,$n,e),C(this,ps,r),C(this,ig,i),C(this,Z1,s),C(this,Rl,o),C(this,J1,a),this.lastPoint=[NaN,NaN],F(this,cw,S8).call(this,a);const[l,c,h,d]=u(this,od);for(let g=0,f=e.length;g<f;g+=2)e[g]=(e[g]-l)/h,e[g+1]=(e[g+1]-c)/d;for(let g=0,f=r.length;g<f;g+=2)r[g]=(r[g]-l)/h,r[g+1]=(r[g+1]-c)/d}toSVGPath(){const e=[`M${u(this,$n)[4]} ${u(this,$n)[5]}`];for(let r=6,i=u(this,$n).length;r<i;r+=6){if(isNaN(u(this,$n)[r])){e.push(`L${u(this,$n)[r+4]} ${u(this,$n)[r+5]}`);continue}e.push(`C${u(this,$n)[r]} ${u(this,$n)[r+1]} ${u(this,$n)[r+2]} ${u(this,$n)[r+3]} ${u(this,$n)[r+4]} ${u(this,$n)[r+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,r,i,s],o){const a=i-e,l=s-r;let c,h;switch(o){case 0:c=Xt._rescale(u(this,$n),e,s,a,-l),h=Xt._rescale(u(this,ps),e,s,a,-l);break;case 90:c=Xt._rescaleAndSwap(u(this,$n),e,r,a,l),h=Xt._rescaleAndSwap(u(this,ps),e,r,a,l);break;case 180:c=Xt._rescale(u(this,$n),i,r,-a,l),h=Xt._rescale(u(this,ps),i,r,-a,l);break;case 270:c=Xt._rescaleAndSwap(u(this,$n),i,s,-a,-l),h=Xt._rescaleAndSwap(u(this,ps),i,s,-a,-l);break}return{outline:Array.from(c),points:[Array.from(h)]}}get box(){return u(this,od)}newOutliner(e,r,i,s,o,a=0){return new H5(e,r,i,s,o,a)}getNewOutline(e,r){const[i,s,o,a]=u(this,od),[l,c,h,d]=u(this,ig),g=o*h,f=a*d,w=i*h+l,v=s*d+c,x=this.newOutliner({x:u(this,ps)[0]*g+w,y:u(this,ps)[1]*f+v},u(this,ig),u(this,Z1),e,u(this,J1),r??u(this,Rl));for(let y=2;y<u(this,ps).length;y+=2)x.add({x:u(this,ps)[y]*g+w,y:u(this,ps)[y+1]*f+v});return x.getOutlines()}}ig=new WeakMap,od=new WeakMap,Rl=new WeakMap,J1=new WeakMap,ps=new WeakMap,Z1=new WeakMap,$n=new WeakMap,cw=new WeakSet,S8=function(e){const r=u(this,$n);let i=r[4],s=r[5];const o=[i,s,i,s];let a=i,l=s;const c=e?Math.max:Math.min;for(let d=6,g=r.length;d<g;d+=6){const f=r[d+4],w=r[d+5];if(isNaN(r[d]))re.pointBoundingBox(f,w,o),l<w?(a=f,l=w):l===w&&(a=c(a,f));else{const v=[1/0,1/0,-1/0,-1/0];re.bezierBoundingBox(i,s,...r.slice(d,d+6),v),re.rectBoundingBox(...v,o),l<v[3]?(a=v[2],l=v[3]):l===v[3]&&(a=c(a,v[2]))}i=f,s=w}const h=u(this,od);h[0]=o[0]-u(this,Rl),h[1]=o[1]-u(this,Rl),h[2]=o[2]-o[0]+2*u(this,Rl),h[3]=o[3]-o[1]+2*u(this,Rl),this.lastPoint=[a,l]};var t2,e2,eu,Ro,Pi,_8,Vy,E8,C8,c3;class l3{constructor(t,e=0,r=0,i=!0){k(this,Pi);k(this,t2);k(this,e2);k(this,eu,[]);k(this,Ro,[]);const s=[1/0,1/0,-1/0,-1/0],o=10**-4;for(const{x:f,y:w,width:v,height:x}of t){const y=Math.floor((f-e)/o)*o,b=Math.ceil((f+v+e)/o)*o,_=Math.floor((w-e)/o)*o,N=Math.ceil((w+x+e)/o)*o,L=[y,_,N,!0],O=[b,_,N,!1];u(this,eu).push(L,O),re.rectBoundingBox(y,_,b,N,s)}const a=s[2]-s[0]+2*r,l=s[3]-s[1]+2*r,c=s[0]-r,h=s[1]-r,d=u(this,eu).at(i?-1:-2),g=[d[0],d[2]];for(const f of u(this,eu)){const[w,v,x]=f;f[0]=(w-c)/a,f[1]=(v-h)/l,f[2]=(x-h)/l}C(this,t2,new Float32Array([c,h,a,l])),C(this,e2,g)}getOutlines(){u(this,eu).sort((e,r)=>e[0]-r[0]||e[1]-r[1]||e[2]-r[2]);const t=[];for(const e of u(this,eu))e[3]?(t.push(...F(this,Pi,c3).call(this,e)),F(this,Pi,E8).call(this,e)):(F(this,Pi,C8).call(this,e),t.push(...F(this,Pi,c3).call(this,e)));return F(this,Pi,_8).call(this,t)}}t2=new WeakMap,e2=new WeakMap,eu=new WeakMap,Ro=new WeakMap,Pi=new WeakSet,_8=function(t){const e=[],r=new Set;for(const o of t){const[a,l,c]=o;e.push([a,l,o],[a,c,o])}e.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=e.length;o<a;o+=2){const l=e[o][2],c=e[o+1][2];l.push(c),c.push(l),r.add(l),r.add(c)}const i=[];let s;for(;r.size>0;){const o=r.values().next().value;let[a,l,c,h,d]=o;r.delete(o);let g=a,f=l;for(s=[a,c],i.push(s);;){let w;if(r.has(h))w=h;else if(r.has(d))w=d;else break;r.delete(w),[a,l,c,h,d]=w,g!==a&&(s.push(g,f,a,f===l?l:c),g=a),f=f===l?c:l}s.push(g,f)}return new d$(i,u(this,t2),u(this,e2))},Vy=function(t){const e=u(this,Ro);let r=0,i=e.length-1;for(;r<=i;){const s=r+i>>1,o=e[s][0];if(o===t)return s;o<t?r=s+1:i=s-1}return i+1},E8=function([,t,e]){const r=F(this,Pi,Vy).call(this,t);u(this,Ro).splice(r,0,[t,e])},C8=function([,t,e]){const r=F(this,Pi,Vy).call(this,t);for(let i=r;i<u(this,Ro).length;i++){const[s,o]=u(this,Ro)[i];if(s!==t)break;if(s===t&&o===e){u(this,Ro).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[s,o]=u(this,Ro)[i];if(s!==t)break;if(s===t&&o===e){u(this,Ro).splice(i,1);return}}},c3=function(t){const[e,r,i]=t,s=[[e,r,i]],o=F(this,Pi,Vy).call(this,i);for(let a=0;a<o;a++){const[l,c]=u(this,Ro)[a];for(let h=0,d=s.length;h<d;h++){const[,g,f]=s[h];if(!(c<=g||f<=l)){if(g>=l){if(f>c)s[h][1]=c;else{if(d===1)return[];s.splice(h,1),h--,d--}continue}s[h][2]=l,f>c&&s.push([e,c,f])}}}return s};var n2,sg;class d$ extends Xt{constructor(e,r,i){super();k(this,n2);k(this,sg);C(this,sg,e),C(this,n2,r),this.lastPoint=i}toSVGPath(){const e=[];for(const r of u(this,sg)){let[i,s]=r;e.push(`M${i} ${s}`);for(let o=2;o<r.length;o+=2){const a=r[o],l=r[o+1];a===i?(e.push(`V${l}`),s=l):l===s&&(e.push(`H${a}`),i=a)}e.push("Z")}return e.join(" ")}serialize([e,r,i,s],o){const a=[],l=i-e,c=s-r;for(const h of u(this,sg)){const d=new Array(h.length);for(let g=0;g<h.length;g+=2)d[g]=e+h[g]*l,d[g+1]=s-h[g+1]*c;a.push(d)}return a}get box(){return u(this,n2)}get classNamesForOutlining(){return["highlightOutline"]}}n2=new WeakMap,sg=new WeakMap;class u3 extends H5{newFreeDrawOutline(t,e,r,i,s,o){return new f$(t,e,r,i,s,o)}}class f$ extends A8{newOutliner(t,e,r,i,s,o=0){return new u3(t,e,r,i,s,o)}}var Io,ad,og,fr,r2,ag,i2,s2,nu,Mo,lg,o2,nn,h3,d3,f3,rh,N8,bc;const ji=class ji{constructor({editor:t=null,uiManager:e=null}){k(this,nn);k(this,Io,null);k(this,ad,null);k(this,og);k(this,fr,null);k(this,r2,!1);k(this,ag,!1);k(this,i2,null);k(this,s2);k(this,nu,null);k(this,Mo,null);k(this,lg);var r;t?(C(this,ag,!1),C(this,lg,Fe.HIGHLIGHT_COLOR),C(this,i2,t)):(C(this,ag,!0),C(this,lg,Fe.HIGHLIGHT_DEFAULT_COLOR)),C(this,Mo,(t==null?void 0:t._uiManager)||e),C(this,s2,u(this,Mo)._eventBus),C(this,og,(t==null?void 0:t.color)||((r=u(this,Mo))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98"),u(ji,o2)||C(ji,o2,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Me(this,"_keyboardManager",new P2([[["Escape","mac+Escape"],ji.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],ji.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],ji.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],ji.prototype._moveToPrevious],[["Home","mac+Home"],ji.prototype._moveToBeginning],[["End","mac+End"],ji.prototype._moveToEnd]]))}renderButton(){const t=C(this,Io,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=u(this,Mo)._signal;t.addEventListener("click",F(this,nn,rh).bind(this),{signal:e}),t.addEventListener("keydown",F(this,nn,f3).bind(this),{signal:e});const r=C(this,ad,document.createElement("span"));return r.className="swatch",r.setAttribute("aria-hidden",!0),r.style.backgroundColor=u(this,og),t.append(r),t}renderMainDropdown(){const t=C(this,fr,F(this,nn,h3).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===u(this,Io)){F(this,nn,rh).call(this,t);return}const e=t.target.getAttribute("data-color");e&&F(this,nn,d3).call(this,e,t)}_moveToNext(t){var e,r;if(!u(this,nn,bc)){F(this,nn,rh).call(this,t);return}if(t.target===u(this,Io)){(e=u(this,fr).firstChild)==null||e.focus();return}(r=t.target.nextSibling)==null||r.focus()}_moveToPrevious(t){var e,r;if(t.target===((e=u(this,fr))==null?void 0:e.firstChild)||t.target===u(this,Io)){u(this,nn,bc)&&this._hideDropdownFromKeyboard();return}u(this,nn,bc)||F(this,nn,rh).call(this,t),(r=t.target.previousSibling)==null||r.focus()}_moveToBeginning(t){var e;if(!u(this,nn,bc)){F(this,nn,rh).call(this,t);return}(e=u(this,fr).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!u(this,nn,bc)){F(this,nn,rh).call(this,t);return}(e=u(this,fr).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=u(this,fr))==null||t.classList.add("hidden"),(e=u(this,nu))==null||e.abort(),C(this,nu,null)}_hideDropdownFromKeyboard(){var t;if(!u(this,ag)){if(!u(this,nn,bc)){(t=u(this,i2))==null||t.unselect();return}this.hideDropdown(),u(this,Io).focus({preventScroll:!0,focusVisible:u(this,r2)})}}updateColor(t){if(u(this,ad)&&(u(this,ad).style.backgroundColor=t),!u(this,fr))return;const e=u(this,Mo).highlightColors.values();for(const r of u(this,fr).children)r.setAttribute("aria-selected",e.next().value===t)}destroy(){var t,e;(t=u(this,Io))==null||t.remove(),C(this,Io,null),C(this,ad,null),(e=u(this,fr))==null||e.remove(),C(this,fr,null)}};Io=new WeakMap,ad=new WeakMap,og=new WeakMap,fr=new WeakMap,r2=new WeakMap,ag=new WeakMap,i2=new WeakMap,s2=new WeakMap,nu=new WeakMap,Mo=new WeakMap,lg=new WeakMap,o2=new WeakMap,nn=new WeakSet,h3=function(){const t=document.createElement("div"),e=u(this,Mo)._signal;t.addEventListener("contextmenu",Go,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[r,i]of u(this,Mo).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=r,s.setAttribute("data-l10n-id",u(ji,o2)[r]);const o=document.createElement("span");s.append(o),o.className="swatch",o.style.backgroundColor=i,s.setAttribute("aria-selected",i===u(this,og)),s.addEventListener("click",F(this,nn,d3).bind(this,i),{signal:e}),t.append(s)}return t.addEventListener("keydown",F(this,nn,f3).bind(this),{signal:e}),t},d3=function(t,e){e.stopPropagation(),u(this,s2).dispatch("switchannotationeditorparams",{source:this,type:u(this,lg),value:t})},f3=function(t){ji._keyboardManager.exec(this,t)},rh=function(t){if(u(this,nn,bc)){this.hideDropdown();return}if(C(this,r2,t.detail===0),u(this,nu)||(C(this,nu,new AbortController),window.addEventListener("pointerdown",F(this,nn,N8).bind(this),{signal:u(this,Mo).combinedSignal(u(this,nu))})),u(this,fr)){u(this,fr).classList.remove("hidden");return}const e=C(this,fr,F(this,nn,h3).call(this));u(this,Io).append(e)},N8=function(t){var e;(e=u(this,fr))!=null&&e.contains(t.target)||this.hideDropdown()},bc=function(){return u(this,fr)&&!u(this,fr).classList.contains("hidden")},k(ji,o2,null);let $5=ji;var cg,a2,Il,ld,ug,Ui,l2,c2,cd,Xs,gs,Br,hg,Ml,ai,dg,Ys,u2,Ee,p3,Wy,L8,P8,k8,g3,ih,to,Pf,T8,Gy,Km,R8,I8,M8,F8,O8;const Ve=class Ve extends dn{constructor(e){super({...e,name:"highlightEditor"});k(this,Ee);k(this,cg,null);k(this,a2,0);k(this,Il);k(this,ld,null);k(this,ug,null);k(this,Ui,null);k(this,l2,null);k(this,c2,0);k(this,cd,null);k(this,Xs,null);k(this,gs,null);k(this,Br,!1);k(this,hg,null);k(this,Ml);k(this,ai,null);k(this,dg,"");k(this,Ys);k(this,u2,"");this.color=e.color||Ve._defaultColor,C(this,Ys,e.thickness||Ve._defaultThickness),C(this,Ml,e.opacity||Ve._defaultOpacity),C(this,Il,e.boxes||null),C(this,u2,e.methodOfCreation||""),C(this,dg,e.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(C(this,Br,!0),F(this,Ee,Wy).call(this,e),F(this,Ee,ih).call(this)):u(this,Il)&&(C(this,cg,e.anchorNode),C(this,a2,e.anchorOffset),C(this,l2,e.focusNode),C(this,c2,e.focusOffset),F(this,Ee,p3).call(this),F(this,Ee,ih).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const e=Ve.prototype;return Me(this,"_keyboardManager",new P2([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:u(this,Br)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:u(this,Ys),methodOfCreation:u(this,u2)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,r){var i;dn.initialize(e,r),Ve._defaultColor||(Ve._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(e,r){switch(e){case Fe.HIGHLIGHT_DEFAULT_COLOR:Ve._defaultColor=r;break;case Fe.HIGHLIGHT_THICKNESS:Ve._defaultThickness=r;break}}translateInPage(e,r){}get toolbarPosition(){return u(this,hg)}updateParams(e,r){switch(e){case Fe.HIGHLIGHT_COLOR:F(this,Ee,L8).call(this,r);break;case Fe.HIGHLIGHT_THICKNESS:F(this,Ee,P8).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[Fe.HIGHLIGHT_DEFAULT_COLOR,Ve._defaultColor],[Fe.HIGHLIGHT_THICKNESS,Ve._defaultThickness]]}get propertiesToUpdate(){return[[Fe.HIGHLIGHT_COLOR,this.color||Ve._defaultColor],[Fe.HIGHLIGHT_THICKNESS,u(this,Ys)||Ve._defaultThickness],[Fe.HIGHLIGHT_FREE,u(this,Br)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(C(this,ug,new $5({editor:this})),e.addColorPicker(u(this,ug))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(F(this,Ee,Km).call(this))}getBaseTranslation(){return[0,0]}getRect(e,r){return super.getRect(e,r,F(this,Ee,Km).call(this))}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){F(this,Ee,g3).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(F(this,Ee,ih).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var i;let r=!1;this.parent&&!e?F(this,Ee,g3).call(this):e&&(F(this,Ee,ih).call(this,e),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),r&&this.select()}rotate(e){var s,o,a;const{drawLayer:r}=this.parent;let i;u(this,Br)?(e=(e-this.rotation+360)%360,i=F(s=Ve,to,Pf).call(s,u(this,Xs).box,e)):i=F(o=Ve,to,Pf).call(o,[this.x,this.y,this.width,this.height],e),r.updateProperties(u(this,gs),{bbox:i,root:{"data-main-rotation":e}}),r.updateProperties(u(this,ai),{bbox:F(a=Ve,to,Pf).call(a,u(this,Ui).box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();u(this,dg)&&(e.setAttribute("aria-label",u(this,dg)),e.setAttribute("role","mark")),u(this,Br)?e.classList.add("free"):this.div.addEventListener("keydown",F(this,Ee,T8).bind(this),{signal:this._uiManager._signal});const r=C(this,cd,document.createElement("div"));e.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=u(this,ld);const[i,s]=this.parentDimensions;return this.setDims(this.width*i,this.height*s),nR(this,u(this,cd),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){var e;this.isSelected||(e=this.parent)==null||e.drawLayer.updateProperties(u(this,ai),{rootClass:{hovered:!0}})}pointerleave(){var e;this.isSelected||(e=this.parent)==null||e.drawLayer.updateProperties(u(this,ai),{rootClass:{hovered:!1}})}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:F(this,Ee,Gy).call(this,!0);break;case 1:case 3:F(this,Ee,Gy).call(this,!1);break}}select(){var e;super.select(),u(this,ai)&&((e=this.parent)==null||e.drawLayer.updateProperties(u(this,ai),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var e;super.unselect(),u(this,ai)&&((e=this.parent)==null||e.drawLayer.updateProperties(u(this,ai),{rootClass:{selected:!1}}),u(this,Br)||F(this,Ee,Gy).call(this,!1))}get _mustFixPosition(){return!u(this,Br)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(u(this,gs),{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(u(this,ai),{rootClass:{hidden:!e}}))}static startHighlighting(e,r,{target:i,x:s,y:o}){const{x:a,y:l,width:c,height:h}=i.getBoundingClientRect(),d=new AbortController,g=e.combinedSignal(d),f=w=>{d.abort(),F(this,to,F8).call(this,e,w)};window.addEventListener("blur",f,{signal:g}),window.addEventListener("pointerup",f,{signal:g}),window.addEventListener("pointerdown",nr,{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",Go,{signal:g}),i.addEventListener("pointermove",F(this,to,M8).bind(this,e),{signal:g}),this._freeHighlight=new u3({x:s,y:o},[a,l,c,h],e.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(e,r,i){var v,x,y,b;let s=null;if(e instanceof c8){const{data:{quadPoints:_,rect:N,rotation:L,id:O,color:I,opacity:D,popupRef:V},parent:{page:{pageNumber:Q}}}=e;s=e={annotationType:ve.HIGHLIGHT,color:Array.from(I),opacity:D,quadPoints:_,boxes:null,pageIndex:Q-1,rect:N.slice(0),rotation:L,id:O,deleted:!1,popupRef:V}}else if(e instanceof d4){const{data:{inkLists:_,rect:N,rotation:L,id:O,color:I,borderStyle:{rawWidth:D},popupRef:V},parent:{page:{pageNumber:Q}}}=e;s=e={annotationType:ve.HIGHLIGHT,color:Array.from(I),thickness:D,inkLists:_,boxes:null,pageIndex:Q-1,rect:N.slice(0),rotation:L,id:O,deleted:!1,popupRef:V}}const{color:o,quadPoints:a,inkLists:l,opacity:c}=e,h=await super.deserialize(e,r,i);h.color=re.makeHexColor(...o),C(h,Ml,c||1),l&&C(h,Ys,e.thickness),h.annotationElementId=e.id||null,h._initialData=s;const[d,g]=h.pageDimensions,[f,w]=h.pageTranslation;if(a){const _=C(h,Il,[]);for(let N=0;N<a.length;N+=8)_.push({x:(a[N]-f)/d,y:1-(a[N+1]-w)/g,width:(a[N+2]-a[N])/d,height:(a[N+1]-a[N+5])/g});F(v=h,Ee,p3).call(v),F(x=h,Ee,ih).call(x),h.rotate(h.rotation)}else if(l){C(h,Br,!0);const _=l[0],N={x:_[0]-f,y:g-(_[1]-w)},L=new u3(N,[0,0,d,g],1,u(h,Ys)/2,!0,.001);for(let D=0,V=_.length;D<V;D+=2)N.x=_[D]-f,N.y=g-(_[D+1]-w),L.add(N);const{id:O,clipPathId:I}=r.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:h.color,"fill-opacity":h._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:L.toSVGPath()}},!0,!0);F(y=h,Ee,Wy).call(y,{highlightOutlines:L.getOutlines(),highlightId:O,clipPathId:I}),F(b=h,Ee,ih).call(b),h.rotate(h.parentRotation)}return h}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const r=this.getRect(0,0),i=dn._colorManager.convert(this.color),s={annotationType:ve.HIGHLIGHT,color:i,opacity:u(this,Ml),thickness:u(this,Ys),quadPoints:F(this,Ee,R8).call(this),outlines:F(this,Ee,I8).call(this,r),pageIndex:this.pageIndex,rect:r,rotation:F(this,Ee,Km).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!F(this,Ee,O8).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};cg=new WeakMap,a2=new WeakMap,Il=new WeakMap,ld=new WeakMap,ug=new WeakMap,Ui=new WeakMap,l2=new WeakMap,c2=new WeakMap,cd=new WeakMap,Xs=new WeakMap,gs=new WeakMap,Br=new WeakMap,hg=new WeakMap,Ml=new WeakMap,ai=new WeakMap,dg=new WeakMap,Ys=new WeakMap,u2=new WeakMap,Ee=new WeakSet,p3=function(){const e=new l3(u(this,Il),.001);C(this,Xs,e.getOutlines()),[this.x,this.y,this.width,this.height]=u(this,Xs).box;const r=new l3(u(this,Il),.0025,.001,this._uiManager.direction==="ltr");C(this,Ui,r.getOutlines());const{lastPoint:i}=u(this,Ui);C(this,hg,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},Wy=function({highlightOutlines:e,highlightId:r,clipPathId:i}){var d,g;if(C(this,Xs,e),C(this,Ui,e.getNewOutline(u(this,Ys)/2+1.5,.0025)),r>=0)C(this,gs,r),C(this,ld,i),this.parent.drawLayer.finalizeDraw(r,{bbox:e.box,path:{d:e.toSVGPath()}}),C(this,ai,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:u(this,Ui).box,path:{d:u(this,Ui).toSVGPath()}},!0));else if(this.parent){const f=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(u(this,gs),{bbox:F(d=Ve,to,Pf).call(d,u(this,Xs).box,(f-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(u(this,ai),{bbox:F(g=Ve,to,Pf).call(g,u(this,Ui).box,f),path:{d:u(this,Ui).toSVGPath()}})}const[o,a,l,c]=e.box;switch(this.rotation){case 0:this.x=o,this.y=a,this.width=l,this.height=c;break;case 90:{const[f,w]=this.parentDimensions;this.x=a,this.y=1-o,this.width=l*w/f,this.height=c*f/w;break}case 180:this.x=1-o,this.y=1-a,this.width=l,this.height=c;break;case 270:{const[f,w]=this.parentDimensions;this.x=1-a,this.y=o,this.width=l*w/f,this.height=c*f/w;break}}const{lastPoint:h}=u(this,Ui);C(this,hg,[(h[0]-o)/l,(h[1]-a)/c])},L8=function(e){const r=(o,a)=>{var l,c;this.color=o,C(this,Ml,a),(l=this.parent)==null||l.drawLayer.updateProperties(u(this,gs),{root:{fill:o,"fill-opacity":a}}),(c=u(this,ug))==null||c.updateColor(o)},i=this.color,s=u(this,Ml);this.addCommands({cmd:r.bind(this,e,Ve._defaultOpacity),undo:r.bind(this,i,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Fe.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)},P8=function(e){const r=u(this,Ys),i=s=>{C(this,Ys,s),F(this,Ee,k8).call(this,s)};this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Fe.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},k8=function(e){if(!u(this,Br))return;F(this,Ee,Wy).call(this,{highlightOutlines:u(this,Xs).getNewOutline(e/2)}),this.fixAndSetPosition();const[r,i]=this.parentDimensions;this.setDims(this.width*r,this.height*i)},g3=function(){u(this,gs)===null||!this.parent||(this.parent.drawLayer.remove(u(this,gs)),C(this,gs,null),this.parent.drawLayer.remove(u(this,ai)),C(this,ai,null))},ih=function(e=this.parent){u(this,gs)===null&&({id:Sr(this,gs)._,clipPathId:Sr(this,ld)._}=e.drawLayer.draw({bbox:u(this,Xs).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":u(this,Ml)},rootClass:{highlight:!0,free:u(this,Br)},path:{d:u(this,Xs).toSVGPath()}},!1,!0),C(this,ai,e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:u(this,Br)},bbox:u(this,Ui).box,path:{d:u(this,Ui).toSVGPath()}},u(this,Br))),u(this,cd)&&(u(this,cd).style.clipPath=u(this,ld)))},to=new WeakSet,Pf=function([e,r,i,s],o){switch(o){case 90:return[1-r-s,e,s,i];case 180:return[1-e-i,1-r-s,i,s];case 270:return[r,1-e-i,s,i]}return[e,r,i,s]},T8=function(e){Ve._keyboardManager.exec(this,e)},Gy=function(e){if(!u(this,cg))return;const r=window.getSelection();e?r.setPosition(u(this,cg),u(this,a2)):r.setPosition(u(this,l2),u(this,c2))},Km=function(){return u(this,Br)?this.rotation:0},R8=function(){if(u(this,Br))return null;const[e,r]=this.pageDimensions,[i,s]=this.pageTranslation,o=u(this,Il),a=new Float32Array(o.length*8);let l=0;for(const{x:c,y:h,width:d,height:g}of o){const f=c*e+i,w=(1-h)*r+s;a[l]=a[l+4]=f,a[l+1]=a[l+3]=w,a[l+2]=a[l+6]=f+d*e,a[l+5]=a[l+7]=w-g*r,l+=8}return a},I8=function(e){return u(this,Xs).serialize(e,F(this,Ee,Km).call(this))},M8=function(e,r){this._freeHighlight.add(r)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},F8=function(e,r){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},O8=function(e){const{color:r}=this._initialData;return e.color.some((i,s)=>i!==r[s])},k(Ve,to),It(Ve,"_defaultColor",null),It(Ve,"_defaultOpacity",1),It(Ve,"_defaultThickness",12),It(Ve,"_type","highlight"),It(Ve,"_editorType",ve.HIGHLIGHT),It(Ve,"_freeHighlightId",-1),It(Ve,"_freeHighlight",null),It(Ve,"_freeHighlightClipId","");let V5=Ve;var ud;class D8{constructor(){k(this,ud,Object.create(null))}updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,r]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,r)}updateSVGProperty(t,e){u(this,ud)[t]=e}toSVGProperties(){const t=u(this,ud);return C(this,ud,Object.create(null)),{root:t}}reset(){C(this,ud,Object.create(null))}updateAll(t=this){this.updateProperties(t)}clone(){rn("Not implemented")}}ud=new WeakMap;var ms,fg,Cr,hd,dd,ru,iu,su,fd,Be,m3,v3,y3,Qm,j8,Xy,Jm,kf;const Qt=class Qt extends dn{constructor(e){super(e);k(this,Be);k(this,ms,null);k(this,fg);It(this,"_drawId",null);C(this,fg,e.mustBeCommitted||!1),this._addOutlines(e)}_addOutlines(e){e.drawOutlines&&(F(this,Be,m3).call(this,e),F(this,Be,Qm).call(this))}static _mergeSVGProperties(e,r){const i=new Set(Object.keys(e));for(const[s,o]of Object.entries(r))i.has(s)?Object.assign(e[s],o):e[s]=o;return e}static getDefaultDrawingOptions(e){rn("Not implemented")}static get typesMap(){rn("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,r){const i=this.typesMap.get(e);i&&this._defaultDrawingOptions.updateProperty(i,r),this._currentParent&&(u(Qt,Cr).updateProperty(i,r),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,r){const i=this.constructor.typesMap.get(e);i&&this._updateProperty(e,i,r)}static get defaultPropertiesToUpdate(){const e=[],r=this._defaultDrawingOptions;for(const[i,s]of this.typesMap)e.push([i,r[s]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:r}=this;for(const[i,s]of this.constructor.typesMap)e.push([i,r[s]]);return e}_updateProperty(e,r,i){const s=this._drawingOptions,o=s[r],a=l=>{var h;s.updateProperty(r,l);const c=u(this,ms).updateProperty(r,l);c&&F(this,Be,Jm).call(this,c),(h=this.parent)==null||h.drawLayer.updateProperties(this._drawId,s.toSVGProperties())};this.addCommands({cmd:a.bind(this,i),undo:a.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,Qt._mergeSVGProperties(u(this,ms).getPathResizingSVGProperties(F(this,Be,Xy).call(this)),{bbox:F(this,Be,kf).call(this)}))}_onResized(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,Qt._mergeSVGProperties(u(this,ms).getPathResizedSVGProperties(F(this,Be,Xy).call(this)),{bbox:F(this,Be,kf).call(this)}))}_onTranslating(e,r){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{bbox:F(this,Be,kf).call(this)})}_onTranslated(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,Qt._mergeSVGProperties(u(this,ms).getPathTranslatedSVGProperties(F(this,Be,Xy).call(this),this.parentDimensions),{bbox:F(this,Be,kf).call(this)}))}_onStartDragging(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,u(this,fg)&&(C(this,fg,!1),this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){F(this,Be,y3).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(F(this,Be,Qm).call(this),F(this,Be,Jm).call(this,u(this,ms).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var i;let r=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),F(this,Be,y3).call(this)):e&&(this._uiManager.addShouldRescale(this),F(this,Be,Qm).call(this,e),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(e),r&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Qt._mergeSVGProperties({bbox:F(this,Be,kf).call(this)},u(this,ms).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&F(this,Be,Jm).call(this,u(this,ms).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,r;this._isCopy&&(e=this.x,r=this.y);const i=super.render();i.classList.add("draw");const s=document.createElement("div");i.append(s),s.setAttribute("aria-hidden","true"),s.className="internal";const[o,a]=this.parentDimensions;return this.setDims(this.width*o,this.height*a),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,r),i}static createDrawerInstance(e,r,i,s,o){rn("Not implemented")}static startDrawing(e,r,i,s){var x;const{target:o,offsetX:a,offsetY:l,pointerId:c,pointerType:h}=s;if(u(Qt,iu)&&u(Qt,iu)!==h)return;const{viewport:{rotation:d}}=e,{width:g,height:f}=o.getBoundingClientRect(),w=C(Qt,hd,new AbortController),v=e.combinedSignal(w);if(u(Qt,ru)||C(Qt,ru,c),u(Qt,iu)??C(Qt,iu,h),window.addEventListener("pointerup",y=>{var b;u(Qt,ru)===y.pointerId?this._endDraw(y):(b=u(Qt,su))==null||b.delete(y.pointerId)},{signal:v}),window.addEventListener("pointercancel",y=>{var b;u(Qt,ru)===y.pointerId?this._currentParent.endDrawingSession():(b=u(Qt,su))==null||b.delete(y.pointerId)},{signal:v}),window.addEventListener("pointerdown",y=>{u(Qt,iu)===y.pointerType&&((u(Qt,su)||C(Qt,su,new Set)).add(y.pointerId),u(Qt,Cr).isCancellable()&&(u(Qt,Cr).removeLastElement(),u(Qt,Cr).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",Go,{signal:v}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:v}),o.addEventListener("touchmove",y=>{y.timeStamp===u(Qt,fd)&&nr(y)},{signal:v}),e.toggleDrawing(),(x=r._editorUndoBar)==null||x.hide(),u(Qt,Cr)){e.drawLayer.updateProperties(this._currentDrawId,u(Qt,Cr).startNew(a,l,g,f,d));return}r.updateUIForDefaultProperties(this),C(Qt,Cr,this.createDrawerInstance(a,l,g,f,d)),C(Qt,dd,this.getDefaultDrawingOptions()),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(u(Qt,dd).toSVGProperties(),u(Qt,Cr).defaultSVGProperties),!0,!1)}static _drawMove(e){var o;if(C(Qt,fd,-1),!u(Qt,Cr))return;const{offsetX:r,offsetY:i,pointerId:s}=e;if(u(Qt,ru)===s){if(((o=u(Qt,su))==null?void 0:o.size)>=1){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,u(Qt,Cr).add(r,i)),C(Qt,fd,e.timeStamp),nr(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,C(Qt,Cr,null),C(Qt,dd,null),C(Qt,iu,null),C(Qt,fd,NaN)),u(Qt,hd)&&(u(Qt,hd).abort(),C(Qt,hd,null),C(Qt,ru,NaN),C(Qt,su,null))}static _endDraw(e){const r=this._currentParent;if(r){if(r.toggleDrawing(!0),this._cleanup(!1),(e==null?void 0:e.target)===r.div&&r.drawLayer.updateProperties(this._currentDrawId,u(Qt,Cr).end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const i=u(Qt,Cr),s=this._currentDrawId,o=i.getLastElement();r.addCommands({cmd:()=>{r.drawLayer.updateProperties(s,i.setLastElement(o))},undo:()=>{r.drawLayer.updateProperties(s,i.removeLastElement())},mustExec:!1,type:Fe.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const r=this._currentParent;if(!r)return null;if(r.toggleDrawing(!0),r.cleanUndoStack(Fe.DRAW_STEP),!u(Qt,Cr).isEmpty()){const{pageDimensions:[i,s],scale:o}=r,a=r.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:u(Qt,Cr).getOutlines(i*o,s*o,o,this._INNER_MARGIN),drawingOptions:u(Qt,dd),mustBeCommitted:!e});return this._cleanup(!0),a}return r.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,r,i,s,o,a){rn("Not implemented")}static async deserialize(e,r,i){var d,g;const{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:l}}=r.viewport,c=this.deserializeDraw(a,l,s,o,this._INNER_MARGIN,e),h=await super.deserialize(e,r,i);return h.createDrawingOptions(e),F(d=h,Be,m3).call(d,{drawOutlines:c}),F(g=h,Be,Qm).call(g),h.onScaleChanging(),h.rotate(),h}serializeDraw(e){const[r,i]=this.pageTranslation,[s,o]=this.pageDimensions;return u(this,ms).serialize([r,i,s,o],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};ms=new WeakMap,fg=new WeakMap,Cr=new WeakMap,hd=new WeakMap,dd=new WeakMap,ru=new WeakMap,iu=new WeakMap,su=new WeakMap,fd=new WeakMap,Be=new WeakSet,m3=function({drawOutlines:e,drawId:r,drawingOptions:i}){C(this,ms,e),this._drawingOptions||(this._drawingOptions=i),r>=0?(this._drawId=r,this.parent.drawLayer.finalizeDraw(r,e.defaultProperties)):this._drawId=F(this,Be,v3).call(this,e,this.parent),F(this,Be,Jm).call(this,e.box)},v3=function(e,r){const{id:i}=r.drawLayer.draw(Qt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return i},y3=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},Qm=function(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=F(this,Be,v3).call(this,u(this,ms),e)}},j8=function([e,r,i,s]){const{parentDimensions:[o,a],rotation:l}=this;switch(l){case 90:return[r,1-e,i*(a/o),s*(o/a)];case 180:return[1-e,1-r,i,s];case 270:return[1-r,e,i*(a/o),s*(o/a)];default:return[e,r,i,s]}},Xy=function(){const{x:e,y:r,width:i,height:s,parentDimensions:[o,a],rotation:l}=this;switch(l){case 90:return[1-r,e,i*(o/a),s*(a/o)];case 180:return[1-e,1-r,i,s];case 270:return[r,1-e,i*(o/a),s*(a/o)];default:return[e,r,i,s]}},Jm=function(e){if([this.x,this.y,this.width,this.height]=F(this,Be,j8).call(this,e),this.div){this.fixAndSetPosition();const[r,i]=this.parentDimensions;this.setDims(this.width*r,this.height*i)}this._onResized()},kf=function(){const{x:e,y:r,width:i,height:s,rotation:o,parentRotation:a,parentDimensions:[l,c]}=this;switch((o*4+a)/90){case 1:return[1-r-s,e,s,i];case 2:return[1-e-i,1-r-s,i,s];case 3:return[r,1-e-i,s,i];case 4:return[e,r-i*(l/c),s*(c/l),i*(l/c)];case 5:return[1-r,e,i*(l/c),s*(c/l)];case 6:return[1-e-s*(c/l),1-r,s*(c/l),i*(l/c)];case 7:return[r-i*(l/c),1-e-s*(c/l),i*(l/c),s*(c/l)];case 8:return[e-i,r-s,i,s];case 9:return[1-r,e-i,s,i];case 10:return[1-e,1-r,i,s];case 11:return[r-s,1-e,s,i];case 12:return[e-s*(c/l),r,s*(c/l),i*(l/c)];case 13:return[1-r-i*(l/c),e-s*(c/l),i*(l/c),s*(c/l)];case 14:return[1-e,1-r-i*(l/c),s*(c/l),i*(l/c)];case 15:return[r,1-e,i*(l/c),s*(c/l)];default:return[e,r,i,s]}},It(Qt,"_currentDrawId",-1),It(Qt,"_currentParent",null),k(Qt,Cr,null),k(Qt,hd,null),k(Qt,dd,null),k(Qt,ru,NaN),k(Qt,iu,null),k(Qt,su,null),k(Qt,fd,NaN),It(Qt,"_INNER_MARGIN",3);let W5=Qt;var Ca,Nr,Lr,pd,pg,bi,zr,Ks,gd,md,vd,gg,Yy;class p${constructor(t,e,r,i,s,o){k(this,gg);k(this,Ca,new Float64Array(6));k(this,Nr);k(this,Lr);k(this,pd);k(this,pg);k(this,bi);k(this,zr,"");k(this,Ks,0);k(this,gd,new R2);k(this,md);k(this,vd);C(this,md,r),C(this,vd,i),C(this,pd,s),C(this,pg,o),[t,e]=F(this,gg,Yy).call(this,t,e);const a=C(this,Nr,[NaN,NaN,NaN,NaN,t,e]);C(this,bi,[t,e]),C(this,Lr,[{line:a,points:u(this,bi)}]),u(this,Ca).set(a,0)}updateProperty(t,e){t==="stroke-width"&&C(this,pg,e)}isEmpty(){return!u(this,Lr)||u(this,Lr).length===0}isCancellable(){return u(this,bi).length<=10}add(t,e){[t,e]=F(this,gg,Yy).call(this,t,e);const[r,i,s,o]=u(this,Ca).subarray(2,6),a=t-s,l=e-o;return Math.hypot(u(this,md)*a,u(this,vd)*l)<=2?null:(u(this,bi).push(t,e),isNaN(r)?(u(this,Ca).set([s,o,t,e],2),u(this,Nr).push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(u(this,Ca)[0])&&u(this,Nr).splice(6,6),u(this,Ca).set([r,i,s,o,t,e],0),u(this,Nr).push(...Xt.createBezierPoints(r,i,s,o,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const r=this.add(t,e);return r||(u(this,bi).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,r,i,s){C(this,md,r),C(this,vd,i),C(this,pd,s),[t,e]=F(this,gg,Yy).call(this,t,e);const o=C(this,Nr,[NaN,NaN,NaN,NaN,t,e]);C(this,bi,[t,e]);const a=u(this,Lr).at(-1);return a&&(a.line=new Float32Array(a.line),a.points=new Float32Array(a.points)),u(this,Lr).push({line:o,points:u(this,bi)}),u(this,Ca).set(o,0),C(this,Ks,0),this.toSVGPath(),null}getLastElement(){return u(this,Lr).at(-1)}setLastElement(t){return u(this,Lr)?(u(this,Lr).push(t),C(this,Nr,t.line),C(this,bi,t.points),C(this,Ks,0),{path:{d:this.toSVGPath()}}):u(this,gd).setLastElement(t)}removeLastElement(){if(!u(this,Lr))return u(this,gd).removeLastElement();u(this,Lr).pop(),C(this,zr,"");for(let t=0,e=u(this,Lr).length;t<e;t++){const{line:r,points:i}=u(this,Lr)[t];C(this,Nr,r),C(this,bi,i),C(this,Ks,0),this.toSVGPath()}return{path:{d:u(this,zr)}}}toSVGPath(){const t=Xt.svgRound(u(this,Nr)[4]),e=Xt.svgRound(u(this,Nr)[5]);if(u(this,bi).length===2)return C(this,zr,`${u(this,zr)} M ${t} ${e} Z`),u(this,zr);if(u(this,bi).length<=6){const i=u(this,zr).lastIndexOf("M");C(this,zr,`${u(this,zr).slice(0,i)} M ${t} ${e}`),C(this,Ks,6)}if(u(this,bi).length===4){const i=Xt.svgRound(u(this,Nr)[10]),s=Xt.svgRound(u(this,Nr)[11]);return C(this,zr,`${u(this,zr)} L ${i} ${s}`),C(this,Ks,12),u(this,zr)}const r=[];u(this,Ks)===0&&(r.push(`M ${t} ${e}`),C(this,Ks,6));for(let i=u(this,Ks),s=u(this,Nr).length;i<s;i+=6){const[o,a,l,c,h,d]=u(this,Nr).slice(i,i+6).map(Xt.svgRound);r.push(`C${o} ${a} ${l} ${c} ${h} ${d}`)}return C(this,zr,u(this,zr)+r.join(" ")),C(this,Ks,u(this,Nr).length),u(this,zr)}getOutlines(t,e,r,i){const s=u(this,Lr).at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),u(this,gd).build(u(this,Lr),t,e,r,u(this,pd),u(this,pg),i),C(this,Ca,null),C(this,Nr,null),C(this,Lr,null),C(this,zr,null),u(this,gd)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Ca=new WeakMap,Nr=new WeakMap,Lr=new WeakMap,pd=new WeakMap,pg=new WeakMap,bi=new WeakMap,zr=new WeakMap,Ks=new WeakMap,gd=new WeakMap,md=new WeakMap,vd=new WeakMap,gg=new WeakSet,Yy=function(t,e){return Xt._normalizePoint(t,e,u(this,md),u(this,vd),u(this,pd))};var xi,h2,d2,vs,Na,La,mg,vg,yd,Hr,sl,B8,z8,U8;class R2 extends Xt{constructor(){super(...arguments);k(this,Hr);k(this,xi);k(this,h2,0);k(this,d2);k(this,vs);k(this,Na);k(this,La);k(this,mg);k(this,vg);k(this,yd)}build(e,r,i,s,o,a,l){C(this,Na,r),C(this,La,i),C(this,mg,s),C(this,vg,o),C(this,yd,a),C(this,d2,l??0),C(this,vs,e),F(this,Hr,z8).call(this)}get thickness(){return u(this,yd)}setLastElement(e){return u(this,vs).push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return u(this,vs).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:r}of u(this,vs)){if(e.push(`M${Xt.svgRound(r[4])} ${Xt.svgRound(r[5])}`),r.length===6){e.push("Z");continue}if(r.length===12&&isNaN(r[6])){e.push(`L${Xt.svgRound(r[10])} ${Xt.svgRound(r[11])}`);continue}for(let i=6,s=r.length;i<s;i+=6){const[o,a,l,c,h,d]=r.subarray(i,i+6).map(Xt.svgRound);e.push(`C${o} ${a} ${l} ${c} ${h} ${d}`)}}return e.join("")}serialize([e,r,i,s],o){const a=[],l=[],[c,h,d,g]=F(this,Hr,B8).call(this);let f,w,v,x,y,b,_,N,L;switch(u(this,vg)){case 0:L=Xt._rescale,f=e,w=r+s,v=i,x=-s,y=e+c*i,b=r+(1-h-g)*s,_=e+(c+d)*i,N=r+(1-h)*s;break;case 90:L=Xt._rescaleAndSwap,f=e,w=r,v=i,x=s,y=e+h*i,b=r+c*s,_=e+(h+g)*i,N=r+(c+d)*s;break;case 180:L=Xt._rescale,f=e+i,w=r,v=-i,x=s,y=e+(1-c-d)*i,b=r+h*s,_=e+(1-c)*i,N=r+(h+g)*s;break;case 270:L=Xt._rescaleAndSwap,f=e+i,w=r+s,v=-i,x=-s,y=e+(1-h-g)*i,b=r+(1-c-d)*s,_=e+(1-h)*i,N=r+(1-c)*s;break}for(const{line:O,points:I}of u(this,vs))a.push(L(O,f,w,v,x,o?new Array(O.length):null)),l.push(L(I,f,w,v,x,o?new Array(I.length):null));return{lines:a,points:l,rect:[y,b,_,N]}}static deserialize(e,r,i,s,o,{paths:{lines:a,points:l},rotation:c,thickness:h}){const d=[];let g,f,w,v,x;switch(c){case 0:x=Xt._rescale,g=-e/i,f=r/s+1,w=1/i,v=-1/s;break;case 90:x=Xt._rescaleAndSwap,g=-r/s,f=-e/i,w=1/s,v=1/i;break;case 180:x=Xt._rescale,g=e/i+1,f=-r/s,w=-1/i,v=1/s;break;case 270:x=Xt._rescaleAndSwap,g=r/s+1,f=e/i+1,w=-1/s,v=-1/i;break}if(!a){a=[];for(const b of l){const _=b.length;if(_===2){a.push(new Float32Array([NaN,NaN,NaN,NaN,b[0],b[1]]));continue}if(_===4){a.push(new Float32Array([NaN,NaN,NaN,NaN,b[0],b[1],NaN,NaN,NaN,NaN,b[2],b[3]]));continue}const N=new Float32Array(3*(_-2));a.push(N);let[L,O,I,D]=b.subarray(0,4);N.set([NaN,NaN,NaN,NaN,L,O],0);for(let V=4;V<_;V+=2){const Q=b[V],P=b[V+1];N.set(Xt.createBezierPoints(L,O,I,D,Q,P),(V-2)*3),[L,O,I,D]=[I,D,Q,P]}}}for(let b=0,_=a.length;b<_;b++)d.push({line:x(a[b].map(N=>N??NaN),g,f,w,v),points:x(l[b].map(N=>N??NaN),g,f,w,v)});const y=new this.prototype.constructor;return y.build(d,i,s,1,c,h,o),y}get box(){return u(this,xi)}updateProperty(e,r){return e==="stroke-width"?F(this,Hr,U8).call(this,r):null}updateParentDimensions([e,r],i){const[s,o]=F(this,Hr,sl).call(this);C(this,Na,e),C(this,La,r),C(this,mg,i);const[a,l]=F(this,Hr,sl).call(this),c=a-s,h=l-o,d=u(this,xi);return d[0]-=c,d[1]-=h,d[2]+=2*c,d[3]+=2*h,d}updateRotation(e){return C(this,h2,e),{path:{transform:this.rotationTransform}}}get viewBox(){return u(this,xi).map(Xt.svgRound).join(" ")}get defaultProperties(){const[e,r]=u(this,xi);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Xt.svgRound(e)} ${Xt.svgRound(r)}`}}}get rotationTransform(){const[,,e,r]=u(this,xi);let i=0,s=0,o=0,a=0,l=0,c=0;switch(u(this,h2)){case 90:s=r/e,o=-e/r,l=e;break;case 180:i=-1,a=-1,l=e,c=r;break;case 270:s=-r/e,o=e/r,c=r;break;default:return""}return`matrix(${i} ${s} ${o} ${a} ${Xt.svgRound(l)} ${Xt.svgRound(c)})`}getPathResizingSVGProperties([e,r,i,s]){const[o,a]=F(this,Hr,sl).call(this),[l,c,h,d]=u(this,xi);if(Math.abs(h-o)<=Xt.PRECISION||Math.abs(d-a)<=Xt.PRECISION){const x=e+i/2-(l+h/2),y=r+s/2-(c+d/2);return{path:{"transform-origin":`${Xt.svgRound(e)} ${Xt.svgRound(r)}`,transform:`${this.rotationTransform} translate(${x} ${y})`}}}const g=(i-2*o)/(h-2*o),f=(s-2*a)/(d-2*a),w=h/i,v=d/s;return{path:{"transform-origin":`${Xt.svgRound(l)} ${Xt.svgRound(c)}`,transform:`${this.rotationTransform} scale(${w} ${v}) translate(${Xt.svgRound(o)} ${Xt.svgRound(a)}) scale(${g} ${f}) translate(${Xt.svgRound(-o)} ${Xt.svgRound(-a)})`}}}getPathResizedSVGProperties([e,r,i,s]){const[o,a]=F(this,Hr,sl).call(this),l=u(this,xi),[c,h,d,g]=l;if(l[0]=e,l[1]=r,l[2]=i,l[3]=s,Math.abs(d-o)<=Xt.PRECISION||Math.abs(g-a)<=Xt.PRECISION){const y=e+i/2-(c+d/2),b=r+s/2-(h+g/2);for(const{line:_,points:N}of u(this,vs))Xt._translate(_,y,b,_),Xt._translate(N,y,b,N);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Xt.svgRound(e)} ${Xt.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const f=(i-2*o)/(d-2*o),w=(s-2*a)/(g-2*a),v=-f*(c+o)+e+o,x=-w*(h+a)+r+a;if(f!==1||w!==1||v!==0||x!==0)for(const{line:y,points:b}of u(this,vs))Xt._rescale(y,v,x,f,w,y),Xt._rescale(b,v,x,f,w,b);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Xt.svgRound(e)} ${Xt.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,r],i){const[s,o]=i,a=u(this,xi),l=e-a[0],c=r-a[1];if(u(this,Na)===s&&u(this,La)===o)for(const{line:h,points:d}of u(this,vs))Xt._translate(h,l,c,h),Xt._translate(d,l,c,d);else{const h=u(this,Na)/s,d=u(this,La)/o;C(this,Na,s),C(this,La,o);for(const{line:g,points:f}of u(this,vs))Xt._rescale(g,l,c,h,d,g),Xt._rescale(f,l,c,h,d,f);a[2]*=h,a[3]*=d}return a[0]=e,a[1]=r,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Xt.svgRound(e)} ${Xt.svgRound(r)}`}}}get defaultSVGProperties(){const e=u(this,xi);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Xt.svgRound(e[0])} ${Xt.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}xi=new WeakMap,h2=new WeakMap,d2=new WeakMap,vs=new WeakMap,Na=new WeakMap,La=new WeakMap,mg=new WeakMap,vg=new WeakMap,yd=new WeakMap,Hr=new WeakSet,sl=function(e=u(this,yd)){const r=u(this,d2)+e/2*u(this,mg);return u(this,vg)%180===0?[r/u(this,Na),r/u(this,La)]:[r/u(this,La),r/u(this,Na)]},B8=function(){const[e,r,i,s]=u(this,xi),[o,a]=F(this,Hr,sl).call(this,0);return[e+o,r+a,i-2*o,s-2*a]},z8=function(){const e=C(this,xi,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:s}of u(this,vs)){if(s.length<=12){for(let l=4,c=s.length;l<c;l+=6)re.pointBoundingBox(s[l],s[l+1],e);continue}let o=s[4],a=s[5];for(let l=6,c=s.length;l<c;l+=6){const[h,d,g,f,w,v]=s.subarray(l,l+6);re.bezierBoundingBox(o,a,h,d,g,f,w,v,e),o=w,a=v}}const[r,i]=F(this,Hr,sl).call(this);e[0]=_i(e[0]-r,0,1),e[1]=_i(e[1]-i,0,1),e[2]=_i(e[2]+r,0,1),e[3]=_i(e[3]+i,0,1),e[2]-=e[0],e[3]-=e[1]},U8=function(e){const[r,i]=F(this,Hr,sl).call(this);C(this,yd,e);const[s,o]=F(this,Hr,sl).call(this),[a,l]=[s-r,o-i],c=u(this,xi);return c[0]-=a,c[1]-=l,c[2]+=2*a,c[3]+=2*l,c};class eb extends D8{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:dn._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??(e=this["stroke-width"]),e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new eb(this._viewParameters);return t.updateAll(this),t}}var uw,q8;const Wf=class Wf extends W5{constructor(e){super({...e,name:"inkEditor"});k(this,uw);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,r){dn.initialize(e,r),this._defaultDrawingOptions=new eb(r.viewParameters)}static getDefaultDrawingOptions(e){const r=this._defaultDrawingOptions.clone();return r.updateProperties(e),r}static get supportMultipleDrawings(){return!0}static get typesMap(){return Me(this,"typesMap",new Map([[Fe.INK_THICKNESS,"stroke-width"],[Fe.INK_COLOR,"stroke"],[Fe.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,r,i,s,o){return new p$(e,r,i,s,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,r,i,s,o,a){return R2.deserialize(e,r,i,s,o,a)}static async deserialize(e,r,i){let s=null;if(e instanceof d4){const{data:{inkLists:a,rect:l,rotation:c,id:h,color:d,opacity:g,borderStyle:{rawWidth:f},popupRef:w},parent:{page:{pageNumber:v}}}=e;s=e={annotationType:ve.INK,color:Array.from(d),thickness:f,opacity:g,paths:{points:a},boxes:null,pageIndex:v-1,rect:l.slice(0),rotation:c,id:h,deleted:!1,popupRef:w}}const o=await super.deserialize(e,r,i);return o.annotationElementId=e.id||null,o._initialData=s,o}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:r,parent:i}=this;r.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(e,r.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:r,opacity:i}){this._drawingOptions=Wf.getDefaultDrawingOptions({stroke:re.makeHexColor(...e),"stroke-width":r,"stroke-opacity":i})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:r,points:i,rect:s}=this.serializeDraw(e),{_drawingOptions:{stroke:o,"stroke-opacity":a,"stroke-width":l}}=this,c={annotationType:ve.INK,color:dn._colorManager.convert(o),opacity:a,thickness:l,paths:{lines:r,points:i},pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(c.isCopy=!0,c):this.annotationElementId&&!F(this,uw,q8).call(this,c)?null:(c.id=this.annotationElementId,c)}renderAnnotationElement(e){const{points:r,rect:i}=this.serializeDraw(!1);return e.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:r}),null}};uw=new WeakSet,q8=function(e){const{color:r,thickness:i,opacity:s,pageIndex:o}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||e.color.some((a,l)=>a!==r[l])||e.thickness!==i||e.opacity!==s||e.pageIndex!==o},It(Wf,"_type","ink"),It(Wf,"_editorType",ve.INK),It(Wf,"_defaultDrawingOptions",null);let w3=Wf;class b3 extends R2{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const ey=8,Tm=3;var wd,Xe,x3,Fo,H8,$8,A3,Ky,V8,W8,G8,S3,_3,X8;class zl{static extractContoursFromText(t,{fontFamily:e,fontStyle:r,fontWeight:i},s,o,a,l){let c=new OffscreenCanvas(1,1),h=c.getContext("2d",{alpha:!1});const d=200,g=h.font=`${r} ${i} ${d}px ${e}`,{actualBoundingBoxLeft:f,actualBoundingBoxRight:w,actualBoundingBoxAscent:v,actualBoundingBoxDescent:x,fontBoundingBoxAscent:y,fontBoundingBoxDescent:b,width:_}=h.measureText(t),N=1.5,L=Math.ceil(Math.max(Math.abs(f)+Math.abs(w)||0,_)*N),O=Math.ceil(Math.max(Math.abs(v)+Math.abs(x)||d,Math.abs(y)+Math.abs(b)||d)*N);c=new OffscreenCanvas(L,O),h=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),h.font=g,h.filter="grayscale(1)",h.fillStyle="white",h.fillRect(0,0,L,O),h.fillStyle="black",h.fillText(t,L*(N-1)/2,O*(3-N)/2);const I=F(this,Xe,S3).call(this,h.getImageData(0,0,L,O).data),D=F(this,Xe,G8).call(this,I),V=F(this,Xe,_3).call(this,D),Q=F(this,Xe,A3).call(this,I,L,O,V);return this.processDrawnLines({lines:{curves:Q,width:L,height:O},pageWidth:s,pageHeight:o,rotation:a,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(t,e,r,i,s){const[o,a,l]=F(this,Xe,X8).call(this,t),[c,h]=F(this,Xe,W8).call(this,o,a,l,Math.hypot(a,l)*u(this,wd).sigmaSFactor,u(this,wd).sigmaR,u(this,wd).kernelSize),d=F(this,Xe,_3).call(this,h),g=F(this,Xe,A3).call(this,c,a,l,d);return this.processDrawnLines({lines:{curves:g,width:a,height:l},pageWidth:e,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:o,areContours:a}){i%180!==0&&([e,r]=[r,e]);const{curves:l,width:c,height:h}=t,d=t.thickness??0,g=[],f=Math.min(e/c,r/h),w=f/e,v=f/r,x=[];for(const{points:b}of l){const _=o?F(this,Xe,V8).call(this,b):b;if(!_)continue;x.push(_);const N=_.length,L=new Float32Array(N),O=new Float32Array(3*(N===2?2:N-2));if(g.push({line:O,points:L}),N===2){L[0]=_[0]*w,L[1]=_[1]*v,O.set([NaN,NaN,NaN,NaN,L[0],L[1]],0);continue}let[I,D,V,Q]=_;I*=w,D*=v,V*=w,Q*=v,L.set([I,D,V,Q],0),O.set([NaN,NaN,NaN,NaN,I,D],0);for(let P=4;P<N;P+=2){const j=L[P]=_[P]*w,Y=L[P+1]=_[P+1]*v;O.set(Xt.createBezierPoints(I,D,V,Q,j,Y),(P-2)*3),[I,D,V,Q]=[V,Q,j,Y]}}if(g.length===0)return null;const y=a?new b3:new R2;return y.build(g,e,r,1,i,a?0:d,s),{outline:y,newCurves:x,areContours:a,thickness:d,width:c,height:h}}static async compressSignature({outlines:t,areContours:e,thickness:r,width:i,height:s}){let o=1/0,a=-1/0,l=0;for(const _ of t){l+=_.length;for(let N=2,L=_.length;N<L;N++){const O=_[N]-_[N-2];o=Math.min(o,O),a=Math.max(a,O)}}let c;o>=-128&&a<=127?c=Int8Array:o>=-32768&&a<=32767?c=Int16Array:c=Int32Array;const h=t.length,d=ey+Tm*h,g=new Uint32Array(d);let f=0;g[f++]=d*Uint32Array.BYTES_PER_ELEMENT+(l-2*h)*c.BYTES_PER_ELEMENT,g[f++]=0,g[f++]=i,g[f++]=s,g[f++]=e?0:1,g[f++]=Math.max(0,Math.floor(r??0)),g[f++]=h,g[f++]=c.BYTES_PER_ELEMENT;for(const _ of t)g[f++]=_.length-2,g[f++]=_[0],g[f++]=_[1];const w=new CompressionStream("deflate-raw"),v=w.writable.getWriter();await v.ready,v.write(g);const x=c.prototype.constructor;for(const _ of t){const N=new x(_.length-2);for(let L=2,O=_.length;L<O;L++)N[L-2]=_[L]-_[L-2];v.write(N)}v.close();const y=await new Response(w.readable).arrayBuffer(),b=new Uint8Array(y);return XT(b)}static async decompressSignature(t){try{const e=Dq(t),{readable:r,writable:i}=new DecompressionStream("deflate-raw"),s=i.getWriter();await s.ready,s.write(e).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let o=null,a=0;for await(const _ of r)o||(o=new Uint8Array(new Uint32Array(_.buffer,0,4)[0])),o.set(_,a),a+=_.length;const l=new Uint32Array(o.buffer,0,o.length>>2),c=l[1];if(c!==0)throw new Error(`Invalid version: ${c}`);const h=l[2],d=l[3],g=l[4]===0,f=l[5],w=l[6],v=l[7],x=[],y=(ey+Tm*w)*Uint32Array.BYTES_PER_ELEMENT;let b;switch(v){case Int8Array.BYTES_PER_ELEMENT:b=new Int8Array(o.buffer,y);break;case Int16Array.BYTES_PER_ELEMENT:b=new Int16Array(o.buffer,y);break;case Int32Array.BYTES_PER_ELEMENT:b=new Int32Array(o.buffer,y);break}a=0;for(let _=0;_<w;_++){const N=l[Tm*_+ey],L=new Float32Array(N+2);x.push(L);for(let O=0;O<Tm-1;O++)L[O]=l[Tm*_+ey+O+1];for(let O=0;O<N;O++)L[O+2]=L[O]+b[a++]}return{areContours:g,thickness:f,outlines:x,width:h,height:d}}catch(e){return ye(`decompressSignature: ${e}`),null}}}wd=new WeakMap,Xe=new WeakSet,x3=function(t,e,r,i){return r-=t,i-=e,r===0?i>0?0:4:r===1?i+6:2-i},Fo=new WeakMap,H8=function(t,e,r,i,s,o,a){const l=F(this,Xe,x3).call(this,r,i,s,o);for(let c=0;c<8;c++){const h=(-c+l-a+16)%8,d=u(this,Fo)[2*h],g=u(this,Fo)[2*h+1];if(t[(r+d)*e+(i+g)]!==0)return h}return-1},$8=function(t,e,r,i,s,o,a){const l=F(this,Xe,x3).call(this,r,i,s,o);for(let c=0;c<8;c++){const h=(c+l+a+16)%8,d=u(this,Fo)[2*h],g=u(this,Fo)[2*h+1];if(t[(r+d)*e+(i+g)]!==0)return h}return-1},A3=function(t,e,r,i){const s=t.length,o=new Int32Array(s);for(let h=0;h<s;h++)o[h]=t[h]<=i?1:0;for(let h=1;h<r-1;h++)o[h*e]=o[h*e+e-1]=0;for(let h=0;h<e;h++)o[h]=o[e*r-1-h]=0;let a=1,l;const c=[];for(let h=1;h<r-1;h++){l=1;for(let d=1;d<e-1;d++){const g=h*e+d,f=o[g];if(f===0)continue;let w=h,v=d;if(f===1&&o[g-1]===0)a+=1,v-=1;else if(f>=1&&o[g+1]===0)a+=1,v+=1,f>1&&(l=f);else{f!==1&&(l=Math.abs(f));continue}const x=[d,h],y=v===d+1,b={isHole:y,points:x,id:a,parent:0};c.push(b);let _;for(const P of c)if(P.id===l){_=P;break}_?_.isHole?b.parent=y?_.parent:l:b.parent=y?l:_.parent:b.parent=y?l:0;const N=F(this,Xe,H8).call(this,o,e,h,d,w,v,0);if(N===-1){o[g]=-a,o[g]!==1&&(l=Math.abs(o[g]));continue}let L=u(this,Fo)[2*N],O=u(this,Fo)[2*N+1];const I=h+L,D=d+O;w=I,v=D;let V=h,Q=d;for(;;){const P=F(this,Xe,$8).call(this,o,e,V,Q,w,v,1);L=u(this,Fo)[2*P],O=u(this,Fo)[2*P+1];const j=V+L,Y=Q+O;x.push(Y,j);const H=V*e+Q;if(o[H+1]===0?o[H]=-a:o[H]===1&&(o[H]=a),j===h&&Y===d&&V===I&&Q===D){o[g]!==1&&(l=Math.abs(o[g]));break}else w=V,v=Q,V=j,Q=Y}}}return c},Ky=function(t,e,r,i){if(r-e<=4){for(let I=e;I<r-2;I+=2)i.push(t[I],t[I+1]);return}const s=t[e],o=t[e+1],a=t[r-4]-s,l=t[r-3]-o,c=Math.hypot(a,l),h=a/c,d=l/c,g=h*o-d*s,f=l/a,w=1/c,v=Math.atan(f),x=Math.cos(v),y=Math.sin(v),b=w*(Math.abs(x)+Math.abs(y)),_=w*(1-b+b**2),N=Math.max(Math.atan(Math.abs(y+x)*_),Math.atan(Math.abs(y-x)*_));let L=0,O=e;for(let I=e+2;I<r-2;I+=2){const D=Math.abs(g-h*t[I+1]+d*t[I]);D>L&&(O=I,L=D)}L>(c*N)**2?(F(this,Xe,Ky).call(this,t,e,O+2,i),F(this,Xe,Ky).call(this,t,O,r,i)):i.push(s,o)},V8=function(t){const e=[],r=t.length;return F(this,Xe,Ky).call(this,t,0,r,e),e.push(t[r-2],t[r-1]),e.length<=4?null:e},W8=function(t,e,r,i,s,o){const a=new Float32Array(o**2),l=-2*i**2,c=o>>1;for(let v=0;v<o;v++){const x=(v-c)**2;for(let y=0;y<o;y++)a[v*o+y]=Math.exp((x+(y-c)**2)/l)}const h=new Float32Array(256),d=-2*s**2;for(let v=0;v<256;v++)h[v]=Math.exp(v**2/d);const g=t.length,f=new Uint8Array(g),w=new Uint32Array(256);for(let v=0;v<r;v++)for(let x=0;x<e;x++){const y=v*e+x,b=t[y];let _=0,N=0;for(let O=0;O<o;O++){const I=v+O-c;if(!(I<0||I>=r))for(let D=0;D<o;D++){const V=x+D-c;if(V<0||V>=e)continue;const Q=t[I*e+V],P=a[O*o+D]*h[Math.abs(Q-b)];_+=Q*P,N+=P}}const L=f[y]=Math.round(_/N);w[L]++}return[f,w]},G8=function(t){const e=new Uint32Array(256);for(const r of t)e[r]++;return e},S3=function(t){const e=t.length,r=new Uint8ClampedArray(e>>2);let i=-1/0,s=1/0;for(let a=0,l=r.length;a<l;a++){if(t[(a<<2)+3]===0){i=r[a]=255;continue}const h=r[a]=t[a<<2];h>i&&(i=h),h<s&&(s=h)}const o=255/(i-s);for(let a=0;a<e;a++)r[a]=(r[a]-s)*o;return r},_3=function(t){let e,r=-1/0,i=-1/0;const s=t.findIndex(l=>l!==0);let o=s,a=s;for(e=s;e<256;e++){const l=t[e];l>r&&(e-o>i&&(i=e-o,a=e-1),r=l,o=e)}for(e=a-1;e>=0&&!(t[e]>t[e+1]);e--);return e},X8=function(t){const e=t,{width:r,height:i}=t,{maxDim:s}=u(this,wd);let o=r,a=i;if(r>s||i>s){let g=r,f=i,w=Math.log2(Math.max(r,i)/s);const v=Math.floor(w);w=w===v?v-1:v;for(let y=0;y<w;y++){o=Math.ceil(g/2),a=Math.ceil(f/2);const b=new OffscreenCanvas(o,a);b.getContext("2d").drawImage(t,0,0,g,f,0,0,o,a),g=o,f=a,t!==e&&t.close(),t=b.transferToImageBitmap()}const x=Math.min(s/o,s/a);o=Math.round(o*x),a=Math.round(a*x)}const c=new OffscreenCanvas(o,a).getContext("2d",{willReadFrequently:!0});c.filter="grayscale(1)",c.drawImage(t,0,0,t.width,t.height,0,0,o,a);const h=c.getImageData(0,0,o,a).data;return[F(this,Xe,S3).call(this,h),o,a]},k(zl,Xe),k(zl,wd,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),k(zl,Fo,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class f4 extends D8{constructor(){super(),super.updateProperties({fill:dn._defaultLineColor,"stroke-width":0})}clone(){const t=new f4;return t.updateAll(this),t}}class p4 extends eb{constructor(t){super(t),super.updateProperties({stroke:dn._defaultLineColor,"stroke-width":1})}clone(){const t=new p4(this._viewParameters);return t.updateAll(this),t}}var ou,ys,au,lu;const os=class os extends W5{constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"});k(this,ou,!1);k(this,ys,null);k(this,au,null);k(this,lu,null);this._willKeepAspectRatio=!0,C(this,au,e.signatureData||null),C(this,ys,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,r){dn.initialize(e,r),this._defaultDrawingOptions=new f4,this._defaultDrawnSignatureOptions=new p4(r.viewParameters)}static getDefaultDrawingOptions(e){const r=this._defaultDrawingOptions.clone();return r.updateProperties(e),r}static get supportMultipleDrawings(){return!1}static get typesMap(){return Me(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!u(this,ys)}}static computeTelemetryFinalData(e){const r=e.get("hasDescription");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,r;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,e=this.x,r=this.y),super.render(),this._drawId===null)if(u(this,au)){const{lines:s,mustSmooth:o,areContours:a,description:l,uuid:c,heightInPage:h}=u(this,au),{rawDims:{pageWidth:d,pageHeight:g},rotation:f}=this.parent.viewport,w=zl.processDrawnLines({lines:s,pageWidth:d,pageHeight:g,rotation:f,innerMargin:os._INNER_MARGIN,mustSmooth:o,areContours:a});this.addSignature(w,h,l,c)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return i&&(this._isCopy=!0,this._moveAfterPaste(e,r)),this.div}setUuid(e){C(this,lu,e),this.addEditToolbar()}getUuid(){return u(this,lu)}get description(){return u(this,ys)}set description(e){C(this,ys,e),super.addEditToolbar().then(r=>{r==null||r.updateEditSignatureButton(e)})}getSignaturePreview(){const{newCurves:e,areContours:r,thickness:i,width:s,height:o}=u(this,au),a=Math.max(s,o),l=zl.processDrawnLines({lines:{curves:e.map(c=>({points:c})),thickness:i,width:s,height:o},pageWidth:a,pageHeight:a,rotation:0,innerMargin:0,mustSmooth:!1,areContours:r});return{areContours:r,outline:l.outline}}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.signatureManager&&u(this,ys)!==null&&(await e.addEditSignatureButton(this._uiManager.signatureManager,u(this,lu),u(this,ys)),e.show()),e):null}addSignature(e,r,i,s){const{x:o,y:a}=this,{outline:l}=C(this,au,e);C(this,ou,l instanceof b3),C(this,ys,i),this.div.setAttribute("data-l10n-args",JSON.stringify({description:i}));let c;u(this,ou)?c=os.getDefaultDrawingOptions():(c=os._defaultDrawnSignatureOptions.clone(),c.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:c});const[h,d]=this.parentDimensions,[,g]=this.pageDimensions;let f=r/g;f=f>=1?.5:f,this.width*=f/this.height,this.width>=1&&(f*=.9/this.width,this.width=.9),this.height=f,this.setDims(h*this.width,d*this.height),this.x=o,this.y=a,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(s),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!s,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:r,pageHeight:i},rotation:s}=this.parent.viewport;return zl.process(e,r,i,s,os._INNER_MARGIN)}getFromText(e,r){const{rawDims:{pageWidth:i,pageHeight:s},rotation:o}=this.parent.viewport;return zl.extractContoursFromText(e,r,i,s,o,os._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:r,pageHeight:i},rotation:s}=this.parent.viewport;return zl.processDrawnLines({lines:e,pageWidth:r,pageHeight:i,rotation:s,innerMargin:os._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:r}){e?this._drawingOptions=os.getDefaultDrawingOptions():(this._drawingOptions=os._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":r}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:r,points:i,rect:s}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":o}}=this,a={annotationType:ve.SIGNATURE,isSignature:!0,areContours:u(this,ou),color:[0,0,0],thickness:u(this,ou)?0:o,pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(a.paths={lines:r,points:i},a.uuid=u(this,lu),a.isCopy=!0):a.lines=r,u(this,ys)&&(a.accessibilityData={type:"Figure",alt:u(this,ys)}),a}static deserializeDraw(e,r,i,s,o,a){return a.areContours?b3.deserialize(e,r,i,s,o,a):R2.deserialize(e,r,i,s,o,a)}static async deserialize(e,r,i){var o;const s=await super.deserialize(e,r,i);return C(s,ou,e.areContours),C(s,ys,((o=e.accessibilityData)==null?void 0:o.alt)||""),C(s,lu,e.uuid),s}};ou=new WeakMap,ys=new WeakMap,au=new WeakMap,lu=new WeakMap,It(os,"_type","signature"),It(os,"_editorType",ve.SIGNATURE),It(os,"_defaultDrawingOptions",null);let E3=os;var bn,Pr,cu,Fl,uu,yg,Ol,bd,Pa,ws,wg,ze,Zm,t0,Qy,Jy,Zy,N3,t5,Y8;class C3 extends dn{constructor(e){super({...e,name:"stampEditor"});k(this,ze);k(this,bn,null);k(this,Pr,null);k(this,cu,null);k(this,Fl,null);k(this,uu,null);k(this,yg,"");k(this,Ol,null);k(this,bd,!1);k(this,Pa,null);k(this,ws,!1);k(this,wg,!1);C(this,Fl,e.bitmapUrl),C(this,uu,e.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,r){dn.initialize(e,r)}static isHandlingMimeForPasting(e){return wS.includes(e)}static paste(e,r){r.pasteEditor({mode:ve.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const r=e.get("hasAltText");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}async mlGuessAltText(e=null,r=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:o,height:a}=e||this.copyCanvas(null,null,!0).imageData,l=await i.guess({name:"altText",request:{data:s,width:o,height:a,channels:s.length/(o*a)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return await this.setGuessedAltText(c),r&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}remove(){var e;u(this,Pr)&&(C(this,bn,null),this._uiManager.imageManager.deleteId(u(this,Pr)),(e=u(this,Ol))==null||e.remove(),C(this,Ol,null),u(this,Pa)&&(clearTimeout(u(this,Pa)),C(this,Pa,null))),super.remove()}rebuild(){if(!this.parent){u(this,Pr)&&F(this,ze,Qy).call(this);return}super.rebuild(),this.div!==null&&(u(this,Pr)&&u(this,Ol)===null&&F(this,ze,Qy).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(u(this,cu)||u(this,bn)||u(this,Fl)||u(this,uu)||u(this,Pr)||u(this,bd))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,r;return this._isCopy&&(e=this.x,r=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),u(this,bd)||(u(this,bn)?F(this,ze,Jy).call(this):F(this,ze,Qy).call(this)),this._isCopy&&this._moveAfterPaste(e,r),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,r){const{id:i,bitmap:s}=this._uiManager.imageManager.getFromCanvas(e,r);r.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(C(this,Pr,i),s&&C(this,bn,s),C(this,bd,!1),F(this,ze,Jy).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;u(this,Pa)!==null&&clearTimeout(u(this,Pa)),C(this,Pa,setTimeout(()=>{C(this,Pa,null),F(this,ze,N3).call(this)},200))}copyCanvas(e,r,i=!1){var f;e||(e=224);const{width:s,height:o}=u(this,bn),a=new za;let l=u(this,bn),c=s,h=o,d=null;if(r){if(s>r||o>r){const D=Math.min(r/s,r/o);c=Math.floor(s*D),h=Math.floor(o*D)}d=document.createElement("canvas");const w=d.width=Math.ceil(c*a.sx),v=d.height=Math.ceil(h*a.sy);u(this,ws)||(l=F(this,ze,Zy).call(this,w,v));const x=d.getContext("2d");x.filter=this._uiManager.hcmFilter;let y="white",b="#cfcfd8";this._uiManager.hcmFilter!=="none"?b="black":(f=window.matchMedia)!=null&&f.call(window,"(prefers-color-scheme: dark)").matches&&(y="#8f8f9d",b="#42414d");const _=15,N=_*a.sx,L=_*a.sy,O=new OffscreenCanvas(N*2,L*2),I=O.getContext("2d");I.fillStyle=y,I.fillRect(0,0,N*2,L*2),I.fillStyle=b,I.fillRect(0,0,N,L),I.fillRect(N,L,N,L),x.fillStyle=x.createPattern(O,"repeat"),x.fillRect(0,0,w,v),x.drawImage(l,0,0,l.width,l.height,0,0,w,v)}let g=null;if(i){let w,v;if(a.symmetric&&l.width<e&&l.height<e)w=l.width,v=l.height;else if(l=u(this,bn),s>e||o>e){const b=Math.min(e/s,e/o);w=Math.floor(s*b),v=Math.floor(o*b),u(this,ws)||(l=F(this,ze,Zy).call(this,w,v))}const y=new OffscreenCanvas(w,v).getContext("2d",{willReadFrequently:!0});y.drawImage(l,0,0,l.width,l.height,0,0,w,v),g={width:w,height:v,data:y.getImageData(0,0,w,v).data}}return{canvas:d,width:c,height:h,imageData:g}}static async deserialize(e,r,i){var x;let s=null,o=!1;if(e instanceof u8){const{data:{rect:y,rotation:b,id:_,structParent:N,popupRef:L},container:O,parent:{page:{pageNumber:I}},canvas:D}=e;let V,Q;D?(delete e.canvas,{id:V,bitmap:Q}=i.imageManager.getFromCanvas(O.id,D),D.remove()):(o=!0,e._hasNoCanvas=!0);const P=((x=await r._structTree.getAriaAttributes(`${i4}${_}`))==null?void 0:x.get("aria-label"))||"";s=e={annotationType:ve.STAMP,bitmapId:V,bitmap:Q,pageIndex:I-1,rect:y.slice(0),rotation:b,id:_,deleted:!1,accessibilityData:{decorative:!1,altText:P},isSvg:!1,structParent:N,popupRef:L}}const a=await super.deserialize(e,r,i),{rect:l,bitmap:c,bitmapUrl:h,bitmapId:d,isSvg:g,accessibilityData:f}=e;o?(i.addMissingCanvas(e.id,a),C(a,bd,!0)):d&&i.imageManager.isValidId(d)?(C(a,Pr,d),c&&C(a,bn,c)):C(a,Fl,h),C(a,ws,g);const[w,v]=a.pageDimensions;return a.width=(l[2]-l[0])/w,a.height=(l[3]-l[1])/v,a.annotationElementId=e.id||null,f&&(a.altTextData=f),a._initialData=s,C(a,wg,!!s),a}serialize(e=!1,r=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i={annotationType:ve.STAMP,bitmapId:u(this,Pr),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:u(this,ws),structTreeParentId:this._structTreeParentId};if(e)return i.bitmapUrl=F(this,ze,t5).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:s,altText:o}=this.serializeAltText(!1);if(!s&&o&&(i.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const l=F(this,ze,Y8).call(this,i);if(l.isSame)return null;l.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1}if(i.id=this.annotationElementId,r===null)return i;r.stamps||(r.stamps=new Map);const a=u(this,ws)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(u(this,Pr)))r.stamps.set(u(this,Pr),{area:a,serialized:i}),i.bitmap=F(this,ze,t5).call(this,!1);else if(u(this,ws)){const l=r.stamps.get(u(this,Pr));a>l.area&&(l.area=a,l.serialized.bitmap.close(),l.serialized.bitmap=F(this,ze,t5).call(this,!1))}return i}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}}bn=new WeakMap,Pr=new WeakMap,cu=new WeakMap,Fl=new WeakMap,uu=new WeakMap,yg=new WeakMap,Ol=new WeakMap,bd=new WeakMap,Pa=new WeakMap,ws=new WeakMap,wg=new WeakMap,ze=new WeakSet,Zm=function(e,r=!1){if(!e){this.remove();return}C(this,bn,e.bitmap),r||(C(this,Pr,e.id),C(this,ws,e.isSvg)),e.file&&C(this,yg,e.file.name),F(this,ze,Jy).call(this)},t0=function(){if(C(this,cu,null),this._uiManager.enableWaiting(!1),!!u(this,Ol)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&u(this,bn)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&u(this,bn)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Qy=function(){if(u(this,Pr)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(u(this,Pr)).then(i=>F(this,ze,Zm).call(this,i,!0)).finally(()=>F(this,ze,t0).call(this));return}if(u(this,Fl)){const i=u(this,Fl);C(this,Fl,null),this._uiManager.enableWaiting(!0),C(this,cu,this._uiManager.imageManager.getFromUrl(i).then(s=>F(this,ze,Zm).call(this,s)).finally(()=>F(this,ze,t0).call(this)));return}if(u(this,uu)){const i=u(this,uu);C(this,uu,null),this._uiManager.enableWaiting(!0),C(this,cu,this._uiManager.imageManager.getFromFile(i).then(s=>F(this,ze,Zm).call(this,s)).finally(()=>F(this,ze,t0).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=wS.join(",");const r=this._uiManager._signal;C(this,cu,new Promise(i=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),F(this,ze,Zm).call(this,s)}i()},{signal:r}),e.addEventListener("cancel",()=>{this.remove(),i()},{signal:r})}).finally(()=>F(this,ze,t0).call(this))),e.click()},Jy=function(){var d;const{div:e}=this;let{width:r,height:i}=u(this,bn);const[s,o]=this.pageDimensions,a=.75;if(this.width)r=this.width*s,i=this.height*o;else if(r>a*s||i>a*o){const g=Math.min(a*s/r,a*o/i);r*=g,i*=g}const[l,c]=this.parentDimensions;this.setDims(r*l/s,i*c/o),this._uiManager.enableWaiting(!1);const h=C(this,Ol,document.createElement("canvas"));h.setAttribute("role","img"),this.addContainer(h),this.width=r/s,this.height=i/o,(d=this._initialOptions)!=null&&d.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),F(this,ze,N3).call(this),u(this,wg)||(this.parent.addUndoableEditor(this),C(this,wg,!0)),this._reportTelemetry({action:"inserted_image"}),u(this,yg)&&this.div.setAttribute("aria-description",u(this,yg))},Zy=function(e,r){const{width:i,height:s}=u(this,bn);let o=i,a=s,l=u(this,bn);for(;o>2*e||a>2*r;){const c=o,h=a;o>2*e&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),a>2*r&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const d=new OffscreenCanvas(o,a);d.getContext("2d").drawImage(l,0,0,c,h,0,0,o,a),l=d.transferToImageBitmap()}return l},N3=function(){const[e,r]=this.parentDimensions,{width:i,height:s}=this,o=new za,a=Math.ceil(i*e*o.sx),l=Math.ceil(s*r*o.sy),c=u(this,Ol);if(!c||c.width===a&&c.height===l)return;c.width=a,c.height=l;const h=u(this,ws)?u(this,bn):F(this,ze,Zy).call(this,a,l),d=c.getContext("2d");d.filter=this._uiManager.hcmFilter,d.drawImage(h,0,0,h.width,h.height,0,0,a,l)},t5=function(e){if(e){if(u(this,ws)){const s=this._uiManager.imageManager.getSvgUrl(u(this,Pr));if(s)return s}const r=document.createElement("canvas");return{width:r.width,height:r.height}=u(this,bn),r.getContext("2d").drawImage(u(this,bn),0,0),r.toDataURL()}if(u(this,ws)){const[r,i]=this.pageDimensions,s=Math.round(this.width*r*Fu.PDF_TO_CSS_UNITS),o=Math.round(this.height*i*Fu.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(s,o);return a.getContext("2d").drawImage(u(this,bn),0,0,u(this,bn).width,u(this,bn).height,0,0,s,o),a.transferToImageBitmap()}return structuredClone(u(this,bn))},Y8=function(e){var a;const{pageIndex:r,accessibilityData:{altText:i}}=this._initialData,s=e.pageIndex===r,o=(((a=e.accessibilityData)==null?void 0:a.alt)||"")===i;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&s&&o,isSameAltText:o}},It(C3,"_type","stamp"),It(C3,"_editorType",ve.STAMP);var xd,bg,ka,hu,Dl,Qs,du,xg,Ad,Oo,jl,li,Bl,ee,fu,xn,K8,ua,P3,k3,e5;const wo=class wo{constructor({uiManager:t,pageIndex:e,div:r,structTreeLayer:i,accessibilityManager:s,annotationLayer:o,drawLayer:a,textLayer:l,viewport:c,l10n:h}){k(this,xn);k(this,xd);k(this,bg,!1);k(this,ka,null);k(this,hu,null);k(this,Dl,null);k(this,Qs,new Map);k(this,du,!1);k(this,xg,!1);k(this,Ad,!1);k(this,Oo,null);k(this,jl,null);k(this,li,null);k(this,Bl,null);k(this,ee);const d=[...u(wo,fu).values()];if(!wo._initialized){wo._initialized=!0;for(const g of d)g.initialize(h,t)}t.registerEditorTypes(d),C(this,ee,t),this.pageIndex=e,this.div=r,C(this,xd,s),C(this,ka,o),this.viewport=c,C(this,li,l),this.drawLayer=a,this._structTree=i,u(this,ee).addLayer(this)}get isEmpty(){return u(this,Qs).size===0}get isInvisible(){return this.isEmpty&&u(this,ee).getMode()===ve.NONE}updateToolbar(t){u(this,ee).updateToolbar(t)}updateMode(t=u(this,ee).getMode()){switch(F(this,xn,e5).call(this),t){case ve.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case ve.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case ve.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const r of u(wo,fu).values())e.toggle(`${r._type}Editing`,t===r._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=u(this,li))==null?void 0:e.div)}setEditingState(t){u(this,ee).setEditingState(t)}addCommands(t){u(this,ee).addCommands(t)}cleanUndoStack(t){u(this,ee).cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=u(this,ka))==null||e.div.classList.toggle("disabled",!t)}async enable(){C(this,Ad,!0),this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const r of u(this,Qs).values())r.enableEditing(),r.show(!0),r.annotationElementId&&(u(this,ee).removeChangedExistingAnnotation(r),t.add(r.annotationElementId));if(!u(this,ka)){C(this,Ad,!1);return}const e=u(this,ka).getEditableAnnotations();for(const r of e){if(r.hide(),u(this,ee).isDeletedAnnotationElement(r.data.id)||t.has(r.data.id))continue;const i=await this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}C(this,Ad,!1)}disable(){var i;C(this,xg,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const s of u(this,Qs).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){t.set(s.annotationElementId,s);continue}else e.set(s.annotationElementId,s);(i=this.getEditableAnnotation(s.annotationElementId))==null||i.show(),s.remove()}if(u(this,ka)){const s=u(this,ka).getEditableAnnotations();for(const o of s){const{id:a}=o.data;if(u(this,ee).isDeletedAnnotationElement(a))continue;let l=e.get(a);if(l){l.resetAnnotationElement(o),l.show(!1),o.show();continue}l=t.get(a),l&&(u(this,ee).addChangedExistingAnnotation(l),l.renderAnnotationElement(o)&&l.show(!1)),o.show()}}F(this,xn,e5).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const s of u(wo,fu).values())r.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),C(this,xg,!1)}getEditableAnnotation(t){var e;return((e=u(this,ka))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){u(this,ee).getActive()!==t&&u(this,ee).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=u(this,li))!=null&&t.div&&!u(this,Bl)){C(this,Bl,new AbortController);const e=u(this,ee).combinedSignal(u(this,Bl));u(this,li).div.addEventListener("pointerdown",F(this,xn,K8).bind(this),{signal:e}),u(this,li).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=u(this,li))!=null&&t.div&&u(this,Bl)&&(u(this,Bl).abort(),C(this,Bl,null),u(this,li).div.classList.remove("highlighting"))}enableClick(){if(u(this,hu))return;C(this,hu,new AbortController);const t=u(this,ee).combinedSignal(u(this,hu));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){var t;(t=u(this,hu))==null||t.abort(),C(this,hu,null)}attach(t){u(this,Qs).set(t.id,t);const{annotationElementId:e}=t;e&&u(this,ee).isDeletedAnnotationElement(e)&&u(this,ee).removeDeletedAnnotationElement(t)}detach(t){var e;u(this,Qs).delete(t.id),(e=u(this,xd))==null||e.removePointerInTextLayer(t.contentDiv),!u(this,xg)&&t.annotationElementId&&u(this,ee).addDeletedAnnotationElement(t)}remove(t){this.detach(t),u(this,ee).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(u(this,ee).addDeletedAnnotationElement(t.annotationElementId),dn.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),u(this,ee).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!u(this,Ad)),u(this,ee).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var r;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!u(this,Dl)&&(t._focusEventsAllowed=!1,C(this,Dl,setTimeout(()=>{C(this,Dl,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:u(this,ee)._signal}),e.focus())},0))),t._structTreeParentId=(r=u(this,xd))==null?void 0:r.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),r=()=>{t.remove()};this.addCommands({cmd:e,undo:r,mustExec:!1})}getNextId(){return u(this,ee).getId()}combinedSignal(t){return u(this,ee).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=u(this,xn,ua))==null?void 0:t.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await u(this,ee).updateMode(t.mode);const{offsetX:r,offsetY:i}=F(this,xn,k3).call(this),s=this.getNextId(),o=F(this,xn,P3).call(this,{parent:this,id:s,x:r,y:i,uiManager:u(this,ee),isCentered:!0,...e});o&&this.add(o)}async deserialize(t){var e;return await((e=u(wo,fu).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,u(this,ee)))||null}createAndAddNewEditor(t,e,r={}){const i=this.getNextId(),s=F(this,xn,P3).call(this,{parent:this,id:i,x:t.offsetX,y:t.offsetY,uiManager:u(this,ee),isCentered:e,...r});return s&&this.add(s),s}addNewEditor(t={}){this.createAndAddNewEditor(F(this,xn,k3).call(this),!0,t)}setSelected(t){u(this,ee).setSelected(t)}toggleSelected(t){u(this,ee).toggleSelected(t)}unselect(t){u(this,ee).unselect(t)}pointerup(t){var i;const{isMac:e}=Wr.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!u(this,du)||(C(this,du,!1),(i=u(this,xn,ua))!=null&&i.isDrawer&&u(this,xn,ua).supportMultipleDrawings))return;if(!u(this,bg)){C(this,bg,!0);return}const r=u(this,ee).getMode();if(r===ve.STAMP||r===ve.SIGNATURE){u(this,ee).unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){var i;if(u(this,ee).getMode()===ve.HIGHLIGHT&&this.enableTextSelection(),u(this,du)){C(this,du,!1);return}const{isMac:e}=Wr.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(C(this,du,!0),(i=u(this,xn,ua))!=null&&i.isDrawer){this.startDrawingSession(t);return}const r=u(this,ee).getActive();C(this,bg,!r||r.isEmpty())}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),u(this,Oo)){u(this,xn,ua).startDrawing(this,u(this,ee),!1,t);return}u(this,ee).setCurrentDrawingSession(this),C(this,Oo,new AbortController);const e=u(this,ee).combinedSignal(u(this,Oo));this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(C(this,jl,null),this.commitOrRemove())},{signal:e}),u(this,xn,ua).startDrawing(this,u(this,ee),!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&C(this,jl,e);return}u(this,jl)&&setTimeout(()=>{var e;(e=u(this,jl))==null||e.focus(),C(this,jl,null)},0)}endDrawingSession(t=!1){return u(this,Oo)?(u(this,ee).setCurrentDrawingSession(null),u(this,Oo).abort(),C(this,Oo,null),C(this,jl,null),u(this,xn,ua).endDrawing(t)):null}findNewParent(t,e,r){const i=u(this,ee).findParent(e,r);return i===null||i===this?!1:(i.changeParent(t),!0)}commitOrRemove(){return u(this,Oo)?(this.endDrawingSession(),!0):!1}onScaleChanging(){u(this,Oo)&&u(this,xn,ua).onScaleChangingWhenDrawing(this)}destroy(){var t,e;this.commitOrRemove(),((t=u(this,ee).getActive())==null?void 0:t.parent)===this&&(u(this,ee).commitOrRemove(),u(this,ee).setActiveEditor(null)),u(this,Dl)&&(clearTimeout(u(this,Dl)),C(this,Dl,null));for(const r of u(this,Qs).values())(e=u(this,xd))==null||e.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,u(this,Qs).clear(),u(this,ee).removeLayer(this)}render({viewport:t}){this.viewport=t,Fd(this.div,t);for(const e of u(this,ee).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){u(this,ee).commitOrRemove(),F(this,xn,e5).call(this);const e=this.viewport.rotation,r=t.rotation;if(this.viewport=t,Fd(this.div,{rotation:r}),e!==r)for(const i of u(this,Qs).values())i.rotate(r)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return u(this,ee).viewParameters.realScale}};xd=new WeakMap,bg=new WeakMap,ka=new WeakMap,hu=new WeakMap,Dl=new WeakMap,Qs=new WeakMap,du=new WeakMap,xg=new WeakMap,Ad=new WeakMap,Oo=new WeakMap,jl=new WeakMap,li=new WeakMap,Bl=new WeakMap,ee=new WeakMap,fu=new WeakMap,xn=new WeakSet,K8=function(t){u(this,ee).unselectAll();const{target:e}=t;if(e===u(this,li).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&u(this,li).div.contains(e)){const{isMac:r}=Wr.platform;if(t.button!==0||t.ctrlKey&&r)return;u(this,ee).showAllEditors("highlight",!0,!0),u(this,li).div.classList.add("free"),this.toggleDrawing(),V5.startHighlighting(this,u(this,ee).direction==="ltr",{target:u(this,li).div,x:t.x,y:t.y}),u(this,li).div.addEventListener("pointerup",()=>{u(this,li).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:u(this,ee)._signal}),t.preventDefault()}},ua=function(){return u(wo,fu).get(u(this,ee).getMode())},P3=function(t){const e=u(this,xn,ua);return e?new e.prototype.constructor(t):null},k3=function(){const{x:t,y:e,width:r,height:i}=this.div.getBoundingClientRect(),s=Math.max(0,t),o=Math.max(0,e),a=Math.min(window.innerWidth,t+r),l=Math.min(window.innerHeight,e+i),c=(s+a)/2-t,h=(o+l)/2-e,[d,g]=this.viewport.rotation%180===0?[c,h]:[h,c];return{offsetX:d,offsetY:g}},e5=function(){for(const t of u(this,Qs).values())t.isEmpty()&&t.remove()},It(wo,"_initialized",!1),k(wo,fu,new Map([o3,w3,C3,V5,E3].map(t=>[t._editorType,t])));let L3=wo;var Do,Ai,Sd,f2,hw,Q8,Ua,R3,J8,I3;const hr=class hr{constructor({pageIndex:t}){k(this,Ua);k(this,Do,null);k(this,Ai,new Map);k(this,Sd,new Map);this.pageIndex=t}setParent(t){if(!u(this,Do)){C(this,Do,t);return}if(u(this,Do)!==t){if(u(this,Ai).size>0)for(const e of u(this,Ai).values())e.remove(),t.append(e);C(this,Do,t)}}static get _svgFactory(){return Me(this,"_svgFactory",new q5)}draw(t,e=!1,r=!1){const i=Sr(hr,f2)._++,s=F(this,Ua,R3).call(this),o=hr._svgFactory.createElement("defs");s.append(o);const a=hr._svgFactory.createElement("path");o.append(a);const l=`path_p${this.pageIndex}_${i}`;a.setAttribute("id",l),a.setAttribute("vector-effect","non-scaling-stroke"),e&&u(this,Sd).set(i,a);const c=r?F(this,Ua,J8).call(this,o,l):null,h=hr._svgFactory.createElement("use");return s.append(h),h.setAttribute("href",`#${l}`),this.updateProperties(s,t),u(this,Ai).set(i,s),{id:i,clipPathId:`url(#${c})`}}drawOutline(t,e){const r=Sr(hr,f2)._++,i=F(this,Ua,R3).call(this),s=hr._svgFactory.createElement("defs");i.append(s);const o=hr._svgFactory.createElement("path");s.append(o);const a=`path_p${this.pageIndex}_${r}`;o.setAttribute("id",a),o.setAttribute("vector-effect","non-scaling-stroke");let l;if(e){const d=hr._svgFactory.createElement("mask");s.append(d),l=`mask_p${this.pageIndex}_${r}`,d.setAttribute("id",l),d.setAttribute("maskUnits","objectBoundingBox");const g=hr._svgFactory.createElement("rect");d.append(g),g.setAttribute("width","1"),g.setAttribute("height","1"),g.setAttribute("fill","white");const f=hr._svgFactory.createElement("use");d.append(f),f.setAttribute("href",`#${a}`),f.setAttribute("stroke","none"),f.setAttribute("fill","black"),f.setAttribute("fill-rule","nonzero"),f.classList.add("mask")}const c=hr._svgFactory.createElement("use");i.append(c),c.setAttribute("href",`#${a}`),l&&c.setAttribute("mask",`url(#${l})`);const h=c.cloneNode();return i.append(h),c.classList.add("mainOutline"),h.classList.add("secondaryOutline"),this.updateProperties(i,t),u(this,Ai).set(r,i),r}finalizeDraw(t,e){u(this,Sd).delete(t),this.updateProperties(t,e)}updateProperties(t,e){var l;if(!e)return;const{root:r,bbox:i,rootClass:s,path:o}=e,a=typeof t=="number"?u(this,Ai).get(t):t;if(a){if(r&&F(this,Ua,I3).call(this,a,r),i&&F(l=hr,hw,Q8).call(l,a,i),s){const{classList:c}=a;for(const[h,d]of Object.entries(s))c.toggle(h,d)}if(o){const h=a.firstChild.firstChild;F(this,Ua,I3).call(this,h,o)}}}updateParent(t,e){if(e===this)return;const r=u(this,Ai).get(t);r&&(u(e,Do).append(r),u(this,Ai).delete(t),u(e,Ai).set(t,r))}remove(t){u(this,Sd).delete(t),u(this,Do)!==null&&(u(this,Ai).get(t).remove(),u(this,Ai).delete(t))}destroy(){C(this,Do,null);for(const t of u(this,Ai).values())t.remove();u(this,Ai).clear(),u(this,Sd).clear()}};Do=new WeakMap,Ai=new WeakMap,Sd=new WeakMap,f2=new WeakMap,hw=new WeakSet,Q8=function(t,[e,r,i,s]){const{style:o}=t;o.top=`${100*r}%`,o.left=`${100*e}%`,o.width=`${100*i}%`,o.height=`${100*s}%`},Ua=new WeakSet,R3=function(){const t=hr._svgFactory.create(1,1,!0);return u(this,Do).append(t),t.setAttribute("aria-hidden",!0),t},J8=function(t,e){const r=hr._svgFactory.createElement("clipPath");t.append(r);const i=`clip_${e}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const s=hr._svgFactory.createElement("use");return r.append(s),s.setAttribute("href",`#${e}`),s.classList.add("clip"),i},I3=function(t,e){for(const[r,i]of Object.entries(e))i===null?t.removeAttribute(r):t.setAttribute(r,i)},k(hr,hw),k(hr,f2,0);let T3=hr;globalThis._pdfjsTestingUtils={HighlightOutliner:l3};globalThis.pdfjsLib={AbortException:Mu,AnnotationEditorLayer:L3,AnnotationEditorParamsType:Fe,AnnotationEditorType:ve,AnnotationEditorUIManager:Od,AnnotationLayer:r3,AnnotationMode:Ec,AnnotationType:er,build:GH,ColorPicker:$5,createValidAbsoluteUrl:$T,DOMSVGFactory:q5,DrawLayer:T3,FeatureTest:Wr,fetchData:N2,getDocument:UH,getFilenameFromUrl:jq,getPdfFilenameFromUrl:Bq,getUuid:GT,getXfaPageViewport:Uq,GlobalWorkerOptions:Ra,ImageKind:Ey,InvalidPDFException:vS,isDataScheme:Zw,isPdfFile:o4,isValidExplicitDest:Jq,MathClamp:_i,noContextMenu:Go,normalizeUnicode:Fq,OPS:j5,OutputScale:za,PasswordResponses:Cq,PDFDataRangeTransport:YR,PDFDateString:a4,PDFWorker:j0,PermissionFlag:Eq,PixelsPerInch:Fu,RenderingCancelledException:s4,ResponseException:B5,setLayerDimensions:Fd,shadow:Me,SignatureExtractor:zl,stopEvent:nr,SupportedImageMimeTypes:wS,TextLayer:O0,TouchManager:U5,updateUrlHash:VT,Util:re,VerbosityLevel:Kw,version:WH,XfaLayer:JR};Ra.workerSrc="/assets/pdf.worker.min.js";function g$(){const[n,t]=Z.useState(""),[e,r]=Z.useState(""),[i,s]=Z.useState(""),[o,a]=Z.useState(!1),[l,c]=Z.useState(""),[h,d]=Z.useState({fullName:"",email:"",phone:"",address:"",summary:"",skills:"",experience:"",education:""}),{toast:g}=L_(),f=async y=>{d(y);const b=`
Name: ${y.fullName}
Email: ${y.email}
Phone: ${y.phone}
Address: ${y.address}
Summary: ${y.summary}
Skills: ${Array.isArray(y.skills)?y.skills.join(", "):y.skills||""}
Experience: ${y.experience}
Education: ${y.education}
    `.trim();t(b);try{await Pn.post("http://localhost:10000/api/profile",y),console.log("✅ Profile saved to server")}catch(_){console.error("❌ Failed to save profile:",_)}};Z.useEffect(()=>{(async()=>{try{const b=await Pn.get("http://localhost:10000/api/profile");b.data&&f(b.data)}catch(b){console.error("❌ Failed to load profile:",b)}})()},[]);const w=async()=>{var y,b;if(!e.trim()){c("Please enter a job description or URL."),g({title:"Missing Information",description:"Please enter a job description or URL to continue.",variant:"destructive"});return}a(!0),c("");try{const _=await Pn.post("http://localhost:10000/api/generate-resume",{jobDescription:e,baseResume:n});s(_.data.generatedResume||_.data.suggestion),g({title:"Resume Generated!",description:"Your tailored resume has been successfully generated."})}catch(_){const N=((b=(y=_.response)==null?void 0:y.data)==null?void 0:b.message)||"Failed to generate resume. Please check the input and try again.";c(N),g({title:"Generation Failed",description:N,variant:"destructive"})}finally{a(!1)}},v=()=>{Object.keys(h).length&&(f(h),g({title:"Resume Refreshed",description:"Your resume has been updated with the latest profile information."}))},x=()=>{if(!i.trim()){g({title:"No Content",description:"Please generate or edit your resume before downloading.",variant:"destructive"});return}try{const y=new le({format:"a4",orientation:"portrait",unit:"mm"}),b=15,_=7,N=y.internal.pageSize.getWidth(),L=N-b*2;let O=20;y.setFont("helvetica","bold"),y.setFontSize(16),y.text(h.fullName,N/2,O,{align:"center"}),O+=_,y.setFont("helvetica","normal"),y.setFontSize(12),y.text("Fullstack Software Developer",N/2,O,{align:"center"}),O+=_*2,y.setFontSize(10),y.text("orinabravin6@gmail.com | +254705885972 | Nairobi Road",N/2,O,{align:"center"}),O+=_*2;const I=P=>{O+=_,y.setFont("helvetica","bold"),y.setFontSize(13),y.text(P,b,O),O+=_},D=P=>{y.setFont("helvetica","normal"),y.setFontSize(11),y.splitTextToSize(P,L).forEach(Y=>{y.text(Y,b,O),O+=_})},V=P=>{y.setFont("helvetica","normal"),y.setFontSize(11),P.forEach(j=>{y.splitTextToSize(`• ${j}`,L).forEach(H=>{y.text(H,b,O),O+=_})})};i.split(`
`).map(P=>P.trim()).filter(Boolean).forEach(P=>{/^[A-Z][A-Za-z\s]+$/.test(P)&&!P.includes(":")&&P.length<30?I(P):P.startsWith("-")||P.startsWith("•")?V([P.replace(/^[-•]\s*/,"")]):D(P),O>270&&(y.addPage(),O=20)}),y.save("tailored_resume.pdf"),g({title:"PDF Downloaded",description:"Your edited resume has been saved as a PDF file."})}catch{g({title:"Export Failed",description:"Failed to export PDF. Please try again.",variant:"destructive"})}};return it.jsxs("div",{className:"min-h-screen bg-background",children:[it.jsxs("div",{className:"bg-gradient-primary relative overflow-hidden",children:[it.jsx("div",{className:"absolute inset-0 bg-black/10"}),it.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 py-16 text-center",children:[it.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[it.jsx("div",{className:"w-12 h-12 rounded-xl bg-white/20 backdrop-blur flex items-center justify-center",children:it.jsx(zA,{className:"w-6 h-6 text-white"})}),it.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white",children:"Resume Tailor"})]}),it.jsx("p",{className:"text-xl text-white/90 max-w-2xl mx-auto leading-relaxed",children:"Create professionally tailored resumes that pass ATS systems"})]})]}),it.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:it.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[it.jsxs("div",{className:"space-y-6",children:[it.jsxs(op,{className:"p-6 bg-card shadow-card border-border/50",children:[it.jsx(Sq,{onUpdate:f}),it.jsx(r4,{className:"my-6"}),it.jsxs(d0,{onClick:v,disabled:!Object.keys(h).length,variant:"outline",className:"w-full gap-2 transition-all duration-300 hover:bg-primary hover:text-primary-foreground",children:[it.jsx(bO,{className:"w-4 h-4"}),"Refresh Resume from Profile"]})]}),it.jsxs(op,{className:"p-6 bg-card shadow-card border-border/50",children:[it.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[it.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-primary flex items-center justify-center shadow-sm",children:it.jsx($k,{className:"w-5 h-5 text-primary-foreground"})}),it.jsxs("div",{children:[it.jsx("h3",{className:"text-lg font-semibold text-card-foreground",children:"Job Targeting"}),it.jsx("p",{className:"text-sm text-muted-foreground",children:"Tailor your resume to specific opportunities"})]})]}),it.jsxs("div",{className:"space-y-4",children:[it.jsxs("div",{className:"space-y-2",children:[it.jsxs(e4,{htmlFor:"job-input",className:"text-sm font-medium flex items-center gap-2",children:[it.jsx(_O,{className:"w-4 h-4 text-primary"}),"Job Description or URL"]}),it.jsx(t4,{id:"job-input",value:e,onChange:y=>r(y.target.value),placeholder:"Paste job description or job posting URL...",className:"bg-input border-border focus:ring-ring focus:border-ring transition-colors"})]}),it.jsx(d0,{onClick:w,disabled:o||!e.trim(),className:"w-full bg-gradient-primary hover:opacity-90 text-primary-foreground shadow-primary gap-2 transition-all duration-300",children:o?it.jsxs(it.Fragment,{children:[it.jsx(mO,{className:"w-4 h-4 animate-spin"}),"Generating Tailored Resume..."]}):it.jsxs(it.Fragment,{children:[it.jsx(xO,{className:"w-4 h-4"}),"Generate Tailored Resume"]})}),l&&it.jsxs("div",{className:"flex items-start gap-3 p-4 bg-destructive/10 border border-destructive/20 rounded-lg",children:[it.jsx(hO,{className:"w-5 h-5 text-destructive flex-shrink-0 mt-0.5"}),it.jsxs("div",{children:[it.jsx("p",{className:"text-sm font-medium text-destructive",children:"Generation Error"}),it.jsx("p",{className:"text-sm text-destructive/80 mt-1",children:l})]})]})]})]})]}),it.jsx("div",{className:"lg:sticky lg:top-4 lg:self-start",children:it.jsxs(op,{className:"p-6 bg-card shadow-card border-border/50 h-[calc(100vh-2rem)]",children:[it.jsxs("div",{className:"flex items-center justify-between mb-6",children:[it.jsxs("div",{className:"flex items-center gap-3",children:[it.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-primary flex items-center justify-center shadow-sm",children:it.jsx(fO,{className:"w-5 h-5 text-primary-foreground"})}),it.jsxs("div",{children:[it.jsx("h3",{className:"text-lg font-semibold text-card-foreground",children:"Live Preview"}),it.jsx("p",{className:"text-sm text-muted-foreground",children:"Edit and export"})]})]}),i&&it.jsxs(d0,{onClick:x,size:"sm",className:"bg-gradient-primary hover:opacity-90 text-primary-foreground shadow-primary gap-2",children:[it.jsx(dO,{className:"w-4 h-4"}),"Export PDF"]})]}),it.jsx("div",{className:"flex-1 flex flex-col h-[calc(100%-4rem)]",children:i?it.jsxs("div",{className:"flex-1 flex flex-col gap-4",children:[it.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[it.jsx(my,{className:"w-4 h-4 text-green-500"}),"Ready for review and customization"]}),it.jsx(n4,{value:i,onChange:y=>s(y.target.value),className:"flex-1 resize-none bg-background border-border focus:ring-ring focus:border-ring font-mono text-sm leading-relaxed p-4",placeholder:"Your tailored resume will appear here..."})]}):it.jsx("div",{className:"flex-1 flex items-center justify-center",children:it.jsxs("div",{className:"text-center max-w-sm",children:[it.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-secondary flex items-center justify-center mx-auto mb-4",children:it.jsx(zA,{className:"w-10 h-10 text-muted-foreground"})}),it.jsx("h4",{className:"text-lg font-semibold text-card-foreground mb-2",children:"Ready to Generate"}),it.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:"Complete your profile and add a job description to generate resume."})]})})})]})})]})})]})}const m$=()=>it.jsx(g$,{}),v$=()=>{const n=W6();return Z.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",n.pathname)},[n.pathname]),it.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:it.jsxs("div",{className:"text-center",children:[it.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),it.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),it.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},y$=new GB,w$=()=>it.jsx(YB,{client:y$,children:it.jsxs(SB,{children:[it.jsx(oD,{}),it.jsx(jD,{}),it.jsx(O9,{children:it.jsxs(I9,{children:[it.jsx(KA,{path:"/",element:it.jsx(m$,{})}),it.jsx(KA,{path:"*",element:it.jsx(v$,{})})]})})]})});pk(document.getElementById("root")).render(it.jsx(w$,{}));export{Je as _,x$ as c,ZN as g};
